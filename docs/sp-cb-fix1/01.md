# 一、编译扩展

*   [使用 mingw 在 Windows 上编译扩展模块](CompilingExtensionsOnWindowsWithMinGW.html)

# 使用 mingw 在 Windows 上编译扩展模块

# 使用 mingw 在 Windows 上编译扩展模块

## 先决条件

1.  Python 2.5(使用早期版本的 Python，用 mingw 编译扩展要复杂得多。如果无法升级到 Python 2.5，请使用 visual Studio 2003)
2.  您机器上的本地管理员访问权限

## 编译器设置

1.  去 www.mingw.org，去网站的“下载”部分。寻找 sourceforge 页面的链接，然后去那里。获取最新版本的“自动 MinGW 安装程序”并运行安装程序。

2.  当被问及“您希望安装哪个 MinGW 软件包”时，根据您是否希望处于领先地位，选择“当前”或“候选”。

3.  当您到达需要选择您想要安装的各种组件的部分时，包括“基本工具”和“g++编译器”，如果您要编译一些使用 Fortran 的扩展，可能还包括 g77 编译器。

4.  将其安装到“C:”位置(默认位置)

5.  如果安装程序没有为您这样做，请将“C:”添加到您的 PATH 环境变量中。如果您正在运行 Vista，您还需要将“C:32.4.5”添加到您的路径中

6.  在记事本(或您最喜欢的文本编辑器)中创建新的文本文件，并在文件中输入以下内容:

    [build]编译器= mingw32

7.  将文件保存为“C:25.cfg”。这将告诉 python 在编译扩展时使用 MinGW 编译器

8.  关闭所有打开的命令提示(需要重新打开它们才能看到新的环境变量值)

## 编译扩展(通过 distutils)

注意:这仅适用于具有使用 distutils 的 setup.py 脚本的模块

1.  假设您已经将某个模块的代码下载到文件夹“xyz”中。打开一个命令提示符，然后将光盘放入该目录(例如，键入“C:”然后按 enter 键切换到 c 盘，然后键入“cd c:”切换到目录 xyz)
2.  要创建二进制安装程序，请键入“python setup.py bdist_wininst”
3.  如果一切正常，那么现在应该有一个名为" dist "的子文件夹，其中包含一个可以运行的 exe 文件来安装模块。