# 碰撞检测

> 原文：[`phys-sim-book.github.io/lec24.2-collision_detection.html`](https://phys-sim-book.github.io/lec24.2-collision_detection.html)



3D 中的碰撞检测可能比 2D 更为计算密集，因为涉及到的表面原语数量更多。幸运的是，像空间哈希和边界体积层次结构（BVH）这样的空间数据结构有助于有效地减少候选原语对的数量，使得连续碰撞检测（CCD）更加可管理。

### 空间哈希

空间哈希的核心思想是将空间划分为一个均匀的网格，并为每个网格单元分配一个数组来存储与该单元相交的边界框的原语索引。为了找到给定原语 A（例如，一个点）的附近原语，我们识别与 A 的边界框相交的网格单元，并检索这些单元中存储的原语索引。这种方法确保只有附近的原语才使用 CCD 进行碰撞检查，从而消除了检查所有原语对的需要。

### 边界体积层次结构 (BVH)

BVH 是另一种有效的广泛相碰撞检测方法。它将原语组织成一个边界体积的层次结构，在检测潜在的碰撞时允许有效地剪枝搜索空间。

### ACCD 方法

如在 连续碰撞检测 中讨论的 ACCD（自适应连续碰撞检测）方法适用于 3D。在这种情况下，距离计算需要适应点-三角形和边-边对。

### 广泛相碰撞检测

对于计算势能、梯度和 Hessian，首先收集一组附近的候选原语对是更快且必要的。然后，我们计算它们之间的距离以确定它们是否活跃（即，在距离 d^ 内）。这个过程是广泛相碰撞检测的一部分，可以使用空间哈希或 BVH 高效实现。

通过使用这些空间数据结构，我们显著降低了计算负担，将详细的碰撞检查集中在附近原语的可管理子集上。
