# 17.4 æœ€çŸ­ï¼ˆæˆ–æœ€è½»ï¼‰è·¯å¾„ğŸ”—

> åŸæ–‡ï¼š[`dcic-world.org/2025-08-27/lightest-paths.html`](https://dcic-world.org/2025-08-27/lightest-paths.html)

| |
| --- |

æƒ³è±¡è§„åˆ’ä¸€æ¬¡æ—…è¡Œï¼šä½ è‡ªç„¶å¸Œæœ›ä»¥æœ€çŸ­çš„æ—¶é—´ã€æœ€å°‘çš„é‡‘é’±æˆ–å…¶ä»–æ¶‰åŠæœ€å°åŒ–è¾¹æƒé‡æ€»å’Œçš„æ ‡å‡†åˆ°è¾¾ç›®çš„åœ°ã€‚è¿™è¢«ç§°ä¸ºè®¡ç®—æœ€çŸ­è·¯å¾„ã€‚

æˆ‘ä»¬åº”è¯¥ç«‹å³æ¾„æ¸…ä¸€ä¸ªä¸å¹¸çš„æœ¯è¯­æ··æ·†ã€‚æˆ‘ä»¬çœŸæ­£æƒ³è¦è®¡ç®—çš„æ˜¯æœ€çŸ­è·¯å¾„â€”â€”å³æƒé‡æœ€å°çš„è·¯å¾„ã€‚ä¸å¹¸çš„æ˜¯ï¼Œè®¡ç®—æœºç§‘å­¦æœ¯è¯­å·²ç»å›ºå®šäº†æˆ‘ä»¬åœ¨è¿™é‡Œä½¿ç”¨çš„æœ¯è¯­ï¼›åªéœ€ç¡®ä¿ä¸è¦å­—é¢ç†è§£å³å¯ã€‚

> ç»ƒä¹ 
> 
> > æ„å»ºä¸€ä¸ªå›¾ï¼Œå¹¶é€‰æ‹©å›¾ä¸­çš„ä¸¤ä¸ªèŠ‚ç‚¹ï¼Œä½¿å¾—ä»ä¸€ä¸ªèŠ‚ç‚¹åˆ°å¦ä¸€ä¸ªèŠ‚ç‚¹çš„æœ€çŸ­è·¯å¾„ä¸æ˜¯æœ€è½»çš„ï¼Œåä¹‹äº¦ç„¶ã€‚

æˆ‘ä»¬å·²ç»çœ‹åˆ° [æ·±åº¦ä¼˜å…ˆæœç´¢å’Œå¹¿åº¦ä¼˜å…ˆæœç´¢]ï¼Œå¹¿åº¦ä¼˜å…ˆæœç´¢åœ¨æ— æƒå›¾ä¸­æ„å»ºæœ€çŸ­è·¯å¾„ã€‚å½“æ²¡æœ‰æƒé‡ï¼ˆæˆ–ç­‰ä»·åœ°ï¼Œæ‰€æœ‰æƒé‡éƒ½æ˜¯ç›¸åŒä¸”æ­£çš„ï¼‰æ—¶ï¼Œè¿™äº›å¯¹åº”äºæœ€è½»è·¯å¾„ã€‚ç°åœ¨æˆ‘ä»¬å¿…é¡»å°†è¿™ä¸€ç‚¹æ¨å¹¿åˆ°è¾¹æœ‰æƒé‡çš„æƒ…å†µã€‚

æˆ‘ä»¬å°†é‡‡ç”¨å½’çº³æ³•ï¼Œé€æ­¥å®šä¹‰ä¸€ä¸ªçœ‹ä¼¼è¿™ç§ç±»å‹çš„å‡½æ•°

```py
w :: Key -> Number
```

è¿™åæ˜ äº†ä»æºèŠ‚ç‚¹åˆ°è¯¥èŠ‚ç‚¹çš„æœ€çŸ­è·¯å¾„çš„æƒé‡ã€‚ä½†è®©æˆ‘ä»¬è€ƒè™‘è¿™ä¸ªæ³¨é‡Šï¼šç”±äºæˆ‘ä»¬æ˜¯é€ä¸ªèŠ‚ç‚¹æ„å»ºçš„ï¼Œæœ€åˆå¤§å¤šæ•°èŠ‚ç‚¹æ²¡æœ‰è¦æŠ¥å‘Šçš„æƒé‡ï¼›ç”šè‡³åœ¨æœ€åï¼Œä¸€ä¸ªæ— æ³•ä»æºèŠ‚ç‚¹åˆ°è¾¾çš„èŠ‚ç‚¹å°†æ²¡æœ‰æœ€çŸ­ï¼ˆæˆ–å®é™…ä¸Šä»»ä½•ï¼‰è·¯å¾„çš„æƒé‡ã€‚è€Œä¸æ˜¯ç¼–é€ ä¸€ä¸ªæ•°å­—æ¥å‡è£…åæ˜ è¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¸€ä¸ªé€‰é¡¹ç±»å‹ï¼š

```py
w :: Key -> Option<Number>
```

å½“å­˜åœ¨æŸä¸ªå€¼æ—¶ï¼Œå®ƒå°†æ˜¯æƒé‡ï¼›å¦åˆ™ï¼Œæƒé‡å°†æ˜¯â€œæ— â€ã€‚

ç°åœ¨è®©æˆ‘ä»¬å½’çº³åœ°æ€è€ƒä¸€ä¸‹ã€‚æˆ‘ä»¬æœ€åˆçŸ¥é“ä»€ä¹ˆï¼Ÿå¥½å§ï¼Œå½“ç„¶ï¼ŒæºèŠ‚ç‚¹åˆ°è‡ªèº«çš„è·ç¦»æ˜¯é›¶ï¼ˆè¿™å¿…é¡»æ˜¯æœ€çŸ­è·¯å¾„ï¼Œå› ä¸ºæˆ‘ä»¬æ— æ³•æ›´è½»ï¼‰ã€‚è¿™ç»™æˆ‘ä»¬ä¸€ä¸ªï¼ˆå¹³å‡¡çš„ï¼‰èŠ‚ç‚¹é›†åˆï¼Œå¯¹äºè¿™äº›èŠ‚ç‚¹æˆ‘ä»¬å·²ç»çŸ¥é“æœ€çŸ­æƒé‡ã€‚æˆ‘ä»¬çš„ç›®æ ‡æ˜¯æ‰©å±•è¿™ä¸ªèŠ‚ç‚¹é›†åˆâ€”â€”åœ¨æ¯æ¬¡è¿­ä»£ä¸­é€‚åº¦åœ°å¢åŠ ä¸€ä¸ªèŠ‚ç‚¹â€”â€”ç›´åˆ°æˆ‘ä»¬æ‰¾åˆ°ç›®çš„åœ°ï¼Œæˆ–è€…æˆ‘ä»¬æ²¡æœ‰æ›´å¤šçš„èŠ‚ç‚¹å¯ä»¥æ·»åŠ ï¼ˆåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬çš„ç›®çš„åœ°æ— æ³•ä»æºèŠ‚ç‚¹åˆ°è¾¾ï¼‰ã€‚

å½’çº³åœ°ï¼Œåœ¨æ¯ä¸€æ­¥ä¸­ï¼Œæˆ‘ä»¬éƒ½æœ‰æ‰€æœ‰å·²çŸ¥æœ€çŸ­è·¯å¾„çš„èŠ‚ç‚¹é›†åˆï¼ˆæœ€åˆè¿™ä»…ä»…æ˜¯æºèŠ‚ç‚¹ï¼Œä½†è¿™ç¡®å®æ„å‘³ç€è¿™ä¸ªé›†åˆæ°¸è¿œä¸ä¼šä¸ºç©ºï¼Œè¿™åœ¨æ¥ä¸‹æ¥çš„è®¨è®ºä¸­ä¼šå¾ˆé‡è¦ï¼‰ã€‚ç°åœ¨è€ƒè™‘æ‰€æœ‰ä¸è¿™ä¸ªèŠ‚ç‚¹é›†åˆç›¸é‚»çš„è¾¹ï¼Œè¿™äº›è¾¹é€šå‘é‚£äº›æˆ‘ä»¬å°šæœªçŸ¥é“æœ€çŸ­è·¯å¾„çš„èŠ‚ç‚¹ã€‚é€‰æ‹©ä¸€ä¸ªèŠ‚ç‚¹ï¼Œè®°ä¸º \(q\)ï¼Œä½¿å¾—åˆ°è¾¾è¯¥èŠ‚ç‚¹çš„è·¯å¾„æ€»æƒé‡æœ€å°ã€‚æˆ‘ä»¬æ–­è¨€è¿™å®é™…ä¸Šå°†æ˜¯åˆ°è¾¾è¯¥èŠ‚ç‚¹çš„æœ€çŸ­è·¯å¾„ã€‚

å¦‚æœè¿™ä¸ªè¯´æ³•æ˜¯æ­£ç¡®çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å®Œæˆäº†ã€‚è¿™æ˜¯å› ä¸ºæˆ‘ä»¬ç°åœ¨ä¼šå°† \(q\) æ·»åŠ åˆ°å·²çŸ¥æœ€å°æƒé‡çš„èŠ‚ç‚¹é›†åˆä¸­ï¼Œå¹¶ä»é‚£é‡Œé‡å¤å¯»æ‰¾æœ€è½»å‡ºè¾¹çš„è¿‡ç¨‹ã€‚è¿™ä¸ªè¿‡ç¨‹å› æ­¤å¢åŠ äº†ä¸€ä¸ªèŠ‚ç‚¹ã€‚åœ¨æŸä¸ªæ—¶åˆ»ï¼Œæˆ‘ä»¬ä¼šå‘ç°æ²¡æœ‰è¾¹èƒ½ä»å·²çŸ¥é›†åˆä¸­å¼•å‡ºï¼Œè¿™æ—¶æˆ‘ä»¬å¯ä»¥ç»ˆæ­¢ã€‚

æœ‰ç†ç”±ç›¸ä¿¡åœ¨è¿™ä¸ªç‚¹ä¸Šç»ˆæ­¢æ˜¯å®‰å…¨çš„ï¼šå®ƒå¯¹åº”äºå·²ç»è®¡ç®—äº†å¯è¾¾é›†åˆã€‚å”¯ä¸€å‰©ä¸‹çš„äº‹æƒ…æ˜¯è¦è¯æ˜è¿™ä¸ªè´ªå¿ƒç®—æ³•ä¸ºæ¯ä¸ªèŠ‚ç‚¹æä¾›äº†æœ€çŸ­è·¯å¾„ã€‚

æˆ‘ä»¬å°†é€šè¿‡åè¯æ³•æ¥è¯æ˜è¿™ä¸€ç‚¹ã€‚å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªä»æºç‚¹ \(s\) åˆ°èŠ‚ç‚¹ \(d\) çš„è·¯å¾„ \(s \rightarrow d\)ï¼Œè¿™æ˜¯é€šè¿‡ä¸Šè¿°ç®—æ³•æ‰¾åˆ°çš„ï¼Œä½†å‡è®¾æˆ‘ä»¬è¿˜æœ‰ä¸€ä¸ªå®é™…ä¸Šæ›´è½»çš„è·¯å¾„ã€‚åœ¨æ¯ä¸€æ­¥ï¼Œå½“æˆ‘ä»¬æ²¿ç€ \(s \rightarrow d\) è·¯å¾„æ·»åŠ ä¸€ä¸ªèŠ‚ç‚¹æ—¶ï¼Œå¦‚æœå­˜åœ¨æ›´è½»çš„è·¯å¾„ï¼Œç®—æ³•ä¼šæ·»åŠ ä¸€ä¸ªæ›´è½»çš„è·¯å¾„ã€‚å®ƒæ²¡æœ‰è¿™æ ·åšçš„äº‹å®å¦å®šäº†å­˜åœ¨æ›´è½»è·¯å¾„çš„æ–­è¨€ï¼ˆå¯èƒ½å­˜åœ¨ä¸€ä¸ªç›¸åŒæƒé‡çš„ä¸åŒè·¯å¾„ï¼›è¿™ä¼šè¢«ç®—æ³•å…è®¸ï¼Œä½†è¿™ä¹Ÿä¸ä¸æˆ‘ä»¬çš„æ–­è¨€ç›¸çŸ›ç›¾ï¼‰ã€‚å› æ­¤ï¼Œç®—æ³•ç¡®å®æ‰¾åˆ°äº†æœ€çŸ­è·¯å¾„ã€‚

å‰©ä¸‹çš„å·¥ä½œæ˜¯è¦ç¡®å®šä¸€ç§æ•°æ®ç»“æ„ï¼Œä½¿å¾—è¿™ä¸ªç®—æ³•èƒ½å¤Ÿå®ç°ã€‚åœ¨æ¯ä¸€ä¸ªèŠ‚ç‚¹ï¼Œæˆ‘ä»¬å¸Œæœ›çŸ¥é“ä»é‚£äº›æˆ‘ä»¬çŸ¥é“æœ€å°æƒé‡çš„èŠ‚ç‚¹é›†åˆä¸­ï¼Œåˆ°å®ƒä»¬æ‰€æœ‰é‚»å±…çš„æœ€å°æƒé‡ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡æ’åºæ¥å®ç°è¿™ä¸€ç‚¹ï¼Œä½†è¿™è¿‡äºå¤æ‚äº†ï¼šæˆ‘ä»¬å®é™…ä¸Šå¹¶ä¸éœ€è¦å¯¹æ‰€æœ‰è¿™äº›æƒé‡è¿›è¡Œå®Œå…¨æ’åºï¼Œåªéœ€è¦çŸ¥é“æœ€è½»çš„é‚£ä¸ªã€‚ä¸€ä¸ªå †ï¼ˆè§ç»´åŸºç™¾ç§‘[Heap (data structure)](https://en.wikipedia.org/wiki/Heap_(data_structure)))å¯ä»¥ç»™æˆ‘ä»¬æä¾›è¿™ä¸ªã€‚

> ç»ƒä¹ 
> 
> > å¦‚æœæˆ‘ä»¬å…è®¸æƒé‡ä¸ºé›¶çš„è¾¹å‘¢ï¼Ÿä¸Šè¿°ç®—æ³•ä¼šæœ‰ä»€ä¹ˆå˜åŒ–ï¼Ÿ
> > 
> ç»ƒä¹ 
> 
> > å¦‚æœæˆ‘ä»¬å…è®¸è´Ÿæƒé‡çš„è¾¹å‘¢ï¼Ÿä¸Šè¿°ç®—æ³•ä¼šæœ‰ä»€ä¹ˆå˜åŒ–ï¼Ÿåœ¨æ€è€ƒäº†ä¸€æ®µæ—¶é—´åï¼Œè¯·æŸ¥çœ‹[è¿™ç¯‡æ–‡ç« ](https://www.quantamagazine.org/finally-a-fast-algorithm-for-shortest-paths-on-negative-graphs-20230118/)ã€‚

ä¾›æ‚¨å‚è€ƒï¼Œè¿™ä¸ªç®—æ³•è¢«ç§°ä¸ºè¿ªæ°æ–¯ç‰¹æ‹‰ç®—æ³•ï¼ˆDijkstraâ€™s Algorithmï¼‰ã€‚
