# Evernote 首席技术官谈 3 到 300 名员工最大的安全隐患

> 原文：<https://review.firstround.com/Evernotes-CTO-on-Your-Biggest-Security-Worries-From-Three-Employees-to-300>

戴夫·恩伯格 非常了解安全。在出任 **[Evernote](https://evernote.com/ "null")** 首席技术官之前，他为美国政府设计并开发了凭证验证系统。如果硅谷有人知道安全访问和保护信息安全的价值，那就是他。

尤其是现在，像 TechCrunch 这样的出版物一发现违规和攻击就进行报道，这种类型的事件可能会摧毁初创公司的潜力，尤其是如果处理不当的话。然而，许多公司直到为时已晚才开始考虑建立防御。在观察了相当多的事件并在今年早些时候亲身经历了一次之后，Engberg 想知道为什么没有一个全面的指南来指导初创公司应该如何在每个阶段处理安全问题——从最早开始。

考虑到这一点，他在最近的首轮 CTO 峰会上发表了一篇关于安全性的独家演讲，以及成长型初创公司在不浪费宝贵资源的情况下保持安全的正确方法。

说到安全性，大小很重要。与像 Square 或 Dropbox 这样的公司相比，一家小型创业公司有着非常不同的需求。对于适当规模的安全策略，Engberg 提到了三倍法则。这是他从日本电子商务巨头乐天首席执行官三木谷浩史那里得到的概念。

“基本上，他说，每当一家公司增长两倍，从 3 到 10 或从 30 到 100，公司的整个进程都会改变，”恩伯格解释说。“当我回顾过去时，从我的经历中，我真的觉得这是真的。30 岁时你对自己公司的看法与 100 岁或 300 岁时是如此不同。这也是我认为安全方法应该如何分解的原因。”

然而，有一条规则适用于所有初创公司:

只有当实施安全措施的成本小于您要防范的风险时，才采取措施。

正如 Engberg 所说，每个创业公司可能都意识到他们有一些漏洞——或大或小——根本不值得立即修复。“有些事情我们可以优化，但最终不值得我们的工程师花费时间，”他说。"随着公司的成长，值得花时间考虑的安全问题也会增加."

**1 至 3 名员工**

“在这个阶段，你只是想让事情运转起来，”恩伯格说。"从安全的角度来看，你不应该做太多."

当你刚刚起步时，你的时间和金钱都很少。目前还不清楚你是否会得到一些东西。在大多数情况下，你的目光需要集中在资金和产品功能上，仅此而已。“在安全方面，你唯一需要做的就是确保你不会做任何愚蠢的、可怕的错误的事情。”

你不希望你在 TechCrunch 上的第一篇文章就说‘这家你从未听说过的初创公司正在发送你的信用卡号。’

这是最坏的情况。幸运的是，它可以通过最低限度的警惕来预防。将最终的安全需求放在脑后很重要——特别是如果您需要将种子资金延伸到下一阶段——但仅此而已。

然而，如果你是 CTO，这个责任属于你。在这一点上，你的公司不可能也不应该雇佣一个头衔中带有“安全”一词的人，所以那个人就是你。没有人会关注潜在的安全问题以及它们将如何与您的公司一起扩展。利用这段时间钻研你需要知道的东西。

**4 到 10 名员工**

“好吧，现在你已经有了一个原型，而且肯定有一些种子资金可以使用，”Engberg 说。“这是你需要做出一些核心产品决策的时候，这些决策会对你产生影响。你需要花几天时间来思考这些事情，并把它们做好。如果你选错了，当你到了 60 岁的时候，你不得不改造或拆除一些东西，这将是一个巨大的噩梦，你会恨自己。”

尽管如此，这并不需要特别围绕安全性采取重大行动——只是一些您无论如何都需要做出的核心产品卫生决策。

“这包括平台选择这样简单的事情，”他说。“例如，您是如何存储密码的？如果您有正在创建帐户的用户，请确保存储他们的密码或其密码的表示形式，这样可以以安全的形式验证他们的密码，因为您不想要求他们更换密码。这样做是有代价的。”

Engberg 敦促早期创业团队选择开箱即用的工具和库。一个显而易见的方法是将 SSL 用于所有的网络通信。正如他所说，“现在是 2013 年，看在上帝的份上，没有理由再在任何地方对任何事情使用纯文本了。”

SQL 是另一个最好的例子。

“不要让你公司里的任何人把字符串连接在一起构成一个 SQL 查询，”他说。“也没有理由这么做。使用一个抽象库，确保没有注入的可能性，准备好的语句，诸如此类的东西。

“如果你在使用 HTML——或者你选择用来发布漂亮网页的任何东西——选择一些东西，这样你雇佣的下一个工程师就不会自然而然地从数据库中取出一个字符串，并将其与 HTML 输出流连接起来。”

![](img/e250df40d6362d3e56c373ebb4f43dfc.png)

Dave Engberg speaking at the 2013 CTO Summit.

提前创造模式，这样你带来的人就能做好事情。

虽然没有防弹解决方案，而且肯定会留下一些跨站点脚本漏洞，但只要在开始时选择正确的资源，整个过程就会轻松得多。

**11 至 30 名员工**

“在这一点上，你仍然与每个人都有直接的关系，”恩伯格说。“而且，假设你雇佣了和你有些相似的人，你仍然主要依靠个人信任。你可以说，‘我了解那个家伙——他不会做任何傻事。我不必照看每一行代码。"

尽管这是过去 10 名员工的情况，但 11 名员工是你应该开始加速增长引擎和必要安全的标志。当你顿悟“这可能是真的”时，你需要开始采取真正的预防措施。这几乎完全是关于基础设施。

“在这个阶段，你可以做一些非常简单的事情。大概 80%的创业团队都在用谷歌应用程序处理员工的电子邮件和日历。因此，为登录设置双因素身份验证只是作为管理员的[打开该设置的问题。如此多的人知道这种设置是存在的，可以立即对所有员工强制执行，但他们仍然没有这样做。没有借口。](http://firstround.com/article/%20https:/support.google.com/a/answer/2548882 "null")

**“如果你有 30 名员工，其中至少有三人在他们的公司邮箱中使用的密码与他们在过去曾被入侵过的密码相同。”**

重用密码完全否定了密码是强还是弱。这使得人们很容易拿到一份被盗密码的清单，并找到一家公司来验证它们。为了防患于未然，Engberg 建议使用密码管理器。

“T4 的 LastPass 和 [1Password](https://agilebits.com/onepassword "null") 设计得很好，”恩格伯格在谈到这项生成强而安全的密码的服务时说。“但真正的问题是，您的员工不应该在这个阶段选择自己的密码。你应该有一个漂亮的按钮，吐出一个密码，看起来像天书。为之付出是值得的。”

最重要的是，员工应该停止共享账户。当你是一个比较零散的操作时，三个做服务器管理的人通过同一个帐户连接可能是有意义的。但是到了 30 个员工的时候，每个人都应该已经确定了账户。

“这会让你的生活变得容易得多，尤其是当你已经大到足以让人们开始离开公司的时候，”恩伯格说。“如果你现在开始做，以后就不用担心了。”

**31 到 100 名员工**

“你可能已经到了下一个融资阶段，”恩伯格说。“你在想事情会变得超级棒。”

如果你提前采取行动，它们是可能的。你能做的最好的事情是指定某人负责安全。作为 CTO，可能还是你。不一定是某个人的全职工作。但是公司里的每个人都应该知道出了问题该找谁。

“到目前为止，您应该已经在跟踪各种堆栈中的漏洞。例如，如果你正在使用 Apache，你需要上 [Secunia](http://secunia.com/ "null") 的列表，这样你就可以关注你的 Apache 版本以及可能发生的事情。"

Secunia 是一个特别有价值的工具，它可以让你及时了解潜在的攻击、漏洞以及你可以用来抵御它们的补丁。

“通常，如果你是一家 25 人的公司，没有人会在意去攻击你——这在一段时间内是一个很好的防御。但过了这一关，你会得到足够多的关注，人们至少会不经意地试图戏弄你。“跟踪易受攻击的软件漏洞。”

以下是中型创业公司的一些其他考虑因素:

加大对内部 IT 的投资，以便在发生攻击或故障时，有人来解决问题。

您公司的所有设备都应该打开加密。

所有电脑上都应该有像样的密码锁定屏保。这样一来，砸了就抢的电脑盗窃案只造成 1，500 美元的资产损失，而没有关键数据损失。

花时间确保你给人们的硬件是修补过的、合理的和安全的。

继续使用托管云服务来节省运行内部服务器的时间。无论如何，这些服务可能有更好的安全专家。

您应该在您的源存储库中有一个强大的审计跟踪，这样您就可以回溯，告诉谁做了所有的事情，并追溯到过去。

**100 名员工**

现在你已经到了高速增长阶段，事情变得严重了。如果你没有在早些时候投入必要的时间和精力，这将是它回来咬你的地方。例如，如果您还没有这样做，那么您应该将所有东西都移到 VPN 后面，以确保所有员工都经过双重身份认证。

**但这里的关键变化是:**你应该以某种方式让外部人员向你报告安全漏洞。无论你在你的网站上有一个表格，还是创建一个像[security@yourstartup.com](mailto:security@yourstartup.com "null")那样的电子邮件地址，机制并不重要。

“特别是，如果你在 Evernote 这样面向消费者的品牌工作，人们会向你报告事情。人们从暗处走出来。我们收到了日本研究人员的笔记，他们愉快地发现了跨站脚本漏洞。我们会进去修好它们并说声谢谢。两分钟后他们会再送来一个。”

与想帮忙的人建立沟通渠道是解决许多安全问题的一个非常便宜、简单的方法。重要的是承认他们的贡献。如果你给他们一个公开的点头，他们会继续寻找问题，成本收益比很低。

与此同时，您应该与公司外部的人签订合同来运行漏洞分析，并故意尝试破坏您的系统。最好的服务之一是 iSEC Partners。

“是的，这有点贵，”恩伯格承认道。“当你看到这些人在你的服务器上运行脚本的时薪时，你会想，‘天哪，我也可以这么做。’但是你不能。你没时间了。所以付 20 或 30K 美元。你会得到一堆有价值的结果。"

这将让你有时间专注于你需要做的其他事情——产品优先级、团队管理和为内部安全招聘打基础。

真的，真的，真的很难招到一个优秀的内部应用安全人员。真的。

Evernote 一直在寻找一个好的人选，但这不仅仅是另一次招聘。为了避免操之过急，一家公司最好的选择是与 iSEC 这样的公司合作。但这只是权宜之计。

“你需要一个技术过硬的人，而不仅仅是处理文书工作。你需要的是一个真正在这个行业工作过的人，他不会愿意花 300 美元一小时做独立的安全分析。到了 100 人，你需要开始寻找。走正常渠道。与人交谈。这是一件需要很长时间的事情，所以你想赶在它前面。”

**300 名员工及以上**

“现在，最理想的情况是，你有一个头衔中带有“安全”一词的人告诉你下一步该做什么——而不是像我这样的人，”Engberg 开玩笑说。“但还有一些你可以关注的低挂水果项目。”

这些项目包括设备管理，在每台计算机上安装软件，以便快速检测恶意软件，接入 DNS 以查看笔记本电脑上是否有恶意软件。恶意软件通常需要“呼叫总部”，这通常会触发 DNS 查找。

在更早的阶段，Evernote 曾在发给员工的所有 MacBooks 上安装 FileVault，以加密他们硬盘上的内容。在有设备管理之前，员工需要主动关闭设备管理，但很少有人会这样做。

今天，他推荐 JAMF 的 Casper 套件作为管理 Mac 设备的最佳平台。

“这种事情让你知道你的哪些员工打开了 FileVault，甚至强制执行它。它帮助您更好地制定和维护策略。恩格伯格说:“Windows 也有类似的东西。“我知道有更多的技术方法可以做到这一点，但建立一个大规模的广告基础设施来锁定每个人的电脑有点不现实。为什么不一开始就给他们一些设置好的东西，给他们五分钟的训练呢？”

所有这些安全措施将在一定程度上保持你的机器清洁。

但是有一个安全主管在船上最好的部分是，他们将接管培训，让每个人都意识到风险。这对于一个大到足以雇佣一到两个糟糕的演员或者仅仅是玩忽职守的人的公司来说是至关重要的。

“我们刚刚为高管进行了首次有针对性的鱼叉式网络钓鱼攻击培训，”Engberg 说。“看起来我们的首席执行官发了一封电子邮件，说‘嘿，看看 BBC 上的这篇文章。’如果你点击它，它会转到我们的谷歌应用程序登录页面，上面有我们的标志和一切。目标是让人们输入他们的 Google Apps 凭证。这是一个模拟，但从纯技术的角度来看，这是很难阻止的事情。这就是为什么你要开始提高意识。"

当你发展到这个规模时，无论是在公司内部还是外部，人们都开始将技术视为你最关心的问题。

一方面，你不想因为安全问题占用他们太多的时间或带宽，但另一方面，你必须总是提前考虑。

正如 Engberg 所看到的，“你让所有这些人在湾区领工资、吃饭和付房租，你假设他们的义务是让公司成功，这样他们就可以继续领工资，但最终你总是需要避免灾难性的事情。”

尽力而为。要透明。从长远来看，与正确的人建立正确的关系，你可能会在逆境中生存下来。

如果在任何时候，你想知道为什么要在安全工作上投入这么多时间和金钱，Engberg 说，看看你的用户就知道了。一个可靠的安全策略始于对您需要保护的内容的透彻、甚至是感性的理解。

“在 Evernote，我们是由用户数据驱动的，”他说。“我并不担心你窃取我们的超级机密源代码。当然，我不希望你看到它，但如果你真的获得了我们整个 Android 应用程序的副本，并用它来成为宠物管理的 Evernote 或其他东西，我不在乎。我关心我们用户数据的完整性。这可能会有所不同，取决于你的业务，但你应该始终有一个对你来说重要的心理模型。”