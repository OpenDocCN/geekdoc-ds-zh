# 分析

> 原文：[`en.algorithmica.org/hpc/profiling/`](https://en.algorithmica.org/hpc/profiling/)

仅仅盯着源代码或其汇编代码是一种流行但不是最有效的方法来发现性能问题。当性能不符合您的期望时，您可以使用被称为 *分析器* 的特殊程序分析工具之一来更快地识别根本原因。

存在许多不同类型的分析器。我喜欢将它们与物理学家和其他自然科学家如何研究小事物进行类比，根据所需的精度水平选择合适的工具：

+   当物体处于微米尺度时，它们使用光学显微镜。

+   当物体处于纳米尺度，并且光不再与它们相互作用时，它们使用电子显微镜。

+   当物体比这更小（例如，原子的内部）时，他们求助于关于事物如何工作的理论和假设（并使用复杂和间接的实验来测试这些假设）。

类似地，存在三种主要的分析技术，每种技术都根据其自身的原理运作，具有不同的适用领域，并允许不同的精度水平：

+   仪器 允许您整体或按部分计时程序，并计数您感兴趣的具体事件。

+   统计分析 允许您深入到汇编级别，跟踪各种 *硬件事件*，例如分支预测错误或缓存未命中，这些对于性能至关重要。

+   程序模拟 允许您深入到单个周期级别，查看在执行小汇编片段时每个周期 CPU 内部发生的情况。

实际的算法设计在很大程度上也可以被认为是一个经验领域。我们主要依赖相同的实验方法，这并不是因为我们不知道自然的一些基本秘密，而是因为现代计算机过于复杂，难以分析——此外，这也意味着我们这些普通的软件工程师由于硬件公司的知识产权保护，无法了解一些细节（事实上，考虑到最准确的 x86 指令表是[逆向工程](https://arxiv.org/pdf/1810.04610.pdf)得来的，有理由相信英特尔本身也不知道这些细节）。

在本章中，我们将研究这三种关键的分析方法，以及一些经过时间考验的实践，用于管理涉及性能评估的计算实验。

[← 预计算](https://en.algorithmica.org/hpc/compilation/precalc/)

[← ../编译](https://en.algorithmica.org/hpc/compilation/)[仪器 →](https://en.algorithmica.org/hpc/profiling/instrumentation/)

[../算术 →](https://en.algorithmica.org/hpc/arithmetic/)
