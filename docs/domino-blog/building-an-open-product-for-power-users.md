# 为超级用户构建开放的产品

> 原文：<https://www.dominodatalab.com/blog/building-an-open-product-for-power-users>

这篇文章描述了我们构建“开放”产品的工程哲学，即支持现有工具和库的产品，而不是构建我们自己的现有功能的定制版本。除了让我们的开发人员更有效率，我们还发现这种方法让我们的用户更有效率——尤其是超级用户，他们对我们来说尤其重要。

## 构建开放式产品

Domino 是数据科学家的工作台:它允许你在可伸缩的基础设施上运行分析(用 Python、R、Julia 等语言),保持你的工作被跟踪和集中，因此它可以被容易地共享和复制，并且允许你通过 web 表单或 web 服务公开模型。

从一开始，我们就有意识地构建 Domino 来集成现有的语言、库和工具，而不是构建一种实现常用功能的专有方式。例如，我们没有建立一种新的方式来创建和共享可视化，而是让数据科学家使用现有的库，如`matplotlib`或`ggplot`或任何其他库，我们只是通过我们的 web 界面提供文件(HTML、javascript、图像等)。

从技术上讲，这种方法通过两个主要的架构决策体现出来:

我们在 Docker 容器中运行用户代码，这让他们可以灵活地做任何他们想做的事情。我们的默认环境包含对大多数语言(R、Python、Java、C/++、Julia、Matlab via Octave 等)的支持，如果用户需要其他东西，我们允许他们定制自己的环境。他们甚至可以安全地存储 VPN 凭证，因此他们的代码可以连接到他们自己的数据库。

一个项目和它的结果只是文件，我们知道如何通过 web 用户界面提供服务。没有专有的存储或输出格式；不需要使用特殊的 Domino 库或包。

这给了我们和我们的用户极大的灵活性，特别是在可视化能力方面。

## 例子

以下是我们在过去几个月中支持的一些使用案例:

1.  使用 HTML 小部件和编织器实现[交互式可视化](https://www.dominodatalab.com/blog/interactive-dashboards-with-knitr-and-html-widgets/)。我们没有实现自己的可视化功能，而是能够立即使用一个新的 R 包`htmlwidgets`，它提供了强大的功能。类似地，与其从 R 中创建我们自己的报告生成/降价功能，现有的`knitr`包就可以工作——而且工作得很好。
2.  与 IPython Notebook 的集成—针对 Python 或 R(与 [R Notebook](//blog.dominodatalab.com/r-notebooks/) )的集成。用户可以在他们想要的任何硬件上点击一下就启动笔记本会话。我们不需要发明或构建一个新的“交互式分析”用户界面。

3.  与 Plotly 的集成。当我们看到 Plotly 与 IPython 笔记本一起工作时，很容易就可以在 Domino 上演示这种开箱即用的工作方式。现在，我们的任何用户都可以从 Plotly 的 Python 或 r 语言的交互式小部件中获益。

Knitr、htmlwidgets、IPython Notebook、Plotly——这些都是人们已经研究了多年的神奇工具，许多人已经在使用和喜爱它们。通过让用户将他们带到 Domino，而不是适应一些新的专有工作方式，我认为我们自己正在拥抱一种“站在巨人的肩膀上”的哲学——既然已经存在这样伟大的解决方案，为什么还要重新发明轮子。

## 利益

我们“开放”方法的好处是巨大的，体现在两个不同的方面。

首先，用户采用率和用户满意度更高，因为数据科学家可以灵活地使用他们已经知道并喜欢的库和工具。如果他们想制作漂亮的图表或报告，他们只需使用他们通常会使用的任何软件包。没有什么新东西需要学习——没有新的语言、语法或 UI。

用户喜欢这一点，而更老练的技术用户往往对此特别兴奋，因为他们有充分的自由去做他们需要做的事情。需要制作精确格式的报告？只需编写代码——不需要在一些受约束的 UI 中瞎折腾。

第二，工程能力和效率。在构建产品的早期阶段，工程团队需要非常积极地帮助用户解决他们的需求。通过灵活使用现有的库和工具，我们已经能够为用户提供满足他们需求的解决方案—快速且不消耗我们的工程资源。(除了前期开发时间之外，这还为我们节省了测试、文档和支持从工程角度来看通常微妙而复杂的功能所需的额外开发时间。)

这是一个双赢的局面:我们的工程师专注于我们产品的核心功能，发挥我们的比较优势；我们的用户可以使用他们喜欢的语言、工具和库。

如果我们选择开发自己的语言，或者可视化软件包，或者笔记本用户界面，或者降价/报告语法，我相信我们的用户会少得多，他们会更不高兴，我们会浪费工程时间来构建已经存在的东西。

## 不足之处

到目前为止，我认为我们方法的好处大于坏处——但是像所有的决定一样，这也不是没有缺点的。

第一个缺点是不熟练的/低技术的用户有更陡峭的学习曲线。Domino 通过编写代码为您提供了做任何事情的灵活性，但这意味着没有向导和简化的 ui 来控制复杂的功能。因此，Domino 不是一个“自动化数据科学过程”或让非技术用户构建丰富可视化的平台。换句话说，多米诺更像一把电锯，而不是安全剪刀。我们对此没意见——就目前而言——但这值得明确提出来。

第二个缺点是，我们必须容忍现有的第三方工具带来的缺点。可以肯定的是，如果我们开始从头开始构建一个新的交互式分析笔记本，我们可以想象出许多比 IPython 笔记本更好的方式。但与此同时，我们不希望完美成为美好的敌人——尤其是当美好已经存在，而完美需要很多年才能创造出来的时候。

## 结论

我们决定构建一个开放的产品，而不是为常见的分析用例(尤其是可视化)创建专有功能，这加速了我们用户群的增长以及我们工程团队的速度。我很难想象采取不同的方法，但我们看到许多产品选择构建自己的新方式来交付现有功能(例如，笔记本电脑)。

我们的方法在很大程度上也是我们使用软件组件的“购买与构建”哲学的延伸。如果现有的库或软件包提供了我们需要的功能，一般来说，我们更喜欢使用它，而不是自己构建(除非它是我们竞争优势的核心功能，我们需要完全控制它——在以后的帖子中会有更多关于这个主题的内容。)类似地，如果我们可以通过与现有解决方案集成来为用户提供完整的功能和特性，这似乎比构建我们自己的新特性更可取。