- en: From Ground to Slope
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 从地面到斜率
- en: 原文：[https://phys-sim-book.github.io/lec10.1-ground_to_slope.html](https://phys-sim-book.github.io/lec10.1-ground_to_slope.html)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://phys-sim-book.github.io/lec10.1-ground_to_slope.html](https://phys-sim-book.github.io/lec10.1-ground_to_slope.html)
- en: <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
- en: 'The implementation in the [Square Drop](lec8.3-square_drop.html) case study
    for horizontal grounds results in a simplified distance and distance gradient
    (Equation [(8.3.1)](lec8.3-square_drop.html#eq:lec8:dist_ground)) compared to
    that of a general half-space (Equation [(7.1.1)](lec7.1-signed_dists.html#eq:lec7:half_space_dist)):
    d(x)=nT(x−o),∇d(x)=n,and∇2d(x)=0.(10.1.1) This is all we need for implementing
    the slope. Defining a normal direction and a point lying on the slope'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 在水平地面情况下的[方形坠落](lec8.3-square_drop.html)案例研究中，实现的结果与一般半空间（方程[(7.1.1)](lec7.1-signed_dists.html#eq:lec7:half_space_dist)）相比，简化了距离和距离梯度（方程[(8.3.1)](lec8.3-square_drop.html#eq:lec8:dist_ground))：d(x)=nT(x−o),∇d(x)=n,
    和 ∇2d(x)=0。(10.1.1) 这就是实现斜率所需的所有内容。定义一个法线方向和一个位于斜率上的点
- en: '**Implementation 10.1.1 (Slope setup, simulator.py).**'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: '**实现 10.1.1（斜率设置，simulator.py）。**'
- en: '[PRE0]'
  id: totrans-5
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: and passing them to the time integrator and barrier energy, we can modify the
    barrier energy value, gradient, and Hessian computation for the slope as
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 将它们传递给时间积分器和屏障能量，我们可以修改斜率的屏障能量值、梯度和Hessian计算，如下所示
- en: '**Implementation 10.1.2 (Slope contact barrier, BarrierEnergy.py).**'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: '**实现 10.1.2（斜率接触屏障，BarrierEnergy.py）。**'
- en: '[PRE1]'
  id: totrans-8
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Then for the continuous collision detection, we similarly modify the implementation
    to compute the large feasible initial step size for line search using n and o:'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 然后对于连续碰撞检测，我们同样修改实现来计算使用 n 和 o 的线搜索的大可行初始步长：
- en: '**Implementation 10.1.3 (Slope CCD, BarrierEnergy.py).**'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: '**实现 10.1.3（斜率 CCD，BarrierEnergy.py）。**'
- en: '[PRE2]'
  id: totrans-11
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: Here the search direction of each node is projected onto the normal direction
    n to divide the current distance when computing the smallest step size that first
    brings the distance to 0.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，每个节点的搜索方向被投影到法线方向 n 上，以在计算将距离首次带到 0 的最小步长时分割当前距离。
- en: Finally, drawing the slope as a line from o−3n^ to o+3n^ where n^=[ny​,−nx​]
    pointing to the inclined direction,
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，将斜率从 o−3n^ 绘制为一条线到 o+3n^，其中 n^=[ny，−nx] 指向倾斜方向，
- en: '**Implementation 10.1.4 (Slope visualization, simulator.py).**'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: '**实现 10.1.4（斜率可视化，simulator.py）。**'
- en: '[PRE3]'
  id: totrans-15
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: we can now simulate an elastic square dropped on a slope without friction ([Figure
    10.1.1](#fig:lec10:slope_mu0)).
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 我们现在可以模拟一个无摩擦的斜面上的弹性方形坠落（[图 10.1.1](#fig:lec10:slope_mu0)）。
- en: '![](../Images/6557a72582a004f1b656f30985f3157e.png)'
  id: totrans-17
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/6557a72582a004f1b656f30985f3157e.png)'
- en: '**Figure 10.1.1.** An elastic square dropped onto a frictionless slope, bouncing
    as it slides down.'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: '**图 10.1.1**。一个弹性方形被投掷到一个无摩擦的斜面上，在滑动下弹跳。'
