- en: '7.2\. Background: elements of finite Markov chains#'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 7.2\. 背景知识：有限马尔可夫链的元素#
- en: 原文：[https://mmids-textbook.github.io/chap07_rwmc/02_mcdefs/roch-mmids-rwmc-mcdefs.html](https://mmids-textbook.github.io/chap07_rwmc/02_mcdefs/roch-mmids-rwmc-mcdefs.html)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://mmids-textbook.github.io/chap07_rwmc/02_mcdefs/roch-mmids-rwmc-mcdefs.html](https://mmids-textbook.github.io/chap07_rwmc/02_mcdefs/roch-mmids-rwmc-mcdefs.html)
- en: As we mentioned, we are interested in analyzing the behavior of a random walk
    “diffusing” on a graph. Before we develop such techniques, it will be worthwhile
    to cast them in the more general framework of discrete-time Markov chains on a
    finite state space. Indeed Markov chains have many more applications in data science.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 正如我们提到的，我们感兴趣的是分析一个随机游走“扩散”在图上的行为。在我们开发这些技术之前，将它们纳入有限状态空间上的离散时间马尔可夫链的更一般框架中将是值得的。实际上，马尔可夫链在数据科学中有许多更多的应用。
- en: 7.2.1\. Basic definitions[#](#basic-definitions "Link to this heading")
  id: totrans-3
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 7.2.1\. 基本定义[#](#basic-definitions "链接到这个标题")
- en: 'A discrete-time Markov chain\(\idx{Markov chain}\xdi\) is a stochastic process\(\idx{stochastic
    process}\xdi\), i.e., a collection of random variables in this case indexed by
    time. We assume that the random variables take values in a common finite state
    space \(\S\). What makes it “Markovian” is that “it forgets the past” in the sense
    that “its future only depends on its present state.” More formally:'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 离散时间马尔可夫链\(\idx{马尔可夫链}\xdi\)是一个随机过程\(\idx{随机过程}\xdi\)，即在这种情况下由时间索引的一组随机变量。我们假设随机变量在公共有限状态空间
    \(\S\) 中取值。使其成为“马尔可夫的”是因为“它忘记了过去”，在“它的未来只依赖于它的当前状态”的意义上。更正式地说：
- en: '**DEFINITION** **(Discrete-Time Markov Chain)** The sequence of random variables
    \((X_t)_{t \geq 0} = (X_0, X_1, X_2, \ldots)\) taking values in the finite state
    space \(\S\) is a Markov chain if: for all \(t \geq 1\) and all \(x_0,x_1,\ldots,x_t
    \in \S\)'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: '**定义:** **(离散时间马尔可夫链)** 随机变量序列 \((X_t)_{t \geq 0} = (X_0, X_1, X_2, \ldots)\)
    在有限状态空间 \(\S\) 中取值，如果对于所有 \(t \geq 1\) 和所有 \(x_0,x_1,\ldots,x_t \in \S\)'
- en: \[ (*)\qquad\P[X_t = x_t\,|\,X_{t-1} = x_{t-1}, X_{t-2} = x_{t-2},\ldots,X_0
    = x_0] = \P[X_t = x_t\,|\,X_{t-1} = x_{t-1}] \]
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: \[ (*)\qquad\P[X_t = x_t\,|\,X_{t-1} = x_{t-1}, X_{t-2} = x_{t-2},\ldots,X_0
    = x_0] = \P[X_t = x_t\,|\,X_{t-1} = x_{t-1}] \]
- en: provided the conditional probabilities are well-defined. \(\natural\)
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 假设条件概率是良好定义的。 \(\natural\)
- en: To be clear, the event in the conditioning is
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 为了清楚起见，条件中的事件是
- en: \[ \{X_{t-1} = x_{t-1}, X_{t-2} = x_{t-2},\ldots,X_0 = x_0\} = \{X_{t-1} = x_{t-1}\}
    \cap \{X_{t-2} = x_{t-2}\} \cap \cdots \cap \{X_0 = x_0\}. \]
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \{X_{t-1} = x_{t-1}, X_{t-2} = x_{t-2},\ldots,X_0 = x_0\} = \{X_{t-1} = x_{t-1}\}
    \cap \{X_{t-2} = x_{t-2}\} \cap \cdots \cap \{X_0 = x_0\}. \]
- en: It will sometimes be convenient to assume that the common state space \(\S\)
    is of the form \([m] = \{1,\ldots,m\}\).
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 有时假设公共状态空间 \(\S\) 的形式为 \([m] = \{1,\ldots,m\}\) 会很方便。
- en: '**EXAMPLE:** **(Weather Model)** Here is a simple weather model. Every day
    is either \(\mathrm{Dry}\) or \(\mathrm{Wet}\). We model the transitions as Markovian;
    intuitively, we assume that tomorrow’s weather only depends - in a random fashion
    independent of the past - on today’s weather. Say the weather changes with \(25\%\)
    chance. More formally, let \(X_t \in \mathcal{S}\) be the weather on day \(t\)
    with \(\mathcal{S} = \{\mathrm{Dry}, \mathrm{Wet}\}\). Assume that \(X_0 = \mathrm{Dry}\)
    and let \((Z_t)_{t \geq 0}\) be an i.i.d. (i.e., independent, identically distributed)
    sequence of random variables taking values in \(\{\mathrm{Same}, \mathrm{Change}\}\)
    satisfying'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: '**示例:** **(天气模型)** 这是一个简单的天气模型。每一天要么是 \(\mathrm{Dry}\) 要么是 \(\mathrm{Wet}\)。我们将转换建模为马尔可夫链；直观上，我们假设明天的天气只依赖于今天的天气——以一种随机的方式，与过去独立。假设天气变化的概率是
    \(25\%\)。更正式地说，让 \(X_t \in \mathcal{S}\) 表示第 \(t\) 天的天气，其中 \(\mathcal{S} = \{\mathrm{Dry},
    \mathrm{Wet}\}\)。假设 \(X_0 = \mathrm{Dry}\)，并且让 \((Z_t)_{t \geq 0}\) 是一个独立同分布的（即独立、同分布）随机变量序列，其值在
    \(\{\mathrm{Same}, \mathrm{Change}\}\) 中，满足'
- en: \[ \mathbb{P}[Z_t = \mathrm{Same}] = 1 - \mathbb{P}[Z_t = \mathrm{Change}] =
    3/4. \]
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \mathbb{P}[Z_t = \mathrm{Same}] = 1 - \mathbb{P}[Z_t = \mathrm{Change}] =
    3/4. \]
- en: Then define for all \(t \geq 0\)
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 然后定义对于所有 \(t \geq 0\)
- en: \[\begin{split} X_{t+1} = f(X_t, Z_t) = \begin{cases} X_t & \text{if $Z_t =
    \mathrm{Same}$},\\ \mathrm{Wet} & \text{if $X_t = \mathrm{Dry}$ and $Z_t = \mathrm{Change}$},\\
    \mathrm{Dry} & \text{if $X_t = \mathrm{Wet}$ and $Z_t = \mathrm{Change}$}. \end{cases}
    \end{split}\]
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: \[\begin{split} X_{t+1} = f(X_t, Z_t) = \begin{cases} X_t & \text{if } Z_t =
    \mathrm{Same},\\ \mathrm{Wet} & \text{if } X_t = \mathrm{Dry} \text{ and } Z_t
    = \mathrm{Change},\\ \mathrm{Dry} & \text{if } X_t = \mathrm{Wet} \text{ and }
    Z_t = \mathrm{Change}. \end{cases} \end{split}\]
- en: 'We claim that \((X_t)_{t \geq 0}\) is a Markov chain. We use two observations:'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 我们声称 \((X_t)_{t \geq 0}\) 是一个马尔可夫链。我们使用两个观察结果：
- en: 1- By composition,
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 1- 通过组合，
- en: \[ X_1 = f(X_0, Z_0), \]\[ X_2 = f(X_1,Z_1) = f(f(X_0,Z_0),Z_1), \]\[ X_3 =
    f(X_2,Z_2) = f(f(X_1,Z_1),Z_2) = f(f(f(X_0,Z_0),Z_1),Z_2), \]
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: \[ X_1 = f(X_0, Z_0), \]\[ X_2 = f(X_1,Z_1) = f(f(X_0,Z_0),Z_1), \]\[ X_3 =
    f(X_2,Z_2) = f(f(X_1,Z_1),Z_2) = f(f(f(X_0,Z_0),Z_1),Z_2), \]
- en: and, more generally,
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 并且，更一般地，
- en: \[ X_t = f(X_{t-1},Z_{t-1}) = f(f(X_{t-2},Z_{t-2}),Z_{t-1}) = f(f(\cdots f(f(X_0,Z_0),Z_1),\cdots),Z_{t-1})
    \]
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: \[ X_t = f(X_{t-1},Z_{t-1}) = f(f(X_{t-2},Z_{t-2}),Z_{t-1}) = f(f(\cdots f(f(X_0,Z_0),Z_1),\cdots),Z_{t-1})
    \]
- en: is a deterministic function of \(X_0 = \mathrm{Dry}\) and \(Z_0,\ldots,Z_{t-1}\).
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 是 \(X_0 = \mathrm{Dry}\) 和 \(Z_0,\ldots,Z_{t-1}\) 的确定性函数。
- en: 2- For any \(x_1,\ldots,x_t \in \S\), there is precisely one value of \(z \in
    \{\mathrm{Same}, \mathrm{Change}\}\) such that \(x_t = f(x_{t-1}, z)\), i.e.,
    if \(x_t = x_{t-1}\) we must have \(z = \mathrm{Same}\) and if \(x_t \neq x_{t-1}\)
    we must have \(z = \mathrm{Change}\).
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 2- 对于任何 \(x_1,\ldots,x_t \in \S\)，存在一个唯一的 \(z \in \{\mathrm{Same}, \mathrm{Change}\}\)
    值，使得 \(x_t = f(x_{t-1}, z)\)，即如果 \(x_t = x_{t-1}\)，则必须有 \(z = \mathrm{Same}\)，如果
    \(x_t \neq x_{t-1}\)，则必须有 \(z = \mathrm{Change}\)。
- en: Fix \(x_0 = \mathrm{Dry}\). For any \(x_1,\ldots,x_t \in \S\), letting \(z\)
    be as in Observation 2,
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 固定 \(x_0 = \mathrm{Dry}\)。对于任何 \(x_1,\ldots,x_t \in \S\)，令 \(z\) 如观察2所述，
- en: \[\begin{align*} &\P[X_t = x_t\,|\,X_{t-1} = x_{t-1}, X_{t-2} = x_{t-2},\ldots,X_0
    = x_0]\\ &= \P[f(X_{t-1}, Z_{t-1}) = x_t \,|\, X_{t-1} = x_{t-1}, X_{t-2} = x_{t-2},\ldots,X_0
    = x_0]\\ &= \P[f(x_{t-1}, Z_{t-1}) = x_t \,|\, X_{t-1} = x_{t-1}, X_{t-2} = x_{t-2},\ldots,X_0
    = x_0]\\ &= \P[Z_{t-1} = z \,|\, X_{t-1} = x_{t-1}, X_{t-2} = x_{t-2},\ldots,X_0
    = x_0]\\ &= \P[Z_{t-1} = z], \end{align*}\]
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: \[\begin{align*} &\P[X_t = x_t\,|\,X_{t-1} = x_{t-1}, X_{t-2} = x_{t-2},\ldots,X_0
    = x_0]\\ &= \P[f(X_{t-1}, Z_{t-1}) = x_t \,|\, X_{t-1} = x_{t-1}, X_{t-2} = x_{t-2},\ldots,X_0
    = x_0]\\ &= \P[f(x_{t-1}, Z_{t-1}) = x_t \,|\, X_{t-1} = x_{t-1}, X_{t-2} = x_{t-2},\ldots,X_0
    = x_0]\\ &= \P[Z_{t-1} = z \,|\, X_{t-1} = x_{t-1}, X_{t-2} = x_{t-2},\ldots,X_0
    = x_0]\\ &= \P[Z_{t-1} = z], \end{align*}\]
- en: where we used that \(Z_{t-1}\) is independent of \(Z_{t-2},\ldots,Z_0\) and
    \(X_0\) (which is deterministic), and therefore is independent of \(X_{t-1},\ldots,X_0\)
    by Observation 1\. The same argument shows that
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 其中我们使用了 \(Z_{t-1}\) 与 \(Z_{t-2},\ldots,Z_0\) 和 \(X_0\)（它是确定的）独立，因此根据观察1，\(Z_{t-1}\)
    与 \(X_{t-1},\ldots,X_0\) 独立。同样的论证表明
- en: \[ \P[X_t = x_t\,|\,X_{t-1} = x_{t-1}] = \P[Z_{t-1} = z], \]
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \P[X_t = x_t\,|\,X_{t-1} = x_{t-1}] = \P[Z_{t-1} = z], \]
- en: and that proves the claim.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 这证明了该主张。
- en: More generally, one can pick \(X_0\) according to an initial distribution, independently
    from the sequence \((Z_t)_{t \geq 0}\). The argument above can be adapted to this
    case. \(\lhd\)
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 更一般地，可以选择 \(X_0\) 根据初始分布，独立于序列 \((Z_t)_{t \geq 0}\)。上述论证可以适应这种情况。\(\lhd\)
- en: '**EXAMPLE:** **(Random Walk on the Petersen Graph)** Let \(G = (V,E)\) be the
    Petersen graph. Each vertex \(i\) has degree \(3\), that is, it has three neighbors
    which we denote \(v_{i,1}, v_{i,2}, v_{i,3}\) in some arbitrary order. For instance,
    denoting the vertices by \(1,\ldots, 10\) as above, vertex \(9\) has neighbors
    \(v_{9,1} = 4, v_{9,2} = 6, v_{9,3} = 7\).'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: '**示例：** **(彼得森图上的随机游走)** 设 \(G = (V,E)\) 为彼得森图。每个顶点 \(i\) 的度数为 \(3\)，即它有三个邻居，我们用
    \(v_{i,1}, v_{i,2}, v_{i,3}\) 表示，顺序任意。例如，用 \(1,\ldots, 10\) 表示顶点，顶点 \(9\) 的邻居为
    \(v_{9,1} = 4, v_{9,2} = 6, v_{9,3} = 7\)。'
- en: We consider the following random walk on \(G\). We start at \(X_0 = 1\). Then,
    for each \(t\geq 0\), we let \(X_{t+1}\) be a uniformly chosen neighbor of \(X_t\),
    independently of the previous history. That is, we jump at random from neighbor
    to neighbor. Formally, fix \(X_0 = 1\) and let \((Z_t)_{t \geq 0}\) be an i.i.d.
    sequence of random variables taking values in \(\{1,2,3\}\) satisfying
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 我们考虑在 \(G\) 上的以下随机游走。我们从 \(X_0 = 1\) 开始。然后，对于每个 \(t\geq 0\)，我们让 \(X_{t+1}\)
    成为 \(X_t\) 的一个均匀选择的邻居，与之前的历史无关。也就是说，我们从邻居随机跳到邻居。形式上，固定 \(X_0 = 1\) 并让 \((Z_t)_{t
    \geq 0}\) 是一个在 \(\{1,2,3\}\) 中取值的独立同分布随机变量序列，满足
- en: \[ \mathbb{P}[Z_t = 1] = \mathbb{P}[Z_t = 2] = \mathbb{P}[Z_t = 3] = 1/3. \]
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \mathbb{P}[Z_t = 1] = \mathbb{P}[Z_t = 2] = \mathbb{P}[Z_t = 3] = 1/3. \]
- en: Then define, for all \(t \geq 0\), \(X_{t+1} = f(X_t, Z_t) = v_{i,Z_t}\) if
    \(X_t = v_i\).
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 然后定义，对于所有 \(t \geq 0\)，\(X_{t+1} = f(X_t, Z_t) = v_{i,Z_t}\) 如果 \(X_t = v_i\)。
- en: By an argument similar to the previous example, \((X_t)_{t \geq 0}\) is a Markov
    chain. Also as in the previous example, one can pick \(X_0\) according to an initial
    distribution, independently from the sequence \((Z_t)_{t \geq 0}\). \(\lhd\)
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 通过与上一个例子类似的论证，\((X_t)_{t \geq 0}\) 是一个马尔可夫链。同样，在上一个例子中，可以选择 \(X_0\) 根据初始分布，独立于序列
    \((Z_t)_{t \geq 0}\)。\(\lhd\)
- en: 'There are various useful generalizations of the condition \((*)\) in the definition
    of a Markov chain. These are all special cases of what is referred to as the *Markov
    Property*\(\idx{Markov property}\xdi\) which can be summarized as: the past and
    the future are independent given the present. We record a version general enough
    for us here. Let \((X_t)_{t \geq 0}\) be a Markov chain on the state space \(\mathcal{S}\).
    For any integer \(h \geq 0\), \(x_{t-1}\in \mathcal{S}\) and subsets \(\mathcal{P}
    \subseteq \mathcal{S}^{t-1}\), \(\mathcal{F} \subseteq \mathcal{S}^{h+1}\) of
    state sequences of length \(t-1\) and \(h+1\) respectively, it holds that'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 在马尔可夫链定义中的条件 \((*)\) 有各种有用的推广。这些都是所谓的 *马尔可夫性质*\(\idx{马尔可夫性质}\xdi\) 的特殊情况，可以概括为：给定当前状态，过去和未来是独立的。我们在这里记录一个足够通用的版本。设
    \((X_t)_{t \geq 0}\) 是定义在状态空间 \(\mathcal{S}\) 上的马尔可夫链。对于任意整数 \(h \geq 0\)，\(x_{t-1}\in
    \mathcal{S}\) 和长度为 \(t-1\) 和 \(h+1\) 的状态序列的子集 \(\mathcal{P} \subseteq \mathcal{S}^{t-1}\)，\(\mathcal{F}
    \subseteq \mathcal{S}^{h+1}\)，都有
- en: \[\begin{align*} \P[(X_t,\ldots,X_{t+h}) \in \mathcal{F}\,|\,X_{t-1} = x_{t-1},
    (X_0,\ldots,X_{t-2}) \in \mathcal{P}] &= \P[(X_t,\ldots,X_{t+h}) \in \mathcal{F}\,|\,X_{t-1}
    = x_{t-1}]. \end{align*}\]
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: \[\begin{align*} \P[(X_t,\ldots,X_{t+h}) \in \mathcal{F}\,|\,X_{t-1} = x_{t-1},
    (X_0,\ldots,X_{t-2}) \in \mathcal{P}] &= \P[(X_t,\ldots,X_{t+h}) \in \mathcal{F}\,|\,X_{t-1}
    = x_{t-1}]. \end{align*}\]
- en: One important implication of the *Markov Property* is that the distribution
    of a sample path, i.e., an event of the form \(\{X_0 = x_0, X_1 = x_1, \ldots,
    X_T = x_T\}\), simplifies considerably.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 马尔可夫性质的一个重要含义是样本路径的分布，即形式为 \(\{X_0 = x_0, X_1 = x_1, \ldots, X_T = x_T\}\) 的事件，大大简化了。
- en: '**THEOREM** **(Distribution of a Sample Path)** \(\idx{distribution of a sample
    path}\xdi\) For any \(x_0, x_1, \ldots, x_T \in \mathcal{S}\),'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: '**定理** **(样本路径的分布)** \(\idx{样本路径的分布}\xdi\) 对于任意 \(x_0, x_1, \ldots, x_T \in
    \mathcal{S}\)，'
- en: \[ \P[X_0 = x_0, X_1 = x_1, \ldots, X_T = x_T] = \P[X_0 = x_0] \,\prod_{t=1}^T
    \,\P[X_t = x_t\,|\,X_{t-1} = x_{t-1}]. \]
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \P[X_0 = x_0, X_1 = x_1, \ldots, X_T = x_T] = \P[X_0 = x_0] \,\prod_{t=1}^T
    \,\P[X_t = x_t\,|\,X_{t-1} = x_{t-1}]. \]
- en: \(\sharp\)
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: \(\sharp\)
- en: '*Proof idea:* We use the *Multiplication Rule* and the *Markov Property*.'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: '*证明思路:* 我们使用 *乘法规则* 和 *马尔可夫性质*。'
- en: '*Proof:* We first apply the *Multiplication Rule*'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: '*证明:* 我们首先应用 *乘法规则*'
- en: \[ \P\left[\cap_{i=1}^r A_i\right] = \prod_{i=1}^r \P\left[A_i \,\middle|\,
    \cap_{j=1}^{i-1} A_j \right]. \]
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \P\left[\cap_{i=1}^r A_i\right] = \prod_{i=1}^r \P\left[A_i \,\middle|\,
    \cap_{j=1}^{i-1} A_j \right]. \]
- en: with \(A_i = \{X_{i-1} = x_{i-1}\}\) and \(r = T+1\). That gives
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 其中 \(A_i = \{X_{i-1} = x_{i-1}\}\) 和 \(r = T+1\)。这给出
- en: \[\begin{align*} &\P[X_0 = x_0, X_1 = x_1, \ldots, X_T = x_T]\\ &= \P[X_0 =
    x_0] \,\prod_{t=1}^T \P[X_t = x_t\,|\,X_{t-1} = x_{t-1}, \ldots, X_0 = x_0]. \end{align*}\]
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: \[\begin{align*} &\P[X_0 = x_0, X_1 = x_1, \ldots, X_T = x_T]\\ &= \P[X_0 =
    x_0] \,\prod_{t=1}^T \P[X_t = x_t\,|\,X_{t-1} = x_{t-1}, \ldots, X_0 = x_0]. \end{align*}\]
- en: Then we use the *Markov Property* to simplify each term in the product. \(\square\)
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 然后我们使用 *马尔可夫性质* 来简化乘积中的每一项。 \(\square\)
- en: '**EXAMPLE:** **(Weather Model, continued)** Going back to the weather model
    from a previous example, fix \(x_0 = \mathrm{Dry}\) and \(x_1,\ldots,x_t \in \S\).
    Then, by the *Distribution of a Sample Path*,'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: '**示例:** **(天气模型，继续)** 回到之前示例中的天气模型，固定 \(x_0 = \mathrm{Dry}\) 和 \(x_1,\ldots,x_t
    \in \S\)。然后，根据 *样本路径的分布*，'
- en: \[ \P[X_0 = x_0, X_1 = x_1, \ldots, X_T = x_T] = \P[X_0 = x_0] \,\prod_{t=1}^T
    \,\P[X_t = x_t\,|\,X_{t-1} = x_{t-1}]. \]
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \P[X_0 = x_0, X_1 = x_1, \ldots, X_T = x_T] = \P[X_0 = x_0] \,\prod_{t=1}^T
    \,\P[X_t = x_t\,|\,X_{t-1} = x_{t-1}]. \]
- en: By assumption \(\P[X_0 = x_0] = 1\). Moreover, we have previously shown that
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 根据假设 \(\P[X_0 = x_0] = 1\)。此外，我们之前已经证明
- en: \[ \P[X_t = x_t\,|\,X_{t-1} = x_{t-1}] = \P[Z_{t-1} = z_{t-1}], \]
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \P[X_t = x_t\,|\,X_{t-1} = x_{t-1}] = \P[Z_{t-1} = z_{t-1}], \]
- en: where \(z_{t-1} = \mathrm{Same}\) if \(x_t = x_{t-1}\) and \(z_{t-1} = \mathrm{Change}\)
    if \(x_t \neq x_{t-1}\).
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 其中 \(z_{t-1} = \mathrm{Same}\) 如果 \(x_t = x_{t-1}\)，而 \(z_{t-1} = \mathrm{Change}\)
    如果 \(x_t \neq x_{t-1}\)。
- en: Hence, using the distribution of \(Z_t\),
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，使用 \(Z_t\) 的分布，
- en: \[\begin{split} \P[X_t = x_t\,|\,X_{t-1} = x_{t-1}] = \begin{cases} 3/4 & \text{if
    $x_t = x_{t-1}$},\\ 1/4 & \text{if $x_t \neq x_{t-1}$}. \end{cases} \end{split}\]
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: \[\begin{split} \P[X_t = x_t\,|\,X_{t-1} = x_{t-1}] = \begin{cases} 3/4 & \text{if
    $x_t = x_{t-1}$},\\ 1/4 & \text{if $x_t \neq x_{t-1}$}. \end{cases} \end{split}\]
- en: 'Let \(n_T = |\{0 < t \leq T : x_t = x_{t-1}\}|\) be the number of transitions
    without change. Then,'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: '设 \(n_T = |\{0 < t \leq T : x_t = x_{t-1}\}|\) 为没有变化的转换次数。那么，'
- en: \[\begin{align*} \P[X_0 = x_0, X_1 = x_1, \ldots, X_T = x_T] &= \P[X_0 = x_0]
    \,\prod_{t=1}^T \,\P[X_t = x_t\,|\,X_{t-1} = x_{t-1}]\\ &= \prod_{t=1}^T\P[Z_{t-1}
    = z_{t-1}]\\ &= (3/4)^{n_T} (1/4)^{T - n_T}. \end{align*}\]
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: \[\begin{align*} \P[X_0 = x_0, X_1 = x_1, \ldots, X_T = x_T] &= \P[X_0 = x_0]
    \,\prod_{t=1}^T \,\P[X_t = x_t\,|\,X_{t-1} = x_{t-1}]\\ &= \prod_{t=1}^T\P[Z_{t-1}
    = z_{t-1}]\\ &= (3/4)^{n_T} (1/4)^{T - n_T}. \end{align*}\]
- en: \(\lhd\)
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: \(\lhd\)
- en: It will be useful later on to observe that the *Distribution of a Sample Path*
    generalizes to
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 在以后，观察样本路径的 *分布* 的一般化将是有用的。
- en: \[ \P[X_{s+1} = x_{s+1}, X_{s+2} = x_{s+2}, \ldots, X_T = x_T\,|\,X_s = x_s]
    = \prod_{t=s+1}^T \,\P[X_t = x_t\,|\,X_{t-1} = x_{t-1}]. \]
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \P[X_{s+1} = x_{s+1}, X_{s+2} = x_{s+2}, \ldots, X_T = x_T\,|\,X_s = x_s]
    = \prod_{t=s+1}^T \,\P[X_t = x_t\,|\,X_{t-1} = x_{t-1}]. \]
- en: Based on the *Distribution of a Sample Path*, in order to specify the distribution
    of the process it suffices to specify
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 根据 *样本路径的分布*，为了指定过程的分布，只需指定
- en: the *initial distribution*\(\idx{initial distribution}\xdi\) \(\mu_x := \P[X_0
    = x]\) for all \(x\); and
  id: totrans-58
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '*初始分布*\(\idx{initial distribution}\xdi\) \(\mu_x := \P[X_0 = x]\) 对于所有 \(x\)；并且'
- en: the *transition probabilities*\(\idx{transition probability}\xdi\) \(\P[X_{t+1}
    = x\,|\,X_{t} = x']\) for all \(t\), \(x\), \(x'\).
  id: totrans-59
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对于所有 \(t\), \(x\), \(x'\)，的 *转移概率*\(\idx{transition probability}\xdi\) \(\P[X_{t+1}
    = x\,|\,X_{t} = x']\)。
- en: '7.2.2\. Time-homogeneous case: transition matrix[#](#time-homogeneous-case-transition-matrix
    "Link to this heading")'
  id: totrans-60
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 7.2.2\. 时间齐次情况：转移矩阵[#](#time-homogeneous-case-transition-matrix "链接到本标题")
- en: 'It is common to further assume that the process is *time-homogeneous*\(\idx{time-homogeneous
    process}\xdi\), which means that the transition probabilities do not depend on
    \(t\):'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 通常进一步假设过程是 *时间齐次的*\(\idx{time-homogeneous process}\xdi\)，这意味着转移概率不依赖于 \(t\)：
- en: '\[ \P[X_{t+1} =x\,|\,X_{t} = x''] = \P[X_1 =x\,|\,X_{0} = x''] =: p_{x'',x},
    \quad \forall t=1,\ldots \]'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: '\[ \P[X_{t+1} =x\,|\,X_{t} = x''] = \P[X_1 =x\,|\,X_{0} = x''] =: p_{x'',x},
    \quad \forall t=1,\ldots \]'
- en: where the last equality is a definition. We can then collect the transition
    probabilities into a matrix.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 其中最后一个等式是一个定义。然后我们可以将转移概率收集到一个矩阵中。
- en: '**DEFINITION** **(Transition Matrix)** \(\idx{transition matrix}\xdi\) The
    matrix'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: '**定义：** **(转移矩阵)** \(\idx{transition matrix}\xdi\) 矩阵'
- en: \[ P = (p_{x',x})_{x,x' \in \S} \]
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: \[ P = (p_{x',x})_{x,x' \in \S} \]
- en: is called the transition matrix of the chain. \(\natural\)
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 被称为链的转移矩阵。 \(\natural\)
- en: We also let \(\mu_{x} = \P[X_0 = x]\) and we think of \(\bmu = (\mu_{x})_{x
    \in \S}\) as a vector. The convention in Markov chain theory is to think of probability
    distributions such as \(\bmu\) as *row vectors*. We will see later why it simplifies
    the notation somewhat.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还让 \(\mu_{x} = \P[X_0 = x]\)，并将 \(\bmu = (\mu_{x})_{x \in \S}\) 视为一个向量。在马尔可夫链理论中，将概率分布如
    \(\bmu\) 视为 *行向量* 是一种惯例。我们将在后面看到为什么这会稍微简化一些符号。
- en: '**EXAMPLE:** **(Weather Model, continued)** Going back to the weather model,
    let us number the states as follows: \(1 = \mathrm{Dry}\) and \(2 = \mathrm{Wet}\).
    Then the transition matrix is'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: '**示例：** **(天气模型，继续)** 回到天气模型，让我们按以下方式编号状态：\(1 = \mathrm{Dry}\) 和 \(2 = \mathrm{Wet}\)。然后转移矩阵是'
- en: \[\begin{split} P = \begin{pmatrix} 3/4 & 1/4\\ 1/4 & 3/4 \end{pmatrix}. \end{split}\]
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: \[\begin{split} P = \begin{pmatrix} 3/4 & 1/4\\ 1/4 & 3/4 \end{pmatrix}. \end{split}\]
- en: \(\lhd\)
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: \(\lhd\)
- en: '**EXAMPLE:** **(Random Walk on the Petersen Graph, continued)** Consider again
    the random walk on the Petersen graph \(G = (V,E)\). We number the vertices \(1,
    2,\ldots, 10\). To compute the transition matrix, we list for each vertex its
    neighbors and put the value \(1/3\) in the corresponding columns. For instance,
    vertex \(1\) has neighbors \(2\), \(5\) and \(6\), so row \(1\) has \(1/3\) in
    columns \(2\), \(5\), and \(6\). And so on.'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: '**示例：** **(彼得森图的随机游走，继续)** 再次考虑彼得森图 \(G = (V,E)\) 上的随机游走。我们给顶点编号 \(1, 2,\ldots,
    10\)。为了计算转移矩阵，我们列出每个顶点的邻居，并在相应的列中放入值 \(1/3\)。例如，顶点 \(1\) 的邻居有 \(2\), \(5\) 和 \(6\)，因此第
    \(1\) 行在第 \(2\), \(5\) 和 \(6\) 列中都有 \(1/3\)。依此类推。'
- en: 'We get:'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 我们得到：
- en: \[\begin{split} P = \begin{pmatrix} 0 & 1/3 & 0 & 0 & 1/3 & 1/3 & 0 & 0 & 0
    & 0\\ 1/3 & 0 & 1/3 & 0 & 0 & 0 & 1/3 & 0 & 0 & 0\\ 0 & 1/3 & 0 & 1/3 & 0 & 0
    & 0 & 1/3 & 0 & 0\\ 0 & 0 & 1/3 & 0 & 1/3 & 0 & 0 & 0 & 1/3 & 0\\ 1/3 & 0 & 0
    & 1/3 & 0 & 0 & 0 & 0 & 0 & 1/3\\ 1/3 & 0 & 0 & 0 & 0 & 0 & 0 & 1/3 & 1/3 & 0\\
    0 & 1/3 & 0 & 0 & 0 & 0 & 0 & 0 & 1/3 & 1/3\\ 0 & 0 & 1/3 & 0 & 0 & 1/3 & 0 &
    0 & 0 & 1/3\\ 0 & 0 & 0 & 1/3 & 0 & 1/3 & 1/3 & 0 & 0 & 0\\ 0 & 0 & 0 & 0 & 1/3
    & 0 & 1/3 & 1/3 & 0 & 0 \end{pmatrix} \end{split}\]
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: \[\begin{split} P = \begin{pmatrix} 0 & 1/3 & 0 & 0 & 1/3 & 1/3 & 0 & 0 & 0
    & 0\\ 1/3 & 0 & 1/3 & 0 & 0 & 0 & 1/3 & 0 & 0 & 0\\ 0 & 1/3 & 0 & 1/3 & 0 & 0
    & 0 & 1/3 & 0 & 0\\ 0 & 0 & 1/3 & 0 & 1/3 & 0 & 0 & 0 & 1/3 & 0\\ 1/3 & 0 & 0
    & 1/3 & 0 & 0 & 0 & 0 & 0 & 1/3\\ 1/3 & 0 & 0 & 0 & 0 & 0 & 0 & 1/3 & 1/3 & 0\\
    0 & 1/3 & 0 & 0 & 0 & 0 & 0 & 0 & 1/3 & 1/3\\ 0 & 0 & 1/3 & 0 & 0 & 1/3 & 0 &
    0 & 0 & 1/3\\ 0 & 0 & 0 & 1/3 & 0 & 1/3 & 1/3 & 0 & 0 & 0\\ 0 & 0 & 0 & 0 & 1/3
    & 0 & 1/3 & 1/3 & 0 & 0 \end{pmatrix} \end{split}\]
- en: We have already encountered a matrix that encodes the neighbors of each vertex,
    the adjacency matrix. Here we can recover the transition matrix by multiplying
    the adjacency matrix by \(1/3\). \(\lhd\)
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经遇到了一个编码每个顶点邻居的矩阵，即邻接矩阵。在这里，我们可以通过将邻接矩阵乘以 \(1/3\) 来恢复转移矩阵。 \(\lhd\)
- en: Transition matrices have a very special structure.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 转移矩阵具有非常特殊的结构。
- en: '**THEOREM** **(Transition Matrix is Stochastic)** \(\idx{transition matrix
    is stochastic theorem}\xdi\) The transition matrix \(P\) is a stochastic matrix\(\idx{stochastic
    matrix}\xdi\), that is, all its entries are nonnegative and all its rows sum to
    one. \(\sharp\)'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: '**定理：** **（转移矩阵是随机的）** \(\idx{transition matrix is stochastic theorem}\xdi\)
    转移矩阵 \(P\) 是一个随机矩阵\(\idx{stochastic matrix}\xdi\)，即所有项都是非负的，且所有行和为 \(1\)。 \(\sharp\)'
- en: '*Proof:* Indeed,'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: '*证明：* 确实，'
- en: \[ \sum_{x \in \S} p_{x',x} = \sum_{x \in \S} \P[X_1 = x\,|\,X_{0} = x'] = \P[X_1
    \in \S \,|\,X_{0} = x'] = 1 \]
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \sum_{x \in \S} p_{x',x} = \sum_{x \in \S} \P[X_1 = x\,|\,X_{0} = x'] = \P[X_1
    \in \S \,|\,X_{0} = x'] = 1 \]
- en: by the properties of the conditional probability. \(\square\)
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 通过条件概率的性质。 \(\square\)
- en: In matrix form, the condition can be stated as \(P \mathbf{1} = \mathbf{1}\),
    where \(\mathbf{1}\) is an all-one vector of the appropriate size.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 以矩阵形式，条件可以表述为 \(P \mathbf{1} = \mathbf{1}\)，其中 \(\mathbf{1}\) 是适当大小的全一向量。
- en: We have seen that any transition matrix is stochastic. Conversely, any stochastic
    matrix is the transition matrix of a Markov chain. That is, we can specify a Markov
    chain by choosing the number of states \(n\), an initial distribution over \(\mathcal{S}
    = [n]\) and a stochastic matrix \(P \in \mathbb{R}^{n\times n}\). Row \(i\) of
    \(P\) stipulates the probability distribution of the next state given that we
    are currently at state \(i\).
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经看到任何转移矩阵都是随机的。反过来，任何随机矩阵都是马尔可夫链的转移矩阵。也就是说，我们可以通过选择状态数 \(n\)、\(\mathcal{S}
    = [n]\) 上的初始分布以及随机矩阵 \(P \in \mathbb{R}^{n\times n}\) 来指定一个马尔可夫链。\(P\) 的第 \(i\)
    行规定了在当前处于状态 \(i\) 的情况下下一个状态的概率分布。
- en: '**EXAMPLE:** **(Robot Vacuum)** Suppose a robot vacuum roams around a large
    mansion with the following rooms: \(1=\mathrm{Study}\), \(2=\mathrm{Hall}\), \(3=\mathrm{Lounge}\),
    \(4=\mathrm{Library}\), \(5=\mathrm{Billiard\ Room}\), \(6=\mathrm{Dining\ Room}\),
    \(7=\mathrm{Conservatory}\), \(8=\mathrm{Ball\ Room}\), \(9=\mathrm{Kitchen}\).'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: '**示例：** **（机器人吸尘器）** 假设一个机器人吸尘器在一个大宅邸中四处游荡，以下房间：\(1=\mathrm{Study}\)，\(2=\mathrm{Hall}\)，\(3=\mathrm{Lounge}\)，\(4=\mathrm{Library}\)，\(5=\mathrm{Billiard\
    Room}\)，\(6=\mathrm{Dining\ Room}\)，\(7=\mathrm{Conservatory}\)，\(8=\mathrm{Ball\
    Room}\)，\(9=\mathrm{Kitchen}\)。'
- en: '**Figure:** A wrench (*Credit:* Made with [Midjourney](https://www.midjourney.com/))'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: '**图：** 一个扳手（*来源：[Midjourney](https://www.midjourney.com/)*）'
- en: '![Roomba](../Images/208cda012f226f8db1d9e4a27b9cbdc4.png)'
  id: totrans-84
  prefs: []
  type: TYPE_IMG
  zh: '![Roomba](../Images/208cda012f226f8db1d9e4a27b9cbdc4.png)'
- en: \(\bowtie\)
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: \(\bowtie\)
- en: 'Once it is done cleaning a room, it moves to another one nearby according to
    the following stochastic matrix (check it is stochastic!):'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦它清理完一个房间，它就会根据以下随机矩阵（检查它是否是随机的！）移动到附近的另一个房间：
- en: \[\begin{split} P = \begin{pmatrix} 0 & 0.8 & 0 & 0.2 & 0 & 0 & 0 & 0 & 0\\
    0.3 & 0 & 0.2 & 0 & 0 & 0.5 & 0 & 0 & 0\\ 0 & 0.6 & 0 & 0 & 0 & 0.4 & 0 & 0 &
    0\\ 0.1 & 0.1 & 0 & 0 & 0.8 & 0 & 0 & 0 & 0\\ 0 & 0 & 0 & 0.25 & 0 & 0 & 0.75
    & 0 & 0\\ 0 & 0.15 & 0.15 & 0 & 0 & 0 & 0 & 0.35 & 0.35\\ 0 & 0 & 0 & 0 & 0 &
    0 & 0 & 1 & 0\\ 0 & 0 & 0 & 0 & 0.3 & 0.4 & 0.2 & 0 & 0.1\\ 0 & 0 & 0 & 0 & 0
    & 1 & 0 & 0 & 0 \end{pmatrix} \end{split}\]
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: \[\begin{split} P = \begin{pmatrix} 0 & 0.8 & 0 & 0.2 & 0 & 0 & 0 & 0 & 0\\
    0.3 & 0 & 0.2 & 0 & 0 & 0.5 & 0 & 0 & 0\\ 0 & 0.6 & 0 & 0 & 0 & 0.4 & 0 & 0 &
    0\\ 0.1 & 0.1 & 0 & 0 & 0.8 & 0 & 0 & 0 & 0\\ 0 & 0 & 0 & 0.25 & 0 & 0 & 0.75
    & 0 & 0\\ 0 & 0.15 & 0.15 & 0 & 0 & 0 & 0 & 0.35 & 0.35\\ 0 & 0 & 0 & 0 & 0 &
    0 & 0 & 1 & 0\\ 0 & 0 & 0 & 0 & 0.3 & 0.4 & 0.2 & 0 & 0.1\\ 0 & 0 & 0 & 0 & 0
    & 1 & 0 & 0 & 0 \end{pmatrix} \end{split}\]
- en: Suppose the initial distribution \(\bmu\) is uniform over the state space and
    let \(X_t\) be the room the vacuum is in at iteration \(t\). Then \((X_t)_{t\geq
    0}\) is a Markov chain. Unlike our previous examples, \(P\) is not symmetric.
    In particular, its rows sum to \(1\) but its columns do not. (Check it!) \(\lhd\)
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 假设初始分布 \(\bmu\) 在状态空间上均匀分布，并令 \(X_t\) 为迭代 \(t\) 时真空所在的房间。那么 \((X_t)_{t\geq 0}\)
    是一个马尔可夫链。与之前的例子不同，\(P\) 不是对称的。特别是，它的行和为 \(1\) 但列和不等于 \(1\)。（检查一下！）\(\lhd\)
- en: When both rows and columns sum to \(1\), we say that \(P\) is doubly stochastic.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 当行和列的和都等于 \(1\) 时，我们说 \(P\) 是双随机。
- en: With the notation just introduced, the distribution of a sample path simplifies
    further to
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 使用刚刚引入的符号，样本路径的分布进一步简化为
- en: \[ \P[X_0 = x_0, X_1 = x_1, \ldots, X_T = x_T] = \mu_{x_0} \prod_{t=1}^T p_{x_{t-1},x_t}.
    \]
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \P[X_0 = x_0, X_1 = x_1, \ldots, X_T = x_T] = \mu_{x_0} \prod_{t=1}^T p_{x_{t-1},x_t}.
    \]
- en: This formula has a remarkable consequence. The marginal distribution of \(X_s\)
    is a matrix power of \(P\). As usual, we denote by \(P^s\) the \(s\)-th matrix
    power of \(P\). Recall also that \(\bmu\) is a row vector.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 这个公式有一个显著的结果。\(X_s\) 的边缘分布是 \(P\) 的矩阵幂。通常，我们用 \(P^s\) 表示 \(P\) 的 \(s\) 次矩阵幂。回忆一下，\(\bmu\)
    是一个行向量。
- en: '**THEOREM** **(Time Marginals)** \(\idx{time marginals theorem}\xdi\) For any
    \(s \geq 1\) and \(x_s \in \S\)'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: '**THEOREM** **(Time Marginals)** \(\idx{time marginals theorem}\xdi\) 对于任何
    \(s \geq 1\) 和 \(x_s \in \S\)'
- en: \[ \P[X_s = x_s] = \left(\bmu P^s\right)_{x_s}. \]
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \P[X_s = x_s] = \left(\bmu P^s\right)_{x_s}. \]
- en: \(\sharp\)
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: \(\sharp\)
- en: '*Proof idea:* The idea is to think of \(\P[X_s = x_s]\) as the time \(s\) marginal
    over all trajectories up to time \(s\) – quantities we know how to compute the
    probabilities of. Then we use the *Distribution of a Sample Path* and “pushe the
    sums in.” This is easier seen on a simple case. We do the case \(s=2\) first.'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: '*Proof idea:* 策略是考虑 \(\P[X_s = x_s]\) 作为时间 \(s\) 对所有轨迹到时间 \(s\) 的边缘——这些量我们知道如何计算其概率。然后我们使用*样本路径的分布*和“推进和”。这在简单情况下更容易理解。我们首先处理
    \(s=2\) 的情况。'
- en: Summing over all trajectories up to time \(2\),
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 对所有轨迹到时间 \(2\) 的和，
- en: \[\begin{align*} &\P[X_2 = x_2]\\ &= \sum_{x_0 \in \S} \sum_{x_{1} \in \S} \P[X_0
    = x_0, X_1 = x_1, X_2 = x_2]\\ &= \sum_{x_0 \in \S} \sum_{x_{1} \in \S} \mu_{x_0}
    p_{x_{0},x_1} p_{x_{1},x_2}, \end{align*}\]
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: \[\begin{align*} &\P[X_2 = x_2]\\ &= \sum_{x_0 \in \S} \sum_{x_{1} \in \S} \P[X_0
    = x_0, X_1 = x_1, X_2 = x_2]\\ &= \sum_{x_0 \in \S} \sum_{x_{1} \in \S} \mu_{x_0}
    p_{x_{0},x_1} p_{x_{1},x_2}, \end{align*}\]
- en: where we used the *Distribution of a Sample Path*.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 其中我们使用了*样本路径的分布*。
- en: Pushing the sum over \(x_1\) in, this becomes
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 将 \(x_1\) 的和推进进去，这变成
- en: \[\begin{align*} &= \sum_{x_0 \in \S} \mu_{x_0} \sum_{x_{1} \in \S} p_{x_{0},x_1}
    p_{x_{1},x_2}\\ &= \sum_{x_0 \in \S} \mu_{x_0} (P^2)_{x_{0},x_2}, \end{align*}\]
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: \[\begin{align*} &= \sum_{x_0 \in \S} \mu_{x_0} \sum_{x_{1} \in \S} p_{x_{0},x_1}
    p_{x_{1},x_2}\\ &= \sum_{x_0 \in \S} \mu_{x_0} (P^2)_{x_{0},x_2}, \end{align*}\]
- en: where we recognized the definition of a matrix product – here \(P^2\). The result
    then follows.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 其中我们识别了矩阵乘积的定义——这里 \(P^2\)。结果随之而来。
- en: '*Proof:* For any \(s\), by definition of a marginal,'
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: '*Proof:* 对于任何 \(s\)，根据边缘的定义，'
- en: \[ \P[X_s = x_s] = \sum_{x_0, \ldots, x_{s-1} \in \S} \P[X_0 = x_0, X_1 = x_1,\ldots,X_{s-1}
    = x_{s-1}, X_s = x_s]. \]
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \P[X_s = x_s] = \sum_{x_0, \ldots, x_{s-1} \in \S} \P[X_0 = x_0, X_1 = x_1,\ldots,X_{s-1}
    = x_{s-1}, X_s = x_s]. \]
- en: Using the *Distribution of a Sample Path* in the time-homogeneous case, this
    evaluates to
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 使用时间齐次情况下的*样本路径的分布*，这可以评估为
- en: \[\begin{align*} \P[X_s = x_s] &= \sum_{x_0, \ldots, x_{s-1} \in \S} \mu_{x_0}
    \prod_{t=1}^s p_{x_{t-1},x_t}. \end{align*}\]
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: \[\begin{align*} \P[X_s = x_s] &= \sum_{x_0, \ldots, x_{s-1} \in \S} \mu_{x_0}
    \prod_{t=1}^s p_{x_{t-1},x_t}. \end{align*}\]
- en: The sum can be simplified by pushing the individual sums as far into the summand
    as possible
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 该和可以通过尽可能将单个和推进到和式中来简化
- en: \[\begin{align*} &\sum_{x_0, \ldots, x_{s-1} \in \S} \mu_{x_0} \prod_{t=1}^{s}
    p_{x_{t-1},x_t}\\ & \quad = \sum_{x_0 \in \S} \mu_{x_0} \sum_{x_{1} \in \S} p_{x_{0},x_{1}}
    \cdots \sum_{x_{s-2} \in \S} p_{x_{s-3},x_{s-2}} \sum_{x_{s-1} \in \S} p_{x_{s-2},x_{s-1}}
    \,p_{x_{s-1},x_s}\\ & \quad = \sum_{x_0 \in \S} \mu_{x_0} \sum_{x_{1} \in \S}
    p_{x_{0},x_{1}} \cdots \sum_{x_{s-2} \in \S} p_{x_{s-3},x_{s-2}} \, \left(P^2\right)_{x_{s-2},
    x_s} \\ & \quad = \sum_{x_0 \in \S} \mu_{x_0} \sum_{x_{1} \in \S} p_{x_{0},x_{1}}
    \cdots \sum_{x_{s-3} \in \S} p_{x_{s-4},x_{s-3}} \, \left(P^3\right)_{x_{s-3},
    x_s} \\ & \quad = \cdots \\ & \quad = \left(\bmu P^s\right)_{x_s}, \end{align*}\]
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: \[\begin{align*} &\sum_{x_0, \ldots, x_{s-1} \in \S} \mu_{x_0} \prod_{t=1}^{s}
    p_{x_{t-1},x_t}\\ & \quad = \sum_{x_0 \in \S} \mu_{x_0} \sum_{x_{1} \in \S} p_{x_{0},x_{1}}
    \cdots \sum_{x_{s-2} \in \S} p_{x_{s-3},x_{s-2}} \sum_{x_{s-1} \in \S} p_{x_{s-2},x_{s-1}}
    \,p_{x_{s-1},x_s}\\ & \quad = \sum_{x_0 \in \S} \mu_{x_0} \sum_{x_{1} \in \S}
    p_{x_{0},x_{1}} \cdots \sum_{x_{s-2} \in \S} p_{x_{s-3},x_{s-2}} \, \left(P^2\right)_{x_{s-2},
    x_s} \\ & \quad = \sum_{x_0 \in \S} \mu_{x_0} \sum_{x_{1} \in \S} p_{x_{0},x_{1}}
    \cdots \sum_{x_{s-3} \in \S} p_{x_{s-4},x_{s-3}} \, \left(P^3\right)_{x_{s-3},
    x_s} \\ & \quad = \cdots \\ & \quad = \left(\bmu P^s\right)_{x_s}, \end{align*}\]
- en: where on the second line we recognized the innermost sum as a matrix product,
    then proceeded similarly. \(\square\)
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 在第二行中，我们将最内层的和识别为矩阵乘积，然后继续类似地进行。\(\square\)
- en: The special case \(\bmu = \mathbf{e}_x^T\) gives that for any \(x, y \in [n]\)
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 特殊情况 \(\bmu = \mathbf{e}_x^T\) 给出对于任何 \(x, y \in [n]\)
- en: \[ \P[X_s = y\,|\,X_0 = x] = (\boldsymbol{\mu} P^s)_y = (\mathbf{e}_x^T P^s)_y
    = (P^s)_{x,y}. \]
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \P[X_s = y\,|\,X_0 = x] = (\boldsymbol{\mu} P^s)_y = (\mathbf{e}_x^T P^s)_y
    = (P^s)_{x,y}. \]
- en: '**EXAMPLE:** **(Weather Model, continued)** Suppose day \(0\) is \(\mathrm{Dry}\),
    that is, the initial distribution is \(\bmu = (1,0)^T\). What is the probability
    that it is \(\mathrm{Wet}\) on day \(2\)? We apply the formula above to get \(\P[X_2
    = 2] = \left(\bmu P^2\right)_{2}\). Note that'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: '**EXAMPLE:** **(Weather Model, continued)** 假设第 \(0\) 天是 \(\mathrm{Dry}\)，即初始分布是
    \(\bmu = (1,0)^T\)。第 \(2\) 天是 \(\mathrm{Wet}\) 的概率是多少？我们应用上述公式得到 \(\P[X_2 = 2]
    = \left(\bmu P^2\right)_{2}\)。注意，'
- en: \[\begin{align*} \bmu P^2 &= (1,0)^T \begin{pmatrix} 3/4 & 1/4\\ 1/4 & 3/4 \end{pmatrix}
    \begin{pmatrix} 3/4 & 1/4\\ 1/4 & 3/4 \end{pmatrix}\\ &= (3/4,1/4)^T \begin{pmatrix}
    3/4 & 1/4\\ 1/4 & 3/4 \end{pmatrix}\\ &= (10/16,6/16)^T\\ &= (5/8,3/8)^T. \end{align*}\]
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: \[\begin{align*} \bmu P^2 &= (1,0)^T \begin{pmatrix} 3/4 & 1/4\\ 1/4 & 3/4 \end{pmatrix}
    \begin{pmatrix} 3/4 & 1/4\\ 1/4 & 3/4 \end{pmatrix}\\ &= (3/4,1/4)^T \begin{pmatrix}
    3/4 & 1/4\\ 1/4 & 3/4 \end{pmatrix}\\ &= (10/16,6/16)^T\\ &= (5/8,3/8)^T. \end{align*}\]
- en: So the answer is \(3/8\). \(\lhd\)
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 所以答案是 \(3/8\). \(\lhd\)
- en: It will be useful later on to observe that the *Time Marginals Theorem* generalizes
    to
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 以后将很有用，观察到 *时间边缘定理* 可以推广到
- en: \[ \P[X_t = x_t\,|\,X_s = x_s] = (P^{t-s})_{x_s,x_t}, \]
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \P[X_t = x_t\,|\,X_s = x_s] = (P^{t-s})_{x_s,x_t}, \]
- en: for \(s \leq t\).
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 对于 \(s \leq t\)。
- en: In the time-homogeneous case, an alternative way to represent a transition matrix
    is with a directed graph showing all possible transitions.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 在时间齐次的情况下，表示转移矩阵的另一种方法是使用显示所有可能转移的有向图。
- en: '**DEFINITION** **(Transition Graph)** \(\idx{transition graph}\xdi\) Let \((X_t)_{t
    \geq 0}\) be a Markov chain over the state space \(\mathcal{S} = [n]\) with transition
    matrix \(P = (p_{i,j})_{i,j=1}^{n}\). The transition graph (or state transition
    diagram) of \((X_t)_{t \geq 0}\) is a directed graph with vertices \([n]\) and
    a directed edge from \(i\) to \(j\) if and only if \(p_{i,j} > 0\). We often associate
    a weight \(p_{i,j}\) to that edge. \(\natural\)'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: '**定义** **（转移图）** \(\idx{transition graph}\xdi\) 设 \((X_t)_{t \geq 0}\) 是状态空间
    \(\mathcal{S} = [n]\) 上的马尔可夫链，其转移矩阵为 \(P = (p_{i,j})_{i,j=1}^{n}\)。\((X_t)_{t
    \geq 0}\) 的转移图（或状态转移图）是一个有向图，其顶点为 \([n]\)，如果且仅当 \(p_{i,j} > 0\) 时，从 \(i\) 到 \(j\)
    有一个有向边。我们通常将权重 \(p_{i,j}\) 联系到那条边。\(\natural\)'
- en: '**NUMERICAL CORNER:** Returning to our *Robot Vacuum Example*, the transition
    graph of the chain can be obtained by thinking of \(P\) as the weighted adjacency
    matrix of the transition graph.'
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: '**数值角**: 回到我们的 *机器人吸尘器示例*，可以通过将 \(P\) 视为转移图的有向权重邻接矩阵来获得链的转移图。'
- en: '[PRE0]'
  id: totrans-121
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: We define a graph from its adjancency matrix. See [`networkx.from_numpy_array()`](https://networkx.org/documentation/stable/reference/generated/networkx.convert_matrix.from_numpy_array.html).
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 我们从一个邻接矩阵定义一个图。参见 `networkx.from_numpy_array()`（https://networkx.org/documentation/stable/reference/generated/networkx.convert_matrix.from_numpy_array.html）。
- en: '[PRE1]'
  id: totrans-123
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Drawing edge weights on a directed graph in a readable fashion is not straighforward.
    We will not do this here.
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 在有向图上以可读的方式绘制边权重并不简单。我们在这里不会这样做。
- en: <details class="hide above-input"><summary aria-label="Toggle hidden content">Show
    code cell source Hide code cell source</summary>
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: <details class="hide above-input"><summary aria-label="切换隐藏内容">显示代码单元格源代码 隐藏代码单元格源代码</summary>
- en: '[PRE2]</details> ![../../_images/3ed7b79c7b64ae82a443d682f19bec765a062c280a163d9734fd0ce480d6d157.png](../Images/e3496ddf45cc8074ed0952cee5403722.png)'
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE2]</details> ![../../_images/3ed7b79c7b64ae82a443d682f19bec765a062c280a163d9734fd0ce480d6d157.png](../Images/e3496ddf45cc8074ed0952cee5403722.png)'
- en: \(\unlhd\)
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: \(\unlhd\)
- en: Once we have specified a transition matrix (and an initial distribution), we
    can simulate the corresponding Markov chain. This is useful to compute (approximately)
    probabilities of complex events through the law of large numbers. Here is some
    code to generate one sample path up to some given time \(T\). We assume that the
    state space is \([n]\). We use [`rng.choice`](https://numpy.org/doc/stable/reference/random/generated/numpy.random.Generator.choice.html)
    to generate each transition.
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦我们指定了转移矩阵（以及初始分布），我们就可以模拟相应的马尔可夫链。这有助于通过大数定律（approximately）计算复杂事件的概率。以下是一些生成给定时间
    \(T\) 的样本路径的代码。我们假设状态空间是 \([n]\)。我们使用 `rng.choice`（https://numpy.org/doc/stable/reference/random/generated/numpy.random.Generator.choice.html）来生成每个转移。
- en: '[PRE3]'
  id: totrans-129
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: '**NUMERICAL CORNER:** Let’s try with our *Robot Vacuum*. We take the initial
    distribution to be the uniform distribution.'
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: '**数值角**: 让我们用我们的 *机器人吸尘器* 来试一试。我们将初始分布设为均匀分布。'
- en: '[PRE4]'
  id: totrans-131
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: '[PRE5]'
  id: totrans-132
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: For example, we can use a simulation to approximate the expected number of times
    that room \(9\) is visited up to time \(10\). To do this, we run the simulation
    a large number of times (say \(1000\)) and count the average number of visits
    to \(9\).
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，我们可以使用模拟来近似房间 \(9\) 在时间 \(10\) 之前被访问的期望次数。为此，我们运行模拟多次（例如 \(1000\) 次）并计算访问
    \(9\) 的平均次数。
- en: '[PRE6]'
  id: totrans-134
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: '[PRE7]'
  id: totrans-135
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: \(\unlhd\)
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: \(\unlhd\)
- en: '**CHAT & LEARN** Markov Decision Processes (MDPs) are a framework for modeling
    decision making in situations where outcomes are partly random and partly under
    the control of a decision maker. Ask your favorite AI chatbot to explain the basic
    components of an MDP and how they relate to Markov chains. Discuss some applications
    of MDPs, such as in robotics or game theory. \(\ddagger\)'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: '**CHAT & LEARN** 马尔可夫决策过程（MDPs）是用于模拟在结果部分随机且部分受决策者控制的决策情境的框架。请你的首选 AI 聊天机器人解释
    MDP 的基本组成部分以及它们如何与马尔可夫链相关联。讨论 MDP 的应用，例如在机器人学或博弈论中。 \(\ddagger\)'
- en: '***Self-assessment quiz*** *(with help from Claude, Gemini, and ChatGPT)*'
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: '***自我评估测验*** *(由 Claude、Gemini 和 ChatGPT 协助)*'
- en: '**1** Which of the following is true about the transition matrix \(P\) of a
    Markov chain?'
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: '**1** 关于马尔可夫链的转移矩阵 \(P\) 的以下哪个说法是正确的？'
- en: a) All entries of \(P\) are non-negative, and all columns sum to one.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: a) \(P\) 的所有条目都是非负的，并且所有列之和为 1。
- en: b) All entries of \(P\) are non-negative, and all rows sum to one.
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: b) \(P\) 的所有条目都是非负的，并且所有行之和为 1。
- en: c) All entries of \(P\) are non-negative, and both rows and columns sum to one.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: c) \(P\) 的所有条目都是非负的，并且行和列之和都为 1。
- en: d) All entries of \(P\) are non-negative, and either rows or columns sum to
    one, but not both.
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: d) \(P\) 的所有条目都是非负的，并且行或列之和为 1，但不能同时为两者。
- en: '**2** What is the *Markov Property*?'
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: '**2** 马尔可夫性质是什么？'
- en: a) The past and future are independent.
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: a) 过去和未来是独立的。
- en: b) The past and future are independent given the present.
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: b) 在给定当前的情况下，过去和未来是独立的。
- en: c) The present and future are independent given the past.
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: c) 在给定过去的情况下，现在和未来是独立的。
- en: d) The past, present, and future are all independent.
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: d) 过去、现在和未来都是独立的。
- en: '**3** Consider a Markov chain \((X_t)_{t \ge 0}\) on state space \(S\). Which
    of the following equations is a direct consequence of the *Markov Property*?'
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: '**3** 考虑在状态空间 \(S\) 上的马尔可夫链 \((X_t)_{t \ge 0}\)。以下哪个等式是马尔可夫性质的直接结果？'
- en: a) \(\mathbb{P}[X_{t+1} = x_{t+1} | X_t = x_t] = \mathbb{P}[X_{t+1} = x_{t+1}]\)
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: a) \(\mathbb{P}[X_{t+1} = x_{t+1} | X_t = x_t] = \mathbb{P}[X_{t+1} = x_{t+1}]\)
- en: b) \(\mathbb{P}[X_{t+1} = x_{t+1} | X_t = x_t, X_{t-1} = x_{t-1}] = \mathbb{P}[X_{t+1}
    = x_{t+1} | X_t = x_t]\)
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: b) \(\mathbb{P}[X_{t+1} = x_{t+1} | X_t = x_t, X_{t-1} = x_{t-1}] = \mathbb{P}[X_{t+1}
    = x_{t+1} | X_t = x_t]\)
- en: c) \(\mathbb{P}[X_{t+1} = x_{t+1} | X_t = x_t] = \mathbb{P}[X_{t+1} = x_{t+1}
    | X_0 = x_0]\)
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: c) \(\mathbb{P}[X_{t+1} = x_{t+1} | X_t = x_t] = \mathbb{P}[X_{t+1} = x_{t+1}
    | X_0 = x_0]\)
- en: d) \(\mathbb{P}[X_{t+1} = x_{t+1} | X_t = x_t, X_{t-1} = x_{t-1}] = \mathbb{P}[X_{t+1}
    = x_{t+1}]\)
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: d) \(\mathbb{P}[X_{t+1} = x_{t+1} | X_t = x_t, X_{t-1} = x_{t-1}] = \mathbb{P}[X_{t+1}
    = x_{t+1}]\)
- en: '**4** Consider a Markov chain \((X_t)_{t\geq0}\) with transition matrix \(P
    = (p_{i,j})_{i,j}\) and initial distribution \(\mu\). Which of the following is
    true about the distribution of a sample path \((X_0, X_1, \ldots, X_T)\)?'
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: '**4** 考虑一个具有转移矩阵 \(P = (p_{i,j})_{i,j}\) 和初始分布 \(\mu\) 的马尔可夫链 \((X_t)_{t\geq0}\)。以下关于样本路径
    \((X_0, X_1, \ldots, X_T)\) 的分布的哪个说法是正确的？'
- en: a) \(\mathbb{P}[X_0 = x_0, X_1 = x_1, \ldots, X_T = x_T] = \mu_{x_0} \prod_{t=1}^T
    p_{x_{t-1},x_t}\)
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: a) \(\mathbb{P}[X_0 = x_0, X_1 = x_1, \ldots, X_T = x_T] = \mu_{x_0} \prod_{t=1}^T
    p_{x_{t-1},x_t}\)
- en: b) \(\mathbb{P}[X_0 = x_0, X_1 = x_1, \ldots, X_T = x_T] = \mu_{x_0} \sum_{t=1}^T
    p_{x_{t-1},x_t}\)
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: b) \(\mathbb{P}[X_0 = x_0, X_1 = x_1, \ldots, X_T = x_T] = \mu_{x_0} \sum_{t=1}^T
    p_{x_{t-1},x_t}\)
- en: c) \(\mathbb{P}[X_0 = x_0, X_1 = x_1, \ldots, X_T = x_T] = \prod_{t=0}^T \mu_{x_t}\)
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: c) \(\mathbb{P}[X_0 = x_0, X_1 = x_1, \ldots, X_T = x_T] = \prod_{t=0}^T \mu_{x_t}\)
- en: d) \(\mathbb{P}[X_0 = x_0, X_1 = x_1, \ldots, X_T = x_T] = \sum_{t=0}^T \mu_{x_t}\)
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: d) \(\mathbb{P}[X_0 = x_0, X_1 = x_1, \ldots, X_T = x_T] = \sum_{t=0}^T \mu_{x_t}\)
- en: '**5** In the random walk on the Petersen graph example, if the current state
    is vertex 9, what is the probability of transitioning to vertex 4 in the next
    step?'
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: '**5** 在 Petersen 图上的随机游走示例中，如果当前状态是顶点 9，那么在下一步转移到顶点 4 的概率是多少？'
- en: a) 0
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: a) 0
- en: b) 1/10
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: b) 1/10
- en: c) 1/3
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: c) 1/3
- en: d) 1
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: d) 1
- en: 'Answer for 1: b. Justification: The text states that “the transition matrix
    \(P\) is a stochastic matrix, that is, all its entries are nonnegative and all
    its rows sum to one.”'
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 答案 1：b. 理由：文本中提到“转移矩阵 \(P\) 是一个随机矩阵，即所有条目都是非负的，并且所有行之和为 1。”
- en: 'Answer for 2: b. Justification: The text summarizes the *Markov Property* as
    “the past and the future are independent given the present.”'
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 答案 2：b. 理由：文本将马尔可夫性质总结为“在给定当前的情况下，过去和未来是独立的。”
- en: 'Answer for 3: b. Justification: This is a direct statement of the *Markov Property*,
    where the future state \(X_{t+1}\) depends only on the present state \(X_t\) and
    not on the past state \(X_{t-1}\).'
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 答案 3：b. 理由：这是对马尔可夫性质的直接陈述，其中未来状态 \(X_{t+1}\) 只依赖于当前状态 \(X_t\)，而不依赖于过去状态 \(X_{t-1}\)。
- en: 'Answer for 4: a. Justification: The text states the *Distribution of a Sample
    Path*:'
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 答案4：a. 证明：文本说明了*样本路径的分布*：
- en: \[ \mathbb{P}[X_0 = x_0, X_1 = x_1, \ldots, X_T = x_T] = \mu_{x_0} \prod_{t=1}^T
    p_{x_{t-1},x_t}. \]
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \mathbb{P}[X_0 = x_0, X_1 = x_1, \ldots, X_T = x_T] = \mu_{x_0} \prod_{t=1}^T
    p_{x_{t-1},x_t}. \]
- en: 'Answer for 5: c. Justification: In the Petersen graph, each vertex has 3 neighbors,
    and the random walk chooses one uniformly at random.'
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 答案5：c. 证明：在Petersen图中，每个顶点有3个邻居，随机游走随机选择一个。
- en: 7.2.1\. Basic definitions[#](#basic-definitions "Link to this heading")
  id: totrans-170
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 7.2.1\. 基本定义[#](#basic-definitions "链接到这个标题")
- en: 'A discrete-time Markov chain\(\idx{Markov chain}\xdi\) is a stochastic process\(\idx{stochastic
    process}\xdi\), i.e., a collection of random variables in this case indexed by
    time. We assume that the random variables take values in a common finite state
    space \(\S\). What makes it “Markovian” is that “it forgets the past” in the sense
    that “its future only depends on its present state.” More formally:'
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 一个离散时间马尔可夫链\(\idx{Markov chain}\xdi\)是一个随机过程\(\idx{stochastic process}\xdi\)，即在这种情况下，由时间索引的一组随机变量。我们假设随机变量在共同的有限状态空间
    \(\S\) 中取值。使其成为“马尔可夫的”是因为它在某种意义上“忘记了过去”，即“它的未来只取决于它的当前状态。”更正式地说：
- en: '**DEFINITION** **(Discrete-Time Markov Chain)** The sequence of random variables
    \((X_t)_{t \geq 0} = (X_0, X_1, X_2, \ldots)\) taking values in the finite state
    space \(\S\) is a Markov chain if: for all \(t \geq 1\) and all \(x_0,x_1,\ldots,x_t
    \in \S\)'
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: '**定义** **(离散时间马尔可夫链)** 随机变量序列 \((X_t)_{t \geq 0} = (X_0, X_1, X_2, \ldots)\)
    在有限状态空间 \(\S\) 中取值，如果对于所有 \(t \geq 1\) 和所有 \(x_0,x_1,\ldots,x_t \in \S\)，'
- en: \[ (*)\qquad\P[X_t = x_t\,|\,X_{t-1} = x_{t-1}, X_{t-2} = x_{t-2},\ldots,X_0
    = x_0] = \P[X_t = x_t\,|\,X_{t-1} = x_{t-1}] \]
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: \[ (*)\qquad\P[X_t = x_t\,|\,X_{t-1} = x_{t-1}, X_{t-2} = x_{t-2},\ldots,X_0
    = x_0] = \P[X_t = x_t\,|\,X_{t-1} = x_{t-1}] \]
- en: provided the conditional probabilities are well-defined. \(\natural\)
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 条件概率定义良好。 \(\natural\)
- en: To be clear, the event in the conditioning is
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 为了清晰起见，条件中的事件是
- en: \[ \{X_{t-1} = x_{t-1}, X_{t-2} = x_{t-2},\ldots,X_0 = x_0\} = \{X_{t-1} = x_{t-1}\}
    \cap \{X_{t-2} = x_{t-2}\} \cap \cdots \cap \{X_0 = x_0\}. \]
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \{X_{t-1} = x_{t-1}, X_{t-2} = x_{t-2},\ldots,X_0 = x_0\} = \{X_{t-1} = x_{t-1}\}
    \cap \{X_{t-2} = x_{t-2}\} \cap \cdots \cap \{X_0 = x_0\}. \]
- en: It will sometimes be convenient to assume that the common state space \(\S\)
    is of the form \([m] = \{1,\ldots,m\}\).
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 有时假设共同的态空间 \(\S\) 的形式为 \([m] = \{1,\ldots,m\}\) 会很方便。
- en: '**EXAMPLE:** **(Weather Model)** Here is a simple weather model. Every day
    is either \(\mathrm{Dry}\) or \(\mathrm{Wet}\). We model the transitions as Markovian;
    intuitively, we assume that tomorrow’s weather only depends - in a random fashion
    independent of the past - on today’s weather. Say the weather changes with \(25\%\)
    chance. More formally, let \(X_t \in \mathcal{S}\) be the weather on day \(t\)
    with \(\mathcal{S} = \{\mathrm{Dry}, \mathrm{Wet}\}\). Assume that \(X_0 = \mathrm{Dry}\)
    and let \((Z_t)_{t \geq 0}\) be an i.i.d. (i.e., independent, identically distributed)
    sequence of random variables taking values in \(\{\mathrm{Same}, \mathrm{Change}\}\)
    satisfying'
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: '**示例** **(天气模型)** 这是一个简单的天气模型。每一天要么是 \(\mathrm{Dry}\) 要么是 \(\mathrm{Wet}\)。我们将转换建模为马尔可夫链；直观上，我们假设明天的天气只依赖于今天的天气——以一种独立于过去的随机方式。假设天气变化的概率是
    \(25\%\)。更正式地说，让 \(X_t \in \mathcal{S}\) 表示第 \(t\) 天的天气，其中 \(\mathcal{S} = \{\mathrm{Dry},
    \mathrm{Wet}\}\)。假设 \(X_0 = \mathrm{Dry}\)，并让 \((Z_t)_{t \geq 0}\) 是一个独立同分布的（即独立且同分布）随机变量序列，取值在
    \(\{\mathrm{Same}, \mathrm{Change}\}\) 中，满足'
- en: \[ \mathbb{P}[Z_t = \mathrm{Same}] = 1 - \mathbb{P}[Z_t = \mathrm{Change}] =
    3/4. \]
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \mathbb{P}[Z_t = \mathrm{Same}] = 1 - \mathbb{P}[Z_t = \mathrm{Change}] =
    3/4. \]
- en: Then define for all \(t \geq 0\)
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 然后定义对于所有 \(t \geq 0\)，
- en: \[\begin{split} X_{t+1} = f(X_t, Z_t) = \begin{cases} X_t & \text{if $Z_t =
    \mathrm{Same}$},\\ \mathrm{Wet} & \text{if $X_t = \mathrm{Dry}$ and $Z_t = \mathrm{Change}$},\\
    \mathrm{Dry} & \text{if $X_t = \mathrm{Wet}$ and $Z_t = \mathrm{Change}$}. \end{cases}
    \end{split}\]
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: \[\begin{split} X_{t+1} = f(X_t, Z_t) = \begin{cases} X_t & \text{if $Z_t =
    \mathrm{Same}$},\\ \mathrm{Wet} & \text{if $X_t = \mathrm{Dry}$ and $Z_t = \mathrm{Change}$},\\
    \mathrm{Dry} & \text{if $X_t = \mathrm{Wet}$ and $Z_t = \mathrm{Change}$}. \end{cases}
    \end{split}\]
- en: 'We claim that \((X_t)_{t \geq 0}\) is a Markov chain. We use two observations:'
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 我们声称 \((X_t)_{t \geq 0}\) 是一个马尔可夫链。我们使用两个观察结果：
- en: 1- By composition,
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 1- 通过组合，
- en: \[ X_1 = f(X_0, Z_0), \]\[ X_2 = f(X_1,Z_1) = f(f(X_0,Z_0),Z_1), \]\[ X_3 =
    f(X_2,Z_2) = f(f(X_1,Z_1),Z_2) = f(f(f(X_0,Z_0),Z_1),Z_2), \]
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: \[ X_1 = f(X_0, Z_0), \]\[ X_2 = f(X_1,Z_1) = f(f(X_0,Z_0),Z_1), \]\[ X_3 =
    f(X_2,Z_2) = f(f(X_1,Z_1),Z_2) = f(f(f(X_0,Z_0),Z_1),Z_2), \]
- en: and, more generally,
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: and, more generally,
- en: \[ X_t = f(X_{t-1},Z_{t-1}) = f(f(X_{t-2},Z_{t-2}),Z_{t-1}) = f(f(\cdots f(f(X_0,Z_0),Z_1),\cdots),Z_{t-1})
    \]
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: \[ X_t = f(X_{t-1},Z_{t-1}) = f(f(X_{t-2},Z_{t-2}),Z_{t-1}) = f(f(\cdots f(f(X_0,Z_0),Z_1),\cdots),Z_{t-1})
    \]
- en: is a deterministic function of \(X_0 = \mathrm{Dry}\) and \(Z_0,\ldots,Z_{t-1}\).
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 是 \(X_0 = \mathrm{Dry}\) 和 \(Z_0,\ldots,Z_{t-1}\) 的确定性函数。
- en: 2- For any \(x_1,\ldots,x_t \in \S\), there is precisely one value of \(z \in
    \{\mathrm{Same}, \mathrm{Change}\}\) such that \(x_t = f(x_{t-1}, z)\), i.e.,
    if \(x_t = x_{t-1}\) we must have \(z = \mathrm{Same}\) and if \(x_t \neq x_{t-1}\)
    we must have \(z = \mathrm{Change}\).
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 2- 对于任何 \(x_1,\ldots,x_t \in \S\)，存在一个唯一的 \(z \in \{\mathrm{Same}, \mathrm{Change}\}\)
    的值，使得 \(x_t = f(x_{t-1}, z)\)，即如果 \(x_t = x_{t-1}\)，则必须有 \(z = \mathrm{Same}\)；如果
    \(x_t \neq x_{t-1}\)，则必须有 \(z = \mathrm{Change}\)。
- en: Fix \(x_0 = \mathrm{Dry}\). For any \(x_1,\ldots,x_t \in \S\), letting \(z\)
    be as in Observation 2,
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: 固定 \(x_0 = \mathrm{Dry}\)。对于任何 \(x_1,\ldots,x_t \in \S\)，让 \(z\) 如观察2中所述，
- en: \[\begin{align*} &\P[X_t = x_t\,|\,X_{t-1} = x_{t-1}, X_{t-2} = x_{t-2},\ldots,X_0
    = x_0]\\ &= \P[f(X_{t-1}, Z_{t-1}) = x_t \,|\, X_{t-1} = x_{t-1}, X_{t-2} = x_{t-2},\ldots,X_0
    = x_0]\\ &= \P[f(x_{t-1}, Z_{t-1}) = x_t \,|\, X_{t-1} = x_{t-1}, X_{t-2} = x_{t-2},\ldots,X_0
    = x_0]\\ &= \P[Z_{t-1} = z \,|\, X_{t-1} = x_{t-1}, X_{t-2} = x_{t-2},\ldots,X_0
    = x_0]\\ &= \P[Z_{t-1} = z], \end{align*}\]
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: \[\begin{align*} &\P[X_t = x_t\,|\,X_{t-1} = x_{t-1}, X_{t-2} = x_{t-2},\ldots,X_0
    = x_0]\\ &= \P[f(X_{t-1}, Z_{t-1}) = x_t \,|\, X_{t-1} = x_{t-1}, X_{t-2} = x_{t-2},\ldots,X_0
    = x_0]\\ &= \P[f(x_{t-1}, Z_{t-1}) = x_t \,|\, X_{t-1} = x_{t-1}, X_{t-2} = x_{t-2},\ldots,X_0
    = x_0]\\ &= \P[Z_{t-1} = z \,|\, X_{t-1} = x_{t-1}, X_{t-2} = x_{t-2},\ldots,X_0
    = x_0]\\ &= \P[Z_{t-1} = z], \end{align*}\]
- en: where we used that \(Z_{t-1}\) is independent of \(Z_{t-2},\ldots,Z_0\) and
    \(X_0\) (which is deterministic), and therefore is independent of \(X_{t-1},\ldots,X_0\)
    by Observation 1\. The same argument shows that
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 其中我们使用了 \(Z_{t-1}\) 与 \(Z_{t-2},\ldots,Z_0\) 和 \(X_0\)（它是确定的）是独立的，因此根据观察1，\(Z_{t-1}\)
    与 \(X_{t-1},\ldots,X_0\) 也是独立的。同样的论证表明
- en: \[ \P[X_t = x_t\,|\,X_{t-1} = x_{t-1}] = \P[Z_{t-1} = z], \]
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \P[X_t = x_t\,|\,X_{t-1} = x_{t-1}] = \P[Z_{t-1} = z], \]
- en: and that proves the claim.
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 这就证明了该命题。
- en: More generally, one can pick \(X_0\) according to an initial distribution, independently
    from the sequence \((Z_t)_{t \geq 0}\). The argument above can be adapted to this
    case. \(\lhd\)
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: 更一般地，可以根据初始分布独立于序列 \((Z_t)_{t \geq 0}\) 来选择 \(X_0\)。上述论证可以适应这种情况。\(\lhd\)
- en: '**EXAMPLE:** **(Random Walk on the Petersen Graph)** Let \(G = (V,E)\) be the
    Petersen graph. Each vertex \(i\) has degree \(3\), that is, it has three neighbors
    which we denote \(v_{i,1}, v_{i,2}, v_{i,3}\) in some arbitrary order. For instance,
    denoting the vertices by \(1,\ldots, 10\) as above, vertex \(9\) has neighbors
    \(v_{9,1} = 4, v_{9,2} = 6, v_{9,3} = 7\).'
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: '**示例：** **（彼得森图上的随机游走）** 设 \(G = (V,E)\) 为彼得森图。每个顶点 \(i\) 的度数为 \(3\)，即它有三个邻居，我们用
    \(v_{i,1}, v_{i,2}, v_{i,3}\) 表示，顺序任意。例如，如上所述，用 \(1,\ldots, 10\) 表示顶点，顶点 \(9\)
    的邻居为 \(v_{9,1} = 4, v_{9,2} = 6, v_{9,3} = 7\)。'
- en: We consider the following random walk on \(G\). We start at \(X_0 = 1\). Then,
    for each \(t\geq 0\), we let \(X_{t+1}\) be a uniformly chosen neighbor of \(X_t\),
    independently of the previous history. That is, we jump at random from neighbor
    to neighbor. Formally, fix \(X_0 = 1\) and let \((Z_t)_{t \geq 0}\) be an i.i.d.
    sequence of random variables taking values in \(\{1,2,3\}\) satisfying
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 我们考虑在 \(G\) 上的以下随机游走。我们从 \(X_0 = 1\) 开始。然后，对于每个 \(t \geq 0\)，我们让 \(X_{t+1}\)
    成为 \(X_t\) 的一个均匀选择的邻居，独立于之前的历史。也就是说，我们从邻居随机跳到邻居。形式上，固定 \(X_0 = 1\) 并让 \((Z_t)_{t
    \geq 0}\) 是一个在 \(\{1,2,3\}\) 中取值的独立同分布随机变量序列，满足
- en: \[ \mathbb{P}[Z_t = 1] = \mathbb{P}[Z_t = 2] = \mathbb{P}[Z_t = 3] = 1/3. \]
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \mathbb{P}[Z_t = 1] = \mathbb{P}[Z_t = 2] = \mathbb{P}[Z_t = 3] = 1/3. \]
- en: Then define, for all \(t \geq 0\), \(X_{t+1} = f(X_t, Z_t) = v_{i,Z_t}\) if
    \(X_t = v_i\).
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，对于所有 \(t \geq 0\)，定义 \(X_{t+1} = f(X_t, Z_t) = v_{i,Z_t}\)，如果 \(X_t = v_i\)。
- en: By an argument similar to the previous example, \((X_t)_{t \geq 0}\) is a Markov
    chain. Also as in the previous example, one can pick \(X_0\) according to an initial
    distribution, independently from the sequence \((Z_t)_{t \geq 0}\). \(\lhd\)
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 通过与上一个例子类似的论证，\((X_t)_{t \geq 0}\) 是一个马尔可夫链。同样地，正如前一个例子中那样，可以选择 \(X_0\) 根据初始分布，独立于序列
    \((Z_t)_{t \geq 0}\)。\(\lhd\)
- en: 'There are various useful generalizations of the condition \((*)\) in the definition
    of a Markov chain. These are all special cases of what is referred to as the *Markov
    Property*\(\idx{Markov property}\xdi\) which can be summarized as: the past and
    the future are independent given the present. We record a version general enough
    for us here. Let \((X_t)_{t \geq 0}\) be a Markov chain on the state space \(\mathcal{S}\).
    For any integer \(h \geq 0\), \(x_{t-1}\in \mathcal{S}\) and subsets \(\mathcal{P}
    \subseteq \mathcal{S}^{t-1}\), \(\mathcal{F} \subseteq \mathcal{S}^{h+1}\) of
    state sequences of length \(t-1\) and \(h+1\) respectively, it holds that'
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 在马尔可夫链定义中的条件 \((*)\) 有各种有用的推广。这些都是所谓的马尔可夫性质\(\idx{Markov property}\xdi\)的特殊情况，可以总结为：给定当前状态，过去和未来是独立的。我们在此记录一个足够通用的版本。设
    \((X_t)_{t \geq 0}\) 是定义在状态空间 \(\mathcal{S}\) 上的马尔可夫链。对于任何整数 \(h \geq 0\)，\(x_{t-1}\in
    \mathcal{S}\) 和长度为 \(t-1\) 和 \(h+1\) 的状态序列的子集 \(\mathcal{P} \subseteq \mathcal{S}^{t-1}\)，\(\mathcal{F}
    \subseteq \mathcal{S}^{h+1}\)，它成立，
- en: \[\begin{align*} \P[(X_t,\ldots,X_{t+h}) \in \mathcal{F}\,|\,X_{t-1} = x_{t-1},
    (X_0,\ldots,X_{t-2}) \in \mathcal{P}] &= \P[(X_t,\ldots,X_{t+h}) \in \mathcal{F}\,|\,X_{t-1}
    = x_{t-1}]. \end{align*}\]
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: \[\begin{align*} \P[(X_t,\ldots,X_{t+h}) \in \mathcal{F}\,|\,X_{t-1} = x_{t-1},
    (X_0,\ldots,X_{t-2}) \in \mathcal{P}] &= \P[(X_t,\ldots,X_{t+h}) \in \mathcal{F}\,|\,X_{t-1}
    = x_{t-1}]. \end{align*}\]
- en: One important implication of the *Markov Property* is that the distribution
    of a sample path, i.e., an event of the form \(\{X_0 = x_0, X_1 = x_1, \ldots,
    X_T = x_T\}\), simplifies considerably.
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 马尔可夫性质的一个重要含义是样本路径的分布，即形式为 \(\{X_0 = x_0, X_1 = x_1, \ldots, X_T = x_T\}\) 的事件，大大简化了。
- en: '**THEOREM** **(Distribution of a Sample Path)** \(\idx{distribution of a sample
    path}\xdi\) For any \(x_0, x_1, \ldots, x_T \in \mathcal{S}\),'
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: '**定理** **(样本路径的分布)** \(\idx{distribution of a sample path}\xdi\) 对于任何 \(x_0,
    x_1, \ldots, x_T \in \mathcal{S}\)，'
- en: \[ \P[X_0 = x_0, X_1 = x_1, \ldots, X_T = x_T] = \P[X_0 = x_0] \,\prod_{t=1}^T
    \,\P[X_t = x_t\,|\,X_{t-1} = x_{t-1}]. \]
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \P[X_0 = x_0, X_1 = x_1, \ldots, X_T = x_T] = \P[X_0 = x_0] \,\prod_{t=1}^T
    \,\P[X_t = x_t\,|\,X_{t-1} = x_{t-1}]. \]
- en: \(\sharp\)
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: \(\sharp\)
- en: '*Proof idea:* We use the *Multiplication Rule* and the *Markov Property*.'
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: '*证明思路:* 我们使用乘法规则和马尔可夫性质。'
- en: '*Proof:* We first apply the *Multiplication Rule*'
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: '*证明:* 我们首先应用乘法规则'
- en: \[ \P\left[\cap_{i=1}^r A_i\right] = \prod_{i=1}^r \P\left[A_i \,\middle|\,
    \cap_{j=1}^{i-1} A_j \right]. \]
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \P\left[\cap_{i=1}^r A_i\right] = \prod_{i=1}^r \P\left[A_i \,\middle|\,
    \cap_{j=1}^{i-1} A_j \right]. \]
- en: with \(A_i = \{X_{i-1} = x_{i-1}\}\) and \(r = T+1\). That gives
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: 其中 \(A_i = \{X_{i-1} = x_{i-1}\}\) 且 \(r = T+1\)。这给出
- en: \[\begin{align*} &\P[X_0 = x_0, X_1 = x_1, \ldots, X_T = x_T]\\ &= \P[X_0 =
    x_0] \,\prod_{t=1}^T \P[X_t = x_t\,|\,X_{t-1} = x_{t-1}, \ldots, X_0 = x_0]. \end{align*}\]
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: \[\begin{align*} &\P[X_0 = x_0, X_1 = x_1, \ldots, X_T = x_T]\\ &= \P[X_0 =
    x_0] \,\prod_{t=1}^T \P[X_t = x_t\,|\,X_{t-1} = x_{t-1}, \ldots, X_0 = x_0]. \end{align*}\]
- en: Then we use the *Markov Property* to simplify each term in the product. \(\square\)
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: 然后我们使用马尔可夫性质来简化乘积中的每一项。\(\square\)
- en: '**EXAMPLE:** **(Weather Model, continued)** Going back to the weather model
    from a previous example, fix \(x_0 = \mathrm{Dry}\) and \(x_1,\ldots,x_t \in \S\).
    Then, by the *Distribution of a Sample Path*,'
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: '**示例:** **(天气模型，继续)** 回到之前示例中的天气模型，固定 \(x_0 = \mathrm{Dry}\) 和 \(x_1,\ldots,x_t
    \in \S\)。然后，根据样本路径的分布，'
- en: \[ \P[X_0 = x_0, X_1 = x_1, \ldots, X_T = x_T] = \P[X_0 = x_0] \,\prod_{t=1}^T
    \,\P[X_t = x_t\,|\,X_{t-1} = x_{t-1}]. \]
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \P[X_0 = x_0, X_1 = x_1, \ldots, X_T = x_T] = \P[X_0 = x_0] \,\prod_{t=1}^T
    \,\P[X_t = x_t\,|\,X_{t-1} = x_{t-1}]. \]
- en: By assumption \(\P[X_0 = x_0] = 1\). Moreover, we have previously shown that
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: 根据假设 \(\P[X_0 = x_0] = 1\). 此外，我们之前已经证明过，
- en: \[ \P[X_t = x_t\,|\,X_{t-1} = x_{t-1}] = \P[Z_{t-1} = z_{t-1}], \]
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \P[X_t = x_t\,|\,X_{t-1} = x_{t-1}] = \P[Z_{t-1} = z_{t-1}], \]
- en: where \(z_{t-1} = \mathrm{Same}\) if \(x_t = x_{t-1}\) and \(z_{t-1} = \mathrm{Change}\)
    if \(x_t \neq x_{t-1}\).
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: 其中 \(z_{t-1} = \mathrm{Same}\) 如果 \(x_t = x_{t-1}\)，而 \(z_{t-1} = \mathrm{Change}\)
    如果 \(x_t \neq x_{t-1}\)。
- en: Hence, using the distribution of \(Z_t\),
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，使用 \(Z_t\) 的分布，
- en: \[\begin{split} \P[X_t = x_t\,|\,X_{t-1} = x_{t-1}] = \begin{cases} 3/4 & \text{if
    $x_t = x_{t-1}$},\\ 1/4 & \text{if $x_t \neq x_{t-1}$}. \end{cases} \end{split}\]
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: \[\begin{split} \P[X_t = x_t\,|\,X_{t-1} = x_{t-1}] = \begin{cases} 3/4 & \text{如果
    $x_t = x_{t-1}$},\\ 1/4 & \text{如果 $x_t \neq x_{t-1}$}. \end{cases} \end{split}\]
- en: 'Let \(n_T = |\{0 < t \leq T : x_t = x_{t-1}\}|\) be the number of transitions
    without change. Then,'
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: '设 \(n_T = |\{0 < t \leq T : x_t = x_{t-1}\}|\) 为无变化转换的数量。那么，'
- en: \[\begin{align*} \P[X_0 = x_0, X_1 = x_1, \ldots, X_T = x_T] &= \P[X_0 = x_0]
    \,\prod_{t=1}^T \,\P[X_t = x_t\,|\,X_{t-1} = x_{t-1}]\\ &= \prod_{t=1}^T\P[Z_{t-1}
    = z_{t-1}]\\ &= (3/4)^{n_T} (1/4)^{T - n_T}. \end{align*}\]
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: \[\begin{align*} \P[X_0 = x_0, X_1 = x_1, \ldots, X_T = x_T] &= \P[X_0 = x_0]
    \,\prod_{t=1}^T \,\P[X_t = x_t\,|\,X_{t-1} = x_{t-1}]\\ &= \prod_{t=1}^T\P[Z_{t-1}
    = z_{t-1}]\\ &= (3/4)^{n_T} (1/4)^{T - n_T}. \end{align*}\]
- en: \(\lhd\)
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: \(\lhd\)
- en: It will be useful later on to observe that the *Distribution of a Sample Path*
    generalizes to
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: 在以后，观察样本路径的**分布**可以推广到
- en: \[ \P[X_{s+1} = x_{s+1}, X_{s+2} = x_{s+2}, \ldots, X_T = x_T\,|\,X_s = x_s]
    = \prod_{t=s+1}^T \,\P[X_t = x_t\,|\,X_{t-1} = x_{t-1}]. \]
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \P[X_{s+1} = x_{s+1}, X_{s+2} = x_{s+2}, \ldots, X_T = x_T\,|\,X_s = x_s]
    = \prod_{t=s+1}^T \,\P[X_t = x_t\,|\,X_{t-1} = x_{t-1}]. \]
- en: Based on the *Distribution of a Sample Path*, in order to specify the distribution
    of the process it suffices to specify
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: 基于样本路径的**分布**，为了指定过程的分布，只需指定
- en: the *initial distribution*\(\idx{initial distribution}\xdi\) \(\mu_x := \P[X_0
    = x]\) for all \(x\); and
  id: totrans-225
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**初始分布**\(\idx{初始分布}\xdi\) \(\mu_x := \P[X_0 = x]\) 对于所有 \(x\)；并且'
- en: the *transition probabilities*\(\idx{transition probability}\xdi\) \(\P[X_{t+1}
    = x\,|\,X_{t} = x']\) for all \(t\), \(x\), \(x'\).
  id: totrans-226
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对于所有 \(t\)，\(x\)，\(x'\) 的**转移概率**\(\idx{转移概率}\xdi\) \(\P[X_{t+1} = x\,|\,X_{t}
    = x']\)。
- en: '7.2.2\. Time-homogeneous case: transition matrix[#](#time-homogeneous-case-transition-matrix
    "Link to this heading")'
  id: totrans-227
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 7.2.2\. 时间齐次情况：转移矩阵[#](#time-homogeneous-case-transition-matrix "链接到本标题")
- en: 'It is common to further assume that the process is *time-homogeneous*\(\idx{time-homogeneous
    process}\xdi\), which means that the transition probabilities do not depend on
    \(t\):'
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: 通常还会进一步假设过程是**时间齐次**的\(\idx{时间齐次过程}\xdi\)，这意味着转移概率不依赖于 \(t\)：
- en: '\[ \P[X_{t+1} =x\,|\,X_{t} = x''] = \P[X_1 =x\,|\,X_{0} = x''] =: p_{x'',x},
    \quad \forall t=1,\ldots \]'
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: '\[ \P[X_{t+1} =x\,|\,X_{t} = x''] = \P[X_1 =x\,|\,X_{0} = x''] =: p_{x'',x},
    \quad \forall t=1,\ldots \]'
- en: where the last equality is a definition. We can then collect the transition
    probabilities into a matrix.
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: 其中最后一个等式是一个定义。然后我们可以将转移概率收集到一个矩阵中。
- en: '**DEFINITION** **(Transition Matrix)** \(\idx{transition matrix}\xdi\) The
    matrix'
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: '**定义** **(转移矩阵)** \(\idx{转移矩阵}\xdi\) 矩阵'
- en: \[ P = (p_{x',x})_{x,x' \in \S} \]
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: \[ P = (p_{x',x})_{x,x' \in \S} \]
- en: is called the transition matrix of the chain. \(\natural\)
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: 被称为链的转移矩阵。\(\natural\)
- en: We also let \(\mu_{x} = \P[X_0 = x]\) and we think of \(\bmu = (\mu_{x})_{x
    \in \S}\) as a vector. The convention in Markov chain theory is to think of probability
    distributions such as \(\bmu\) as *row vectors*. We will see later why it simplifies
    the notation somewhat.
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还让 \(\mu_{x} = \P[X_0 = x]\)，并将 \(\bmu = (\mu_{x})_{x \in \S}\) 视为一个向量。在马尔可夫链理论中，将概率分布如
    \(\bmu\) 视为**行向量**是惯例。我们将在以后看到为什么这会稍微简化符号。
- en: '**EXAMPLE:** **(Weather Model, continued)** Going back to the weather model,
    let us number the states as follows: \(1 = \mathrm{Dry}\) and \(2 = \mathrm{Wet}\).
    Then the transition matrix is'
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: '**示例：** **(天气模型，继续)** 回到天气模型，让我们按以下方式编号状态：\(1 = \mathrm{Dry}\) 和 \(2 = \mathrm{Wet}\)。然后转移矩阵是'
- en: \[\begin{split} P = \begin{pmatrix} 3/4 & 1/4\\ 1/4 & 3/4 \end{pmatrix}. \end{split}\]
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: \[\begin{split} P = \begin{pmatrix} 3/4 & 1/4\\ 1/4 & 3/4 \end{pmatrix}. \end{split}\]
- en: \(\lhd\)
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: \(\lhd\)
- en: '**EXAMPLE:** **(Random Walk on the Petersen Graph, continued)** Consider again
    the random walk on the Petersen graph \(G = (V,E)\). We number the vertices \(1,
    2,\ldots, 10\). To compute the transition matrix, we list for each vertex its
    neighbors and put the value \(1/3\) in the corresponding columns. For instance,
    vertex \(1\) has neighbors \(2\), \(5\) and \(6\), so row \(1\) has \(1/3\) in
    columns \(2\), \(5\), and \(6\). And so on.'
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: '**示例：** **(彼得森图上的随机游走，继续)** 再次考虑彼得森图 \(G = (V,E)\) 上的随机游走。我们给顶点编号 \(1, 2,\ldots,
    10\)。为了计算转移矩阵，我们列出每个顶点的邻居，并在相应的列中放入值 \(1/3\)。例如，顶点 \(1\) 的邻居是 \(2\), \(5\) 和 \(6\)，所以第
    \(1\) 行在第 \(2\), \(5\) 和 \(6\) 列中都有 \(1/3\)。以此类推。'
- en: 'We get:'
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: 我们得到：
- en: \[\begin{split} P = \begin{pmatrix} 0 & 1/3 & 0 & 0 & 1/3 & 1/3 & 0 & 0 & 0
    & 0\\ 1/3 & 0 & 1/3 & 0 & 0 & 0 & 1/3 & 0 & 0 & 0\\ 0 & 1/3 & 0 & 1/3 & 0 & 0
    & 0 & 1/3 & 0 & 0\\ 0 & 0 & 1/3 & 0 & 1/3 & 0 & 0 & 0 & 1/3 & 0\\ 1/3 & 0 & 0
    & 1/3 & 0 & 0 & 0 & 0 & 0 & 1/3\\ 1/3 & 0 & 0 & 0 & 0 & 0 & 0 & 1/3 & 1/3 & 0\\
    0 & 1/3 & 0 & 0 & 0 & 0 & 0 & 0 & 1/3 & 1/3\\ 0 & 0 & 1/3 & 0 & 0 & 1/3 & 0 &
    0 & 0 & 1/3\\ 0 & 0 & 0 & 1/3 & 0 & 1/3 & 1/3 & 0 & 0 & 0\\ 0 & 0 & 0 & 0 & 1/3
    & 0 & 1/3 & 1/3 & 0 & 0 \end{pmatrix} \end{split}\]
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: \[\begin{split} P = \begin{pmatrix} 0 & 1/3 & 0 & 0 & 1/3 & 1/3 & 0 & 0 & 0
    & 0\\ 1/3 & 0 & 1/3 & 0 & 0 & 0 & 1/3 & 0 & 0 & 0\\ 0 & 1/3 & 0 & 1/3 & 0 & 0
    & 0 & 1/3 & 0 & 0\\ 0 & 0 & 1/3 & 0 & 1/3 & 0 & 0 & 0 & 1/3 & 0\\ 1/3 & 0 & 0
    & 1/3 & 0 & 0 & 0 & 0 & 0 & 1/3\\ 1/3 & 0 & 0 & 0 & 0 & 0 & 0 & 1/3 & 1/3 & 0\\
    0 & 1/3 & 0 & 0 & 0 & 0 & 0 & 0 & 1/3 & 1/3\\ 0 & 0 & 1/3 & 0 & 0 & 1/3 & 0 &
    0 & 0 & 1/3\\ 0 & 0 & 0 & 1/3 & 0 & 1/3 & 1/3 & 0 & 0 & 0\\ 0 & 0 & 0 & 0 & 1/3
    & 0 & 1/3 & 1/3 & 0 & 0 \end{pmatrix} \end{split}\]
- en: We have already encountered a matrix that encodes the neighbors of each vertex,
    the adjacency matrix. Here we can recover the transition matrix by multiplying
    the adjacency matrix by \(1/3\). \(\lhd\)
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经遇到了一个编码每个顶点邻居的矩阵，即邻接矩阵。这里我们可以通过将邻接矩阵乘以 \(1/3\) 来恢复转移矩阵。\(\lhd\)
- en: Transition matrices have a very special structure.
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: 转移矩阵具有非常特殊的结构。
- en: '**THEOREM** **(Transition Matrix is Stochastic)** \(\idx{transition matrix
    is stochastic theorem}\xdi\) The transition matrix \(P\) is a stochastic matrix\(\idx{stochastic
    matrix}\xdi\), that is, all its entries are nonnegative and all its rows sum to
    one. \(\sharp\)'
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: '**定理** **(转移矩阵是随机的)** \(\idx{转移矩阵是随机的定理}\xdi\) 转移矩阵 \(P\) 是一个随机矩阵\(\idx{随机矩阵}\xdi\)，即所有元素都是非负的，并且所有行的和都等于1。
    \(\sharp\)'
- en: '*Proof:* Indeed,'
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: '*证明*：确实，'
- en: \[ \sum_{x \in \S} p_{x',x} = \sum_{x \in \S} \P[X_1 = x\,|\,X_{0} = x'] = \P[X_1
    \in \S \,|\,X_{0} = x'] = 1 \]
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \sum_{x \in \S} p_{x',x} = \sum_{x \in \S} \P[X_1 = x\,|\,X_{0} = x'] = \P[X_1
    \in \S \,|\,X_{0} = x'] = 1 \]
- en: by the properties of the conditional probability. \(\square\)
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: 根据条件概率的性质。 \(\square\)
- en: In matrix form, the condition can be stated as \(P \mathbf{1} = \mathbf{1}\),
    where \(\mathbf{1}\) is an all-one vector of the appropriate size.
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: 以矩阵形式，条件可以表述为 \(P \mathbf{1} = \mathbf{1}\)，其中 \(\mathbf{1}\) 是适当大小的全一向量。
- en: We have seen that any transition matrix is stochastic. Conversely, any stochastic
    matrix is the transition matrix of a Markov chain. That is, we can specify a Markov
    chain by choosing the number of states \(n\), an initial distribution over \(\mathcal{S}
    = [n]\) and a stochastic matrix \(P \in \mathbb{R}^{n\times n}\). Row \(i\) of
    \(P\) stipulates the probability distribution of the next state given that we
    are currently at state \(i\).
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经看到任何转移矩阵都是随机的。反过来，任何随机矩阵都是马尔可夫链的转移矩阵。也就是说，我们可以通过选择状态数 \(n\)、\(\mathcal{S}
    = [n]\) 上的初始分布以及 \(P \in \mathbb{R}^{n\times n}\) 随机矩阵来指定一个马尔可夫链。\(P\) 的第 \(i\)
    行规定了在当前处于状态 \(i\) 的情况下下一个状态的概率分布。
- en: '**EXAMPLE:** **(Robot Vacuum)** Suppose a robot vacuum roams around a large
    mansion with the following rooms: \(1=\mathrm{Study}\), \(2=\mathrm{Hall}\), \(3=\mathrm{Lounge}\),
    \(4=\mathrm{Library}\), \(5=\mathrm{Billiard\ Room}\), \(6=\mathrm{Dining\ Room}\),
    \(7=\mathrm{Conservatory}\), \(8=\mathrm{Ball\ Room}\), \(9=\mathrm{Kitchen}\).'
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: '**示例** **(机器人吸尘器)** 假设一个机器人吸尘器在一个大宅邸中四处游荡，以下房间：\(1=\mathrm{书房}\)，\(2=\mathrm{大厅}\)，\(3=\mathrm{客厅}\)，\(4=\mathrm{图书馆}\)，\(5=\mathrm{台球室}\)，\(6=\mathrm{餐厅}\)，\(7=\mathrm{温室}\)，\(8=\mathrm{舞厅}\)，\(9=\mathrm{厨房}\)。'
- en: '**Figure:** A wrench (*Credit:* Made with [Midjourney](https://www.midjourney.com/))'
  id: totrans-250
  prefs: []
  type: TYPE_NORMAL
  zh: '**图示**：一个扳手 (*来源：[Midjourney](https://www.midjourney.com/))'
- en: '![Roomba](../Images/208cda012f226f8db1d9e4a27b9cbdc4.png)'
  id: totrans-251
  prefs: []
  type: TYPE_IMG
  zh: '![Roomba](../Images/208cda012f226f8db1d9e4a27b9cbdc4.png)'
- en: \(\bowtie\)
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: \(\bowtie\)
- en: 'Once it is done cleaning a room, it moves to another one nearby according to
    the following stochastic matrix (check it is stochastic!):'
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦它清理完一个房间，它会根据以下随机矩阵移动到附近的另一个房间（检查它是否是随机的！）：
- en: \[\begin{split} P = \begin{pmatrix} 0 & 0.8 & 0 & 0.2 & 0 & 0 & 0 & 0 & 0\\
    0.3 & 0 & 0.2 & 0 & 0 & 0.5 & 0 & 0 & 0\\ 0 & 0.6 & 0 & 0 & 0 & 0.4 & 0 & 0 &
    0\\ 0.1 & 0.1 & 0 & 0 & 0.8 & 0 & 0 & 0 & 0\\ 0 & 0 & 0 & 0.25 & 0 & 0 & 0.75
    & 0 & 0\\ 0 & 0.15 & 0.15 & 0 & 0 & 0 & 0 & 0.35 & 0.35\\ 0 & 0 & 0 & 0 & 0 &
    0 & 0 & 1 & 0\\ 0 & 0 & 0 & 0 & 0.3 & 0.4 & 0.2 & 0 & 0.1\\ 0 & 0 & 0 & 0 & 0
    & 1 & 0 & 0 & 0 \end{pmatrix} \end{split}\]
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
  zh: \[\begin{split} P = \begin{pmatrix} 0 & 0.8 & 0 & 0.2 & 0 & 0 & 0 & 0 & 0\\
    0.3 & 0 & 0.2 & 0 & 0 & 0.5 & 0 & 0 & 0\\ 0 & 0.6 & 0 & 0 & 0 & 0.4 & 0 & 0 &
    0\\ 0.1 & 0.1 & 0 & 0 & 0.8 & 0 & 0 & 0 & 0\\ 0 & 0 & 0 & 0.25 & 0 & 0 & 0.75
    & 0 & 0\\ 0 & 0.15 & 0.15 & 0 & 0 & 0 & 0 & 0.35 & 0.35\\ 0 & 0 & 0 & 0 & 0 &
    0 & 0 & 1 & 0\\ 0 & 0 & 0 & 0 & 0.3 & 0.4 & 0.2 & 0 & 0.1\\ 0 & 0 & 0 & 0 & 0
    & 1 & 0 & 0 & 0 \end{pmatrix} \end{split}\]
- en: Suppose the initial distribution \(\bmu\) is uniform over the state space and
    let \(X_t\) be the room the vacuum is in at iteration \(t\). Then \((X_t)_{t\geq
    0}\) is a Markov chain. Unlike our previous examples, \(P\) is not symmetric.
    In particular, its rows sum to \(1\) but its columns do not. (Check it!) \(\lhd\)
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
  zh: 假设初始分布 \(\bmu\) 在状态空间上是均匀的，并且让 \(X_t\) 表示在迭代 \(t\) 时吸尘器所在的房间。那么 \((X_t)_{t\geq
    0}\) 是一个马尔可夫链。与之前的例子不同，\(P\) 不是对称的。特别是，它的行和为 \(1\)，但列和不为 \(1\)。（检查它！） \(\lhd\)
- en: When both rows and columns sum to \(1\), we say that \(P\) is doubly stochastic.
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: 当行和列的和都等于 \(1\) 时，我们说 \(P\) 是双随机。
- en: With the notation just introduced, the distribution of a sample path simplifies
    further to
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
  zh: 使用刚刚引入的符号，样本路径的分布进一步简化为
- en: \[ \P[X_0 = x_0, X_1 = x_1, \ldots, X_T = x_T] = \mu_{x_0} \prod_{t=1}^T p_{x_{t-1},x_t}.
    \]
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \P[X_0 = x_0, X_1 = x_1, \ldots, X_T = x_T] = \mu_{x_0} \prod_{t=1}^T p_{x_{t-1},x_t}.
    \]
- en: This formula has a remarkable consequence. The marginal distribution of \(X_s\)
    is a matrix power of \(P\). As usual, we denote by \(P^s\) the \(s\)-th matrix
    power of \(P\). Recall also that \(\bmu\) is a row vector.
  id: totrans-259
  prefs: []
  type: TYPE_NORMAL
  zh: 这个公式有一个显著的结果。\(X_s\) 的边缘分布是 \(P\) 的矩阵幂。通常，我们用 \(P^s\) 表示 \(P\) 的 \(s\) 次矩阵幂。回忆一下，\(\bmu\)
    是一个行向量。
- en: '**THEOREM** **(Time Marginals)** \(\idx{time marginals theorem}\xdi\) For any
    \(s \geq 1\) and \(x_s \in \S\)'
  id: totrans-260
  prefs: []
  type: TYPE_NORMAL
  zh: '**定理** **(时间边缘)** \(\idx{时间边缘定理}\xdi\) 对于任何 \(s \geq 1\) 和 \(x_s \in \S\)'
- en: \[ \P[X_s = x_s] = \left(\bmu P^s\right)_{x_s}. \]
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \P[X_s = x_s] = \left(\bmu P^s\right)_{x_s}. \]
- en: \(\sharp\)
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: \(\sharp\)
- en: '*Proof idea:* The idea is to think of \(\P[X_s = x_s]\) as the time \(s\) marginal
    over all trajectories up to time \(s\) – quantities we know how to compute the
    probabilities of. Then we use the *Distribution of a Sample Path* and “pushe the
    sums in.” This is easier seen on a simple case. We do the case \(s=2\) first.'
  id: totrans-263
  prefs: []
  type: TYPE_NORMAL
  zh: '*证明思路:* 思路是将 \(\P[X_s = x_s]\) 视为时间 \(s\) 的所有轨迹的边缘——这些是我们知道如何计算概率的量。然后我们使用
    *样本路径分布* 并“推入”这些和。这在一个简单的情况下更容易理解。我们首先处理 \(s=2\) 的情况。'
- en: Summing over all trajectories up to time \(2\),
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: 对所有直到时间 \(2\) 的轨迹求和，
- en: \[\begin{align*} &\P[X_2 = x_2]\\ &= \sum_{x_0 \in \S} \sum_{x_{1} \in \S} \P[X_0
    = x_0, X_1 = x_1, X_2 = x_2]\\ &= \sum_{x_0 \in \S} \sum_{x_{1} \in \S} \mu_{x_0}
    p_{x_{0},x_1} p_{x_{1},x_2}, \end{align*}\]
  id: totrans-265
  prefs: []
  type: TYPE_NORMAL
  zh: \[\begin{align*} &\P[X_2 = x_2]\\ &= \sum_{x_0 \in \S} \sum_{x_{1} \in \S} \P[X_0
    = x_0, X_1 = x_1, X_2 = x_2]\\ &= \sum_{x_0 \in \S} \sum_{x_{1} \in \S} \mu_{x_0}
    p_{x_{0},x_1} p_{x_{1},x_2}, \end{align*}\]
- en: where we used the *Distribution of a Sample Path*.
  id: totrans-266
  prefs: []
  type: TYPE_NORMAL
  zh: 其中我们使用了 *样本路径分布*。
- en: Pushing the sum over \(x_1\) in, this becomes
  id: totrans-267
  prefs: []
  type: TYPE_NORMAL
  zh: 将 \(x_1\) 的和推入，这变为
- en: \[\begin{align*} &= \sum_{x_0 \in \S} \mu_{x_0} \sum_{x_{1} \in \S} p_{x_{0},x_1}
    p_{x_{1},x_2}\\ &= \sum_{x_0 \in \S} \mu_{x_0} (P^2)_{x_{0},x_2}, \end{align*}\]
  id: totrans-268
  prefs: []
  type: TYPE_NORMAL
  zh: \[\begin{align*} &= \sum_{x_0 \in \S} \mu_{x_0} \sum_{x_{1} \in \S} p_{x_{0},x_1}
    p_{x_{1},x_2}\\ &= \sum_{x_0 \in \S} \mu_{x_0} (P^2)_{x_{0},x_2}, \end{align*}\]
- en: where we recognized the definition of a matrix product – here \(P^2\). The result
    then follows.
  id: totrans-269
  prefs: []
  type: TYPE_NORMAL
  zh: 其中我们识别了矩阵乘法的定义——这里 \(P^2\)。然后结果随之而来。
- en: '*Proof:* For any \(s\), by definition of a marginal,'
  id: totrans-270
  prefs: []
  type: TYPE_NORMAL
  zh: '*证明:* 对于任何 \(s\)，根据边缘的定义，'
- en: \[ \P[X_s = x_s] = \sum_{x_0, \ldots, x_{s-1} \in \S} \P[X_0 = x_0, X_1 = x_1,\ldots,X_{s-1}
    = x_{s-1}, X_s = x_s]. \]
  id: totrans-271
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \P[X_s = x_s] = \sum_{x_0, \ldots, x_{s-1} \in \S} \P[X_0 = x_0, X_1 = x_1,\ldots,X_{s-1}
    = x_{s-1}, X_s = x_s]. \]
- en: Using the *Distribution of a Sample Path* in the time-homogeneous case, this
    evaluates to
  id: totrans-272
  prefs: []
  type: TYPE_NORMAL
  zh: 在时间齐次情况下，使用 *样本路径分布*，这可以计算为
- en: \[\begin{align*} \P[X_s = x_s] &= \sum_{x_0, \ldots, x_{s-1} \in \S} \mu_{x_0}
    \prod_{t=1}^s p_{x_{t-1},x_t}. \end{align*}\]
  id: totrans-273
  prefs: []
  type: TYPE_NORMAL
  zh: \[\begin{align*} \P[X_s = x_s] &= \sum_{x_0, \ldots, x_{s-1} \in \S} \mu_{x_0}
    \prod_{t=1}^s p_{x_{t-1},x_t}. \end{align*}\]
- en: The sum can be simplified by pushing the individual sums as far into the summand
    as possible
  id: totrans-274
  prefs: []
  type: TYPE_NORMAL
  zh: 通过尽可能将单个和推入求和项中，可以简化这个和
- en: \[\begin{align*} &\sum_{x_0, \ldots, x_{s-1} \in \S} \mu_{x_0} \prod_{t=1}^{s}
    p_{x_{t-1},x_t}\\ & \quad = \sum_{x_0 \in \S} \mu_{x_0} \sum_{x_{1} \in \S} p_{x_{0},x_{1}}
    \cdots \sum_{x_{s-2} \in \S} p_{x_{s-3},x_{s-2}} \sum_{x_{s-1} \in \S} p_{x_{s-2},x_{s-1}}
    \,p_{x_{s-1},x_s}\\ & \quad = \sum_{x_0 \in \S} \mu_{x_0} \sum_{x_{1} \in \S}
    p_{x_{0},x_{1}} \cdots \sum_{x_{s-2} \in \S} p_{x_{s-3},x_{s-2}} \, \left(P^2\right)_{x_{s-2},
    x_s} \\ & \quad = \sum_{x_0 \in \S} \mu_{x_0} \sum_{x_{1} \in \S} p_{x_{0},x_{1}}
    \cdots \sum_{x_{s-3} \in \S} p_{x_{s-4},x_{s-3}} \, \left(P^3\right)_{x_{s-3},
    x_s} \\ & \quad = \cdots \\ & \quad = \left(\bmu P^s\right)_{x_s}, \end{align*}\]
  id: totrans-275
  prefs: []
  type: TYPE_NORMAL
  zh: \[\begin{align*} &\sum_{x_0, \ldots, x_{s-1} \in \S} \mu_{x_0} \prod_{t=1}^{s}
    p_{x_{t-1},x_t}\\ & \quad = \sum_{x_0 \in \S} \mu_{x_0} \sum_{x_{1} \in \S} p_{x_{0},x_{1}}
    \cdots \sum_{x_{s-2} \in \S} p_{x_{s-3},x_{s-2}} \sum_{x_{s-1} \in \S} p_{x_{s-2},x_{s-1}}
    \,p_{x_{s-1},x_s}\\ & \quad = \sum_{x_0 \in \S} \mu_{x_0} \sum_{x_{1} \in \S}
    p_{x_{0},x_{1}} \cdots \sum_{x_{s-2} \in \S} p_{x_{s-3},x_{s-2}} \, \left(P^2\right)_{x_{s-2},
    x_s} \\ & \quad = \sum_{x_0 \in \S} \mu_{x_0} \sum_{x_{1} \in \S} p_{x_{0},x_{1}}
    \cdots \sum_{x_{s-3} \in \S} p_{x_{s-4},x_{s-3}} \, \left(P^3\right)_{x_{s-3},
    x_s} \\ & \quad = \cdots \\ & \quad = \left(\bmu P^s\right)_{x_s}, \end{align*}\]
- en: where on the second line we recognized the innermost sum as a matrix product,
    then proceeded similarly. \(\square\)
  id: totrans-276
  prefs: []
  type: TYPE_NORMAL
  zh: 在第二行中，我们识别了最内层的和为矩阵乘法，然后继续类似地进行。 \(\square\)
- en: The special case \(\bmu = \mathbf{e}_x^T\) gives that for any \(x, y \in [n]\)
  id: totrans-277
  prefs: []
  type: TYPE_NORMAL
  zh: 特殊情况 \(\bmu = \mathbf{e}_x^T\) 给出对于任何 \(x, y \in [n]\)
- en: \[ \P[X_s = y\,|\,X_0 = x] = (\boldsymbol{\mu} P^s)_y = (\mathbf{e}_x^T P^s)_y
    = (P^s)_{x,y}. \]
  id: totrans-278
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \P[X_s = y\,|\,X_0 = x] = (\boldsymbol{\mu} P^s)_y = (\mathbf{e}_x^T P^s)_y
    = (P^s)_{x,y}. \]
- en: '**EXAMPLE:** **(Weather Model, continued)** Suppose day \(0\) is \(\mathrm{Dry}\),
    that is, the initial distribution is \(\bmu = (1,0)^T\). What is the probability
    that it is \(\mathrm{Wet}\) on day \(2\)? We apply the formula above to get \(\P[X_2
    = 2] = \left(\bmu P^2\right)_{2}\). Note that'
  id: totrans-279
  prefs: []
  type: TYPE_NORMAL
  zh: '**例题** **(天气模型，继续)** 假设第 \(0\) 天是 \(\mathrm{Dry}\)，即初始分布是 \(\bmu = (1,0)^T\)。第
    \(2\) 天是 \(\mathrm{Wet}\) 的概率是多少？我们应用上述公式得到 \(\P[X_2 = 2] = \left(\bmu P^2\right)_{2}\)。注意，'
- en: \[\begin{align*} \bmu P^2 &= (1,0)^T \begin{pmatrix} 3/4 & 1/4\\ 1/4 & 3/4 \end{pmatrix}
    \begin{pmatrix} 3/4 & 1/4\\ 1/4 & 3/4 \end{pmatrix}\\ &= (3/4,1/4)^T \begin{pmatrix}
    3/4 & 1/4\\ 1/4 & 3/4 \end{pmatrix}\\ &= (10/16,6/16)^T\\ &= (5/8,3/8)^T. \end{align*}\]
  id: totrans-280
  prefs: []
  type: TYPE_NORMAL
  zh: \[\begin{align*} \bmu P^2 &= (1,0)^T \begin{pmatrix} 3/4 & 1/4\\ 1/4 & 3/4 \end{pmatrix}
    \begin{pmatrix} 3/4 & 1/4\\ 1/4 & 3/4 \end{pmatrix}\\ &= (3/4,1/4)^T \begin{pmatrix}
    3/4 & 1/4\\ 1/4 & 3/4 \end{pmatrix}\\ &= (10/16,6/16)^T\\ &= (5/8,3/8)^T. \end{align*}\]
- en: So the answer is \(3/8\). \(\lhd\)
  id: totrans-281
  prefs: []
  type: TYPE_NORMAL
  zh: 因此答案是 \(3/8\)。\(\lhd\)
- en: It will be useful later on to observe that the *Time Marginals Theorem* generalizes
    to
  id: totrans-282
  prefs: []
  type: TYPE_NORMAL
  zh: 以后我们会发现，**时间边缘定理**可以推广到
- en: \[ \P[X_t = x_t\,|\,X_s = x_s] = (P^{t-s})_{x_s,x_t}, \]
  id: totrans-283
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \P[X_t = x_t\,|\,X_s = x_s] = (P^{t-s})_{x_s,x_t}, \]
- en: for \(s \leq t\).
  id: totrans-284
  prefs: []
  type: TYPE_NORMAL
  zh: 对于 \(s \leq t\)。
- en: In the time-homogeneous case, an alternative way to represent a transition matrix
    is with a directed graph showing all possible transitions.
  id: totrans-285
  prefs: []
  type: TYPE_NORMAL
  zh: 在时间齐次的情况下，用表示转换矩阵的另一种方法是使用显示所有可能转换的有向图。
- en: '**DEFINITION** **(Transition Graph)** \(\idx{transition graph}\xdi\) Let \((X_t)_{t
    \geq 0}\) be a Markov chain over the state space \(\mathcal{S} = [n]\) with transition
    matrix \(P = (p_{i,j})_{i,j=1}^{n}\). The transition graph (or state transition
    diagram) of \((X_t)_{t \geq 0}\) is a directed graph with vertices \([n]\) and
    a directed edge from \(i\) to \(j\) if and only if \(p_{i,j} > 0\). We often associate
    a weight \(p_{i,j}\) to that edge. \(\natural\)'
  id: totrans-286
  prefs: []
  type: TYPE_NORMAL
  zh: '**定义** **(转换图)** \(\idx{transition graph}\xdi\) 设 \((X_t)_{t \geq 0}\) 是定义在状态空间
    \(\mathcal{S} = [n]\) 上的马尔可夫链，其转换矩阵为 \(P = (p_{i,j})_{i,j=1}^{n}\)。\((X_t)_{t
    \geq 0}\) 的转换图（或状态转换图）是一个有向图，其顶点为 \([n]\)，如果且仅当 \(p_{i,j} > 0\) 时，从 \(i\) 到 \(j\)
    有一个有向边。我们通常将权重 \(p_{i,j}\) 赋予该边。\(\natural\)'
- en: '**NUMERICAL CORNER:** Returning to our *Robot Vacuum Example*, the transition
    graph of the chain can be obtained by thinking of \(P\) as the weighted adjacency
    matrix of the transition graph.'
  id: totrans-287
  prefs: []
  type: TYPE_NORMAL
  zh: '**数值角**: 回到我们的**机器人吸尘器示例**，通过将 \(P\) 视为转换图的加权邻接矩阵，我们可以获得链的转换图。'
- en: '[PRE8]'
  id: totrans-288
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: We define a graph from its adjancency matrix. See [`networkx.from_numpy_array()`](https://networkx.org/documentation/stable/reference/generated/networkx.convert_matrix.from_numpy_array.html).
  id: totrans-289
  prefs: []
  type: TYPE_NORMAL
  zh: 我们从邻接矩阵定义一个图。参见[`networkx.from_numpy_array()`](https://networkx.org/documentation/stable/reference/generated/networkx.convert_matrix.from_numpy_array.html)。
- en: '[PRE9]'
  id: totrans-290
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: Drawing edge weights on a directed graph in a readable fashion is not straighforward.
    We will not do this here.
  id: totrans-291
  prefs: []
  type: TYPE_NORMAL
  zh: 在有向图中以可读的方式绘制边权重并不简单。我们这里不会这样做。
- en: <details class="hide above-input"><summary aria-label="Toggle hidden content">Show
    code cell source Hide code cell source</summary>
  id: totrans-292
  prefs: []
  type: TYPE_NORMAL
  zh: <details class="hide above-input"><summary aria-label="Toggle hidden content">显示代码单元格源代码
    隐藏代码单元格源代码</summary>
- en: '[PRE10]</details> ![../../_images/3ed7b79c7b64ae82a443d682f19bec765a062c280a163d9734fd0ce480d6d157.png](../Images/e3496ddf45cc8074ed0952cee5403722.png)'
  id: totrans-293
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE10]</details> ![../../_images/3ed7b79c7b64ae82a443d682f19bec765a062c280a163d9734fd0ce480d6d157.png](../Images/e3496ddf45cc8074ed0952cee5403722.png)'
- en: \(\unlhd\)
  id: totrans-294
  prefs: []
  type: TYPE_NORMAL
  zh: \(\unlhd\)
- en: Once we have specified a transition matrix (and an initial distribution), we
    can simulate the corresponding Markov chain. This is useful to compute (approximately)
    probabilities of complex events through the law of large numbers. Here is some
    code to generate one sample path up to some given time \(T\). We assume that the
    state space is \([n]\). We use [`rng.choice`](https://numpy.org/doc/stable/reference/random/generated/numpy.random.Generator.choice.html)
    to generate each transition.
  id: totrans-295
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦我们指定了转换矩阵（以及初始分布），我们就可以模拟相应的马尔可夫链。这有助于通过大数定律计算（近似）复杂事件的概率。以下是一些生成从某个给定时间 \(T\)
    开始的样本路径的代码。我们假设状态空间是 \([n]\)。我们使用[`rng.choice`](https://numpy.org/doc/stable/reference/random/generated/numpy.random.Generator.choice.html)来生成每个转换。
- en: '[PRE11]'
  id: totrans-296
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: '**NUMERICAL CORNER:** Let’s try with our *Robot Vacuum*. We take the initial
    distribution to be the uniform distribution.'
  id: totrans-297
  prefs: []
  type: TYPE_NORMAL
  zh: '**数值角**: 让我们用我们的**机器人吸尘器**来试一试。我们将初始分布设为均匀分布。'
- en: '[PRE12]'
  id: totrans-298
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: '[PRE13]'
  id: totrans-299
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: For example, we can use a simulation to approximate the expected number of times
    that room \(9\) is visited up to time \(10\). To do this, we run the simulation
    a large number of times (say \(1000\)) and count the average number of visits
    to \(9\).
  id: totrans-300
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，我们可以使用模拟来近似房间 \(9\) 在时间 \(10\) 之前被访问的期望次数。为此，我们运行模拟多次（例如 \(1000\) 次）并计算访问
    \(9\) 的平均次数。
- en: '[PRE14]'
  id: totrans-301
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: '[PRE15]'
  id: totrans-302
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: \(\unlhd\)
  id: totrans-303
  prefs: []
  type: TYPE_NORMAL
  zh: \(\unlhd\)
- en: '**CHAT & LEARN** Markov Decision Processes (MDPs) are a framework for modeling
    decision making in situations where outcomes are partly random and partly under
    the control of a decision maker. Ask your favorite AI chatbot to explain the basic
    components of an MDP and how they relate to Markov chains. Discuss some applications
    of MDPs, such as in robotics or game theory. \(\ddagger\)'
  id: totrans-304
  prefs: []
  type: TYPE_NORMAL
  zh: '**CHAT & LEARN** 马尔可夫决策过程 (MDPs) 是一个用于模拟在结果部分随机且部分受决策者控制的决策情境的框架。请你的首选 AI 聊天机器人解释
    MDP 的基本组成部分以及它们与马尔可夫链的关系。讨论 MDP 的一些应用，例如在机器人学或博弈论中。\(\ddagger\)'
- en: '***Self-assessment quiz*** *(with help from Claude, Gemini, and ChatGPT)*'
  id: totrans-305
  prefs: []
  type: TYPE_NORMAL
  zh: '***自我评估测验*** *(由 Claude、Gemini 和 ChatGPT 协助)*'
- en: '**1** Which of the following is true about the transition matrix \(P\) of a
    Markov chain?'
  id: totrans-306
  prefs: []
  type: TYPE_NORMAL
  zh: '**1** 以下关于马尔可夫链的转移矩阵 \(P\) 的哪个说法是正确的？'
- en: a) All entries of \(P\) are non-negative, and all columns sum to one.
  id: totrans-307
  prefs: []
  type: TYPE_NORMAL
  zh: a) \(P\) 的所有项都是非负的，并且所有列的和为 1。
- en: b) All entries of \(P\) are non-negative, and all rows sum to one.
  id: totrans-308
  prefs: []
  type: TYPE_NORMAL
  zh: b) \(P\) 的所有项都是非负的，并且所有行的和为 1。
- en: c) All entries of \(P\) are non-negative, and both rows and columns sum to one.
  id: totrans-309
  prefs: []
  type: TYPE_NORMAL
  zh: c) \(P\) 的所有项都是非负的，并且行和列的和都为 1。
- en: d) All entries of \(P\) are non-negative, and either rows or columns sum to
    one, but not both.
  id: totrans-310
  prefs: []
  type: TYPE_NORMAL
  zh: d) \(P\) 的所有项都是非负的，并且行或列的和为 1，但不是两者都为 1。
- en: '**2** What is the *Markov Property*?'
  id: totrans-311
  prefs: []
  type: TYPE_NORMAL
  zh: '**2** 马尔可夫性质是什么？'
- en: a) The past and future are independent.
  id: totrans-312
  prefs: []
  type: TYPE_NORMAL
  zh: a) 在给定当前状态的情况下，过去和未来是独立的。
- en: b) The past and future are independent given the present.
  id: totrans-313
  prefs: []
  type: TYPE_NORMAL
  zh: b) 在给定当前状态的情况下，过去和未来是独立的。
- en: c) The present and future are independent given the past.
  id: totrans-314
  prefs: []
  type: TYPE_NORMAL
  zh: c) 给定过去，现在和未来是独立的。
- en: d) The past, present, and future are all independent.
  id: totrans-315
  prefs: []
  type: TYPE_NORMAL
  zh: d) 过去、现在和未来都是独立的。
- en: '**3** Consider a Markov chain \((X_t)_{t \ge 0}\) on state space \(S\). Which
    of the following equations is a direct consequence of the *Markov Property*?'
  id: totrans-316
  prefs: []
  type: TYPE_NORMAL
  zh: '**3** 考虑一个在状态空间 \(S\) 上的马尔可夫链 \((X_t)_{t \ge 0}\)。以下哪个方程是马尔可夫性质的直接结果？'
- en: a) \(\mathbb{P}[X_{t+1} = x_{t+1} | X_t = x_t] = \mathbb{P}[X_{t+1} = x_{t+1}]\)
  id: totrans-317
  prefs: []
  type: TYPE_NORMAL
  zh: a) \(\mathbb{P}[X_{t+1} = x_{t+1} | X_t = x_t] = \mathbb{P}[X_{t+1} = x_{t+1}]\)
- en: b) \(\mathbb{P}[X_{t+1} = x_{t+1} | X_t = x_t, X_{t-1} = x_{t-1}] = \mathbb{P}[X_{t+1}
    = x_{t+1} | X_t = x_t]\)
  id: totrans-318
  prefs: []
  type: TYPE_NORMAL
  zh: b) \(\mathbb{P}[X_{t+1} = x_{t+1} | X_t = x_t, X_{t-1} = x_{t-1}] = \mathbb{P}[X_{t+1}
    = x_{t+1} | X_t = x_t]\)
- en: c) \(\mathbb{P}[X_{t+1} = x_{t+1} | X_t = x_t] = \mathbb{P}[X_{t+1} = x_{t+1}
    | X_0 = x_0]\)
  id: totrans-319
  prefs: []
  type: TYPE_NORMAL
  zh: c) \(\mathbb{P}[X_{t+1} = x_{t+1} | X_t = x_t] = \mathbb{P}[X_{t+1} = x_{t+1}
    | X_0 = x_0]\)
- en: d) \(\mathbb{P}[X_{t+1} = x_{t+1} | X_t = x_t, X_{t-1} = x_{t-1}] = \mathbb{P}[X_{t+1}
    = x_{t+1}]\)
  id: totrans-320
  prefs: []
  type: TYPE_NORMAL
  zh: d) \(\mathbb{P}[X_{t+1} = x_{t+1} | X_t = x_t, X_{t-1} = x_{t-1}] = \mathbb{P}[X_{t+1}
    = x_{t+1}]\)
- en: '**4** Consider a Markov chain \((X_t)_{t\geq0}\) with transition matrix \(P
    = (p_{i,j})_{i,j}\) and initial distribution \(\mu\). Which of the following is
    true about the distribution of a sample path \((X_0, X_1, \ldots, X_T)\)?'
  id: totrans-321
  prefs: []
  type: TYPE_NORMAL
  zh: '**4** 考虑一个马尔可夫链 \((X_t)_{t\geq0}\)，其转移矩阵为 \(P = (p_{i,j})_{i,j}\) 和初始分布 \(\mu\)。以下关于样本路径
    \((X_0, X_1, \ldots, X_T)\) 的分布哪个是正确的？'
- en: a) \(\mathbb{P}[X_0 = x_0, X_1 = x_1, \ldots, X_T = x_T] = \mu_{x_0} \prod_{t=1}^T
    p_{x_{t-1},x_t}\)
  id: totrans-322
  prefs: []
  type: TYPE_NORMAL
  zh: a) \(\mathbb{P}[X_0 = x_0, X_1 = x_1, \ldots, X_T = x_T] = \mu_{x_0} \prod_{t=1}^T
    p_{x_{t-1},x_t}\)
- en: b) \(\mathbb{P}[X_0 = x_0, X_1 = x_1, \ldots, X_T = x_T] = \mu_{x_0} \sum_{t=1}^T
    p_{x_{t-1},x_t}\)
  id: totrans-323
  prefs: []
  type: TYPE_NORMAL
  zh: b) \(\mathbb{P}[X_0 = x_0, X_1 = x_1, \ldots, X_T = x_T] = \mu_{x_0} \sum_{t=1}^T
    p_{x_{t-1},x_t}\)
- en: c) \(\mathbb{P}[X_0 = x_0, X_1 = x_1, \ldots, X_T = x_T] = \prod_{t=0}^T \mu_{x_t}\)
  id: totrans-324
  prefs: []
  type: TYPE_NORMAL
  zh: c) \(\mathbb{P}[X_0 = x_0, X_1 = x_1, \ldots, X_T = x_T] = \prod_{t=0}^T \mu_{x_t}\)
- en: d) \(\mathbb{P}[X_0 = x_0, X_1 = x_1, \ldots, X_T = x_T] = \sum_{t=0}^T \mu_{x_t}\)
  id: totrans-325
  prefs: []
  type: TYPE_NORMAL
  zh: d) \(\mathbb{P}[X_0 = x_0, X_1 = x_1, \ldots, X_T = x_T] = \sum_{t=0}^T \mu_{x_t}\)
- en: '**5** In the random walk on the Petersen graph example, if the current state
    is vertex 9, what is the probability of transitioning to vertex 4 in the next
    step?'
  id: totrans-326
  prefs: []
  type: TYPE_NORMAL
  zh: '**5** 在 Petersen 图的随机游走示例中，如果当前状态是顶点 9，那么在下一步转移到顶点 4 的概率是多少？'
- en: a) 0
  id: totrans-327
  prefs: []
  type: TYPE_NORMAL
  zh: a) 0
- en: b) 1/10
  id: totrans-328
  prefs: []
  type: TYPE_NORMAL
  zh: b) 1/10
- en: c) 1/3
  id: totrans-329
  prefs: []
  type: TYPE_NORMAL
  zh: c) 1/3
- en: d) 1
  id: totrans-330
  prefs: []
  type: TYPE_NORMAL
  zh: d) 1
- en: 'Answer for 1: b. Justification: The text states that “the transition matrix
    \(P\) is a stochastic matrix, that is, all its entries are nonnegative and all
    its rows sum to one.”'
  id: totrans-331
  prefs: []
  type: TYPE_NORMAL
  zh: 答案 1：b. 理由：文本指出“转移矩阵 \(P\) 是一个随机矩阵，即所有项都是非负的，并且所有行的和为 1。”
- en: 'Answer for 2: b. Justification: The text summarizes the *Markov Property* as
    “the past and the future are independent given the present.”'
  id: totrans-332
  prefs: []
  type: TYPE_NORMAL
  zh: 答案 2：b. 理由：文本将马尔可夫性质总结为“给定当前状态，过去和未来是独立的。”
- en: 'Answer for 3: b. Justification: This is a direct statement of the *Markov Property*,
    where the future state \(X_{t+1}\) depends only on the present state \(X_t\) and
    not on the past state \(X_{t-1}\).'
  id: totrans-333
  prefs: []
  type: TYPE_NORMAL
  zh: 答案 3：b. 理由：这是对马尔可夫性质的直接陈述，其中未来状态 \(X_{t+1}\) 只依赖于当前状态 \(X_t\)，而不依赖于过去状态 \(X_{t-1}\)。
- en: 'Answer for 4: a. Justification: The text states the *Distribution of a Sample
    Path*:'
  id: totrans-334
  prefs: []
  type: TYPE_NORMAL
  zh: 答案4：a. 证明：文本说明了**样本路径的分布**：
- en: \[ \mathbb{P}[X_0 = x_0, X_1 = x_1, \ldots, X_T = x_T] = \mu_{x_0} \prod_{t=1}^T
    p_{x_{t-1},x_t}. \]
  id: totrans-335
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \mathbb{P}[X_0 = x_0, X_1 = x_1, \ldots, X_T = x_T] = \mu_{x_0} \prod_{t=1}^T
    p_{x_{t-1},x_t}. \]
- en: 'Answer for 5: c. Justification: In the Petersen graph, each vertex has 3 neighbors,
    and the random walk chooses one uniformly at random.'
  id: totrans-336
  prefs: []
  type: TYPE_NORMAL
  zh: 答案5：c. 证明：在彼得森图中，每个顶点有3个邻居，随机游走会随机选择其中一个。
