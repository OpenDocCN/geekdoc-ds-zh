- en: 'Case Study: ABD Square Drop*'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 案例研究：ABD方形下落*
- en: 原文：[https://phys-sim-book.github.io/lec25.4-dropping_block.html](https://phys-sim-book.github.io/lec25.4-dropping_block.html)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://phys-sim-book.github.io/lec25.4-dropping_block.html](https://phys-sim-book.github.io/lec25.4-dropping_block.html)
- en: <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
- en: Let’s now implement Affine Body Dynamics (ABD) in 2D for a neo-Hookean version
    of the [square drop](./lec8.3-square_drop.html) simulation. This requires only
    minor modifications to the standard IPC simulation code. The full implementation
    is available in the `9_reduced_DOF` folder of our [solid simulation tutorial](https://github.com/phys-sim-book/solid-sim-tutorial).
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们来实现2D中的仿射体动力学（ABD），用于[方形下落](./lec8.3-square_drop.html)模拟的新胡克版本。这只需要对标准IPC模拟代码进行少量修改。完整的实现可以在我们的[固体模拟教程](https://github.com/phys-sim-book/solid-sim-tutorial)的`9_reduced_DOF`文件夹中找到。
- en: 'We begin by introducing a function to compute the reduced basis. In ABD, we
    consider only affine deformations. Therefore, we use `method=1` (polynomial basis)
    and `order=1` (linear basis) to extract the linear basis:'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 我们首先引入一个计算减少基的函数。在ABD中，我们只考虑仿射变形。因此，我们使用`method=1`（多项式基）和`order=1`（线性基）来提取线性基：
- en: '**Implementation 25.4.1 (Compute reduced basis, utils.py).**'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: '**实现25.4.1（计算减少基，utils.py）。**'
- en: '[PRE0]'
  id: totrans-6
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Here, `method=0` refers to full-space simulation and returns immediately without
    computing a basis.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 这里，`method=0`指的是全空间模拟，并立即返回，不计算基。
- en: '`method=1` computes polynomial bases, including linear, quadratic, and cubic
    functions. For each basis vector, the displacement components at each node are
    expressed as polynomial functions of the node’s material-space coordinates. `method=2`
    computes bases via linear modal analysis, which solves the eigensystem of the
    elasticity Hessian and extracts displacement fields that correspond to the deformation
    modes that increases the least amount of energy. This will be discussed in more
    detail in [the next lecture](./lec25.6-modal_reductions.html).'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: '`method=1` 计算多项式基，包括线性、二次和三次函数。对于每个基向量，每个节点的位移分量都表示为节点材料空间坐标的多项式函数。`method=2`
    通过线性模态分析计算基，它求解弹性Hessian的特征系统，并提取出对应于增加最少能量变形模式的位移场。这将在[下一讲](./lec25.6-modal_reductions.html)中更详细地讨论。'
- en: 'After computing the basis, we restrict the simulation to the corresponding
    subspace by projecting the Hessian matrix and the gradient vector. This projection
    follows the chain rule, as described in Equation [(25.3.1)](lec25.3-affine_body_dynamics.html#eq:lec25:newton_chain_rules).
    The relevant implementation is:'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 在计算基之后，我们通过投影Hessian矩阵和梯度向量将模拟限制在相应的子空间中。这种投影遵循链式法则，如方程式[(25.3.1)](lec25.3-affine_body_dynamics.html#eq:lec25:newton_chain_rules)所述。相关的实现如下：
- en: '**Implementation 25.4.2 (Compute reduced search direction, time_integrator.py).**'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: '**实现25.4.2（计算减少搜索方向，time_integrator.py）。**'
- en: '[PRE1]'
  id: totrans-11
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'These changes enable us to run the ABD version of the square-drop simulation:'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 这些更改使我们能够运行方形下落模拟的ABD版本：
- en: '![](../Images/12b5ff77c25680a147f38d6c8769cc5f.png)'
  id: totrans-13
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/12b5ff77c25680a147f38d6c8769cc5f.png)'
- en: '**Figure 25.4.1.** ABD simulation of a square dropped onto the ground.'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: '**图25.4.1.** 方形落在地面上的ABD模拟。'
- en: In this example, we reduce the stiffness parameter to make the body softer,
    emphasizing the difference between ABD and standard IPC. The blue mesh is the
    original mesh (also used for collision), while the red triangle visualizes the
    reduced degrees of freedom.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个例子中，我们将刚度参数降低以使物体变得更软，强调ABD与标准IPC之间的差异。蓝色网格是原始网格（也用于碰撞），而红色三角形可视化减少的自由度。
