- en: Boundary Conditions
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 边界条件
- en: 原文：[https://phys-sim-book.github.io/lec28.1-grid_bc.html](https://phys-sim-book.github.io/lec28.1-grid_bc.html)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://phys-sim-book.github.io/lec28.1-grid_bc.html](https://phys-sim-book.github.io/lec28.1-grid_bc.html)
- en: <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
- en: In the Material Point Method, **boundary conditions (BCs)** are enforced on
    the background Eulerian grid, because the governing equations—discretized in their
    weak form—are formulated over grid nodes, which serve as the true degrees of freedom
    (DOFs) of the system. These nodes must satisfy Newton's Second Law. Thus, all
    external constraints, including static walls, moving boundaries, or contact forces,
    must be applied directly on the grid after P2G and before G2P.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 在材料点方法中，**边界条件（BCs）**是在背景欧拉网格上施加的，因为控制方程——以弱形式离散化——是在网格节点上表述的，这些节点是系统的真正自由度（DOFs）。这些节点必须满足牛顿第二定律。因此，所有外部约束，包括静态墙壁、移动边界或接触力，都必须在
    P2G 之后和 G2P 之前直接应用于网格。
- en: As usual, we denote the nodal velocity at a grid node xi​ as v^in+1​. After
    external force integration, we apply different velocity projections on boundary
    nodes depending on the type of boundary condition.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 如同往常，我们用 v^in+1​ 表示网格节点 xi​ 处的节点速度。在外力积分之后，根据边界条件的类型，我们在边界节点上应用不同的速度投影。
- en: '[Types of Boundary Conditions](#types-of-boundary-conditions)'
  id: totrans-5
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '[边界条件类型](#types-of-boundary-conditions)'
- en: 'Let n be the surface normal at a boundary grid node xi​:'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 设 n 为边界网格节点 xi​ 处的表面法线：
- en: '**Sticky**: The velocity is fully suppressed: v^in+1​←0.'
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**粘性**: 速度完全被抑制：v^in+1​←0。'
- en: '**Slip**: Only the normal component is removed; tangential motion is preserved:
    v^in+1​←v^in+1​−n(n⊤v^in+1​).'
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**滑动**: 仅移除法向分量；切向运动保持不变：v^in+1​←v^in+1​−n(n⊤v^in+1​)。'
- en: '**Separate (One-way wall)**: Normal inflow is blocked, but outward motion is
    allowed: v^in+1​←v^in+1​−n⋅min(n⊤v^in+1​,0).'
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**分离（单向墙）**: 正常流入被阻挡，但允许向外运动：v^in+1​←v^in+1​−n⋅min(n⊤v^in+1​,0)。'
- en: These operations are **local**, applied independently to each boundary grid
    node.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 这些操作是 **局部**的，独立应用于每个边界网格节点。
- en: '[External Forces](#external-forces)'
  id: totrans-11
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '[外部力](#external-forces)'
- en: 'External forces such as **gravity** can be added after P2G:'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 在 P2G 之后，可以添加外部力，如 **重力**：
- en: v^in+1​←v^in+1​+Δt⋅g.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: v^in+1​←v^in+1​+Δt⋅g。
- en: '[Moving Colliders](#moving-colliders)'
  id: totrans-14
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '[移动碰撞体](#moving-colliders)'
- en: For moving or deforming objects, [**Signed Distance Functions (SDFs)**](./lec7.1-signed_dists.html)
    are used to detect whether a grid node xi​ lies inside the object. Once detected,
    the **surface normal** n and the **relative velocity** Δv are computed, and the
    grid velocity is adjusted accordingly.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 对于移动或变形物体，使用 [**符号距离函数（SDFs）**](./lec7.1-signed_dists.html) 来检测网格节点 xi​ 是否位于物体内部。一旦检测到，计算
    **表面法线** n 和 **相对速度** Δv，并相应地调整网格速度。
- en: '[Coulomb Friction](#coulomb-friction)'
  id: totrans-16
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '[库仑摩擦](#coulomb-friction)'
- en: 'To enforce **Coulomb friction** on embedded colliders (e.g., sphere or capsule),
    we apply a projected velocity correction in the direction of the surface normal:'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 为了在嵌入的碰撞体（例如，球体或胶囊）上施加 **库仑摩擦力**，我们在表面法线方向应用一个投影速度校正：
- en: 'Let n be the contact normal and Δv be the opposing velocity (i.e., Δv=vSDF​−v^in+1​).
    Define the normal component:'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 设 n 为接触法线，Δv 为相反速度（即 Δv=vSDF​−v^in+1​）。定义法向分量：
- en: v˙n​=n⊤Δv.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: v˙n​=n⊤Δv。
- en: 'Then the corrected grid velocity is:'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 然后校正后的网格速度为：
- en: v^in+1​←v^in+1​+Δv⋅μ+n⋅v˙n​⋅(1−μ),
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: v^in+1​←v^in+1​+Δv⋅μ+n⋅v˙n​⋅(1−μ)。
- en: where μ∈[0,1] is the **friction coefficient**. This operation smoothly blends
    between full **separation** (μ=0) and **sticking** (μ=1).
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 其中 μ∈[0,1] 是 **摩擦系数**。此操作在完全 **分离**（μ=0）和 **粘性**（μ=1）之间平滑过渡。
