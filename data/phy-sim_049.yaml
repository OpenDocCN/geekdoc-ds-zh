- en: Smooth Dynamic-Static Transition
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 平滑动态-静态过渡
- en: 原文：[https://phys-sim-book.github.io/lec9.1-smooth_fric.html](https://phys-sim-book.github.io/lec9.1-smooth_fric.html)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://phys-sim-book.github.io/lec9.1-smooth_fric.html](https://phys-sim-book.github.io/lec9.1-smooth_fric.html)
- en: <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
- en: To model frictional contact, local frictional forces Fk​ can be added for every
    active contact point pair k. For each such pair k, at the current state {x,v},
    a consistently oriented sliding basis Tk​(x)∈Rdm×d can be constructed, where m
    is the total number of simulated nodes and d is the dimension of space, such that
    vk​=Tk​(x)Tv∈Rd provides the local relative sliding velocity that is orthogonal
    to the distance gradient in the normal direction nk​(x).
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 为了模拟摩擦接触，可以为每个活动的接触点对k添加局部摩擦力Fk。对于这样的每一对k，在当前状态{x,v}下，可以构建一个一致方向的滑动基Tk(x)∈Rdm×d，其中m是模拟节点的总数，d是空间维度，使得vk=Tk(x)Tv∈Rd提供了与法向梯度在法线方向上的距离正交的局部相对滑动速度。
- en: '****Example 9.1.1 (Particle Sliding on Sphere).**** For a particle with velocity
    vp​∈R3 moving on the surface of a sphere with velocity vs​∈R3 (no rotation), the
    relative sliding velocity vk​ here can be calculated as vk​=(vp​−vs​)−nk​⋅(vp​−vs​)nk​=(I3​−nk​nkT​)(vp​−vs​).
    If we stack the velocity of the particle and the sphere for this system to obtain
    v=[vpT​,vsT​]T∈R6, we now know that Tk​ is simply Tk​(x)=[I3​−nk​(x)nk​(x)Tnk​(x)nk​(x)T−I3​​]∈R6×3.
    For more general cases like mesh-mesh contact, the form of Tk​ only varies in
    how the relative velocity at the contact point pair k is related to the velocity
    at the simulated nodes.'
  id: totrans-4
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '****示例9.1.1（粒子在球面上滑动）.**** 对于一个速度vp∈R3的粒子在速度vs∈R3（无旋转）的球面上移动，这里的相对滑动速度vk可以计算为vk=(vp−vs)−nk⋅(vp−vs)nk=(I3−nknkT)(vp−vs).
    如果我们将该系统的粒子速度和球体速度堆叠，得到v=[vpT,vsT]T∈R6，我们现在知道Tk(x)=[I3−nk(x)nk(x)Tnk(x)nk(x)T−I3]∈R6×3。对于更一般的情况，如网格-网格接触，Tk的形式仅与接触点对k的相对速度与模拟节点速度的关系有关。'
- en: Maximizing dissipation rate subject to the Coulomb constraint defines friction
    forces variationally Fk​(x)=Tk​(x) argβ∈Rdmin​βTvk​s.t.∥β∥≤μλk​  and  β⋅nk​=0,(9.1.1)
    where λk​=−wk​∂dk​∂b​ is the contact force magnitude and μ is the local friction
    coefficient. This is equivalent to Fk​(x)=−μλk​Tk​(x)f(∥vk​∥)s(vk​),(9.1.2) with
    s(vk​)=∥vk​∥vk​​ when ∥vk​∥>0, while s(vk​) takes any unit vector orthogonal to
    nk​ when ∥vk​∥=0. In addition, the friction scaling function, f, is also nonsmooth
    with respect to vk​ since f(∥vk​∥)=1 when ∥vk​∥>0, and f(∥vk​∥)∈[0,1] when ∥vk​∥=0.
    These non-smoothness would severely slow down and even break convergence of gradient-based
    optimization.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 在满足库仑约束的条件下最大化耗散率定义了摩擦力的变化Fk(x)=Tk(x) argβ∈RdminβTvk∥β∥≤μλk且β⋅nk=0,(9.1.1) 其中λk=−wk∂dk∂b是接触力大小，μ是局部摩擦系数。这等价于Fk(x)=−μλkTk(x)f(∥vk∥)s(vk),(9.1.2)
    其中当∥vk∥>0时，s(vk)=∥vk∥vk，而当∥vk∥=0时，s(vk)取与nk垂直的任何单位向量。此外，摩擦缩放函数f相对于vk也是非平滑的，因为当∥vk∥>0时，f(∥vk∥)=1，而当∥vk∥=0时，f(∥vk∥)∈[0,1]。这些非平滑性会严重减慢甚至破坏基于梯度的优化的收敛。
- en: '![](../Images/a8c3f07f99d3d3e6383ac94f881c0e36.png)'
  id: totrans-6
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/a8c3f07f99d3d3e6383ac94f881c0e36.png)'
- en: '**Figure 9.1.1.** An illustration of Tk​, vk​, nk​, and Fk​ when a point slides
    on a sphere.'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: '**图9.1.1.** 点在球面上滑动时Tk, vk, nk和Fk的示意图。'
- en: '***Remark 9.1.1 (Contact Force Magnitude).*** λk​=−wk​∂dk​∂b​ is the contact
    force magnitude because at node k, the contact force is −wk​∇xk​​b(dk​(x))=−wk​∂dk​∂b​∇xk​​dk​(x).
    Therefore, λk​=∥−wk​∂dk​∂b​∇xk​​dk​(x)∥=−wk​∂dk​∂b​ since ∂dk​∂b​<0 and ∥∇xk​​dk​(x)∥=1.'
  id: totrans-8
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '***备注9.1.1（接触力大小）.*** λk=−wk∂dk∂b是接触力大小，因为在节点k处，接触力是−wk∇xkb(dk(x))=−wk∂dk∂b∇xkdk(x)。因此，λk=∥−wk∂dk∂b∇xkdk(x)∥=−wk∂dk∂b，因为∂dk∂b<0且∥∇xkdk(x)∥=1。'
- en: To enable efficient and stable optimization, the friction-velocity relation
    in the transition to static friction can be mollified by replacing f with a smoothly
    approximated function. Following IPC, we use f1​(y)={−ϵv2​y2​+ϵv​2y​,1,​y∈[0,ϵv​)y≥ϵv​,​​(9.1.3)​
    where f1′​(ϵv​)=0 and a velocity magnitude bound ϵv​ (in units of m/s) below which
    sliding velocities vk​ are treated as static is defined for bounded approximation
    error ([Figure 9.1.2](#fig:lec9:friction_plot)).
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 为了实现高效和稳定的优化，可以通过将摩擦速度关系中的f替换为一个平滑近似函数来缓解从动态摩擦到静摩擦的过渡。遵循IPC，我们使用f1(y)={−ϵv^2y^2+ϵv^2y,1,​y∈[0,ϵv),y≥ϵv},(9.1.3)
    其中f1′(ϵv)=0，并定义一个速度大小界限ϵv（以m/s为单位），在此界限以下，滑动速度vk被视为静摩擦，以定义有界近似误差（[图9.1.2](#fig:lec9:friction_plot)）。
- en: '![](../Images/58f639631e73fbbb8b287797d4ce82ef.png)'
  id: totrans-10
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/58f639631e73fbbb8b287797d4ce82ef.png)'
- en: '**Figure 9.1.2.** A 1D illustration of the smoothed relation between friction
    force and sliding velocity. Decreasing ϵv​ asymptotically matches the discontinuous
    Coulomb friction model.'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: '**图9.1.2**。摩擦力与滑动速度之间平滑关系的1D示意图。随着ϵv的减小，渐近地匹配了不连续的库仑摩擦模型。'
