- en: 'Case Study: Hanging Square*'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 案例研究：悬挂方形*
- en: 原文：[https://phys-sim-book.github.io/lec5.3-hanging_square.html](https://phys-sim-book.github.io/lec5.3-hanging_square.html)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://phys-sim-book.github.io/lec5.3-hanging_square.html](https://phys-sim-book.github.io/lec5.3-hanging_square.html)
- en: <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
- en: We use a simple case study to end this lecture. Based on the [mass-spring system](lec4-2d_mass_spring.html)
    developed in a previous section, we implement gravitational energy and sticky
    Dirichlet boundary conditions to simulate a hanging square. The excutable Python
    project for this section can be found at [https://github.com/phys-sim-book/solid-sim-tutorial](https://github.com/phys-sim-book/solid-sim-tutorial)
    under the `2_dirichlet` folder. [MUDA](https://github.com/MuGdxy/muda) GPU implementations
    can be found at [https://github.com/phys-sim-book/solid-sim-tutorial-gpu](https://github.com/phys-sim-book/solid-sim-tutorial-gpu)
    under the `simulators/2_dirichlet` folder.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 我们用一个简单的案例研究来结束这堂课。基于前一小节开发的 [质量-弹簧系统](lec4-2d_mass_spring.html)，我们实现了重力能量和粘性
    Dirichlet 边界条件来模拟一个悬挂的方形。本节的可执行 Python 项目可以在 `https://github.com/phys-sim-book/solid-sim-tutorial`
    下的 `2_dirichlet` 文件夹中找到。[MUDA](https://github.com/MuGdxy/muda) GPU 实现可以在 `https://github.com/phys-sim-book/solid-sim-tutorial-gpu`
    下的 `simulators/2_dirichlet` 文件夹中找到。
- en: 'Gravitational energy has P(x)=−xTMg,∇P(x)=−Mg,and∇2P(x)=0, which can be trivially
    implemented:'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 重力能量具有 P(x)=−xTMg,∇P(x)=−Mg, 和 ∇²P(x)=0，这可以简单地实现：
- en: '**Implementation 5.3.1 (GravityEnergy.py).**'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: '**实现 5.3.1（GravityEnergy.py）**。'
- en: '[PRE0]'
  id: totrans-6
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'Then we just need to make sure the gravitational energy is added into the Incremental
    Potential (IP):'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 然后我们只需确保将重力能量添加到增量势（IP）中：
- en: '**Implementation 5.3.2 (Adding gravity to IP, time_integrator.py).**'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: '**实现 5.3.2（向 IP 添加重力，time_integrator.py）**。'
- en: '[PRE1]'
  id: totrans-9
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'For the sticky Dirichlet boundary condition, we modify the system accordingly
    when computing search direction:'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 对于粘性 Dirichlet 边界条件，我们在计算搜索方向时相应地修改系统：
- en: '**Implementation 5.3.3 (DOF elimination, time_integrator.py).**'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: '**实现 5.3.3（自由度消除，time_integrator.py）**。'
- en: '[PRE2]'
  id: totrans-12
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'Here `is_DBC` is an array marking whether a node is Dirichlet or not as we
    store the Dirichlet node indices in `DBC`:'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 这里 `is_DBC` 是一个数组，标记节点是否为 Dirichlet，因为我们把 Dirichlet 节点的索引存储在 `DBC` 中：
- en: '**Implementation 5.3.4 (DBC definition, simulator.py).**'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: '**实现 5.3.4（DBC 定义，simulator.py）**。'
- en: '[PRE3]'
  id: totrans-15
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Finally, after making sure `is_DBC` is passed to the time integrator, we can
    simulate an energetic hanging square (no initial stretching) with a smaller spring
    stiffness `k=1e3` at framerate time step size `h=0.02` ([Figure 5.3.1](#fig:lec5:hanging_square_sim)).
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，在确保 `is_DBC` 传递给时间积分器后，我们可以模拟一个具有较小弹簧刚度 `k=1e3` 和帧率时间步长 `h=0.02` 的能量悬挂方形（无初始拉伸）([图
    5.3.1](#fig:lec5:hanging_square_sim))。
- en: '![](../Images/317ee47351ea8c28fbddd347fac640c0.png)'
  id: totrans-17
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/317ee47351ea8c28fbddd347fac640c0.png)'
- en: '**Figure 5.3.1.** From left to right: initial, intermediate, and final static
    frame of the hanging square simulation.'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: '**图 5.3.1.** 从左到右：悬挂方形模拟的初始、中间和最终静态帧。'
