- en: Signed Distances
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 符号距离
- en: 原文：[https://phys-sim-book.github.io/lec7.1-signed_dists.html](https://phys-sim-book.github.io/lec7.1-signed_dists.html)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://phys-sim-book.github.io/lec7.1-signed_dists.html](https://phys-sim-book.github.io/lec7.1-signed_dists.html)
- en: <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
- en: The Incremental Potential Contact (IPC) method is designed to ensure non-interpenetration
    in solids of any codimension by maintaining the *unsigned* distances between solid
    boundaries above zero throughout their movement. This approach is robust as it
    applies universally, irrespective of the solid's specific characteristics.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 增量势接触（IPC）方法旨在通过在整个运动过程中保持固体边界之间的**无符号**距离大于零来确保任何余维数的固体之间不发生穿透。这种方法具有鲁棒性，因为它适用于所有固体，而不管其具体特性如何。
- en: However, when *signed* distances are accessible, the application of IPC becomes
    not only straightforward but also more streamlined. Signed distances extend the
    concept of unsigned distances to encompass solid geometries with closed boundaries.
    With IPC enforcing non-interpenetration, the possibility of negative distances
    inside a solid is eliminated. Therefore, in scenarios where signed distances remain
    non-negative (including the state of being exactly zero), it's an indication of
    successful non-interpenetration.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，当**符号**距离可用时，IPC 的应用不仅变得简单，而且更加流畅。符号距离将无符号距离的概念扩展到包括具有封闭边界的固体几何形状。通过 IPC
    强制非穿透，消除了固体内部出现负距离的可能性。因此，在符号距离保持非负（包括正好为零的状态）的情况下，这是一个成功非穿透的指示。
- en: '****Definition 7.1.1 (Codimension).**** If \(W\) is a linear subspace of a
    finite-dimensional vector space \(V\), then the codimension of \(W\) in \(V\)
    is the difference between their dimensions: codim(W)=dim(V)−dim(W). For example,
    in 3D, a surface has codimension \(1\), and a line has codimension \(2\). In computer
    graphics, when simulating cloth and hair, codimension 1 and 2 geometry representations
    are often applied respectively for efficiency. However, their signed distances
    are not well-defined. This also explains why unsigned distances are more general
    for modeling solid contact.'
  id: totrans-5
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '****定义 7.1.1（余维数）.**** 如果 \(W\) 是有限维向量空间 \(V\) 的线性子空间，那么 \(W\) 在 \(V\) 中的余维数是它们维度的差：codim(W)=dim(V)−dim(W).
    例如，在 3D 中，一个表面有余维数 \(1\)，而一条线有余维数 \(2\)。在计算机图形学中，当模拟布料和头发时，通常分别应用余维数 1 和 2 的几何表示以提高效率。然而，它们的符号距离并没有很好地定义。这也解释了为什么无符号距离在建模固体接触时更为通用。'
- en: 'In a previous [section](lec1.1-solid_rep.html), we explored various methods
    for representing solid geometries. One notable approach is the analytical representation.
    For instance, a 3D ball centered at \( \mathbf{c} \) with radius \( r \) can be
    analytically described by the parameterization:'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 在之前的 [章节](lec1.1-solid_rep.html) 中，我们探讨了表示固体几何形状的各种方法。一种显著的方法是解析表示。例如，球心为 \(
    \mathbf{c} \) 且半径为 \( r \) 的 3D 球体可以通过以下参数化来解析描述：
- en: '{x∈R3 ∣ ∥x−c∥≤r, c∈R3, r>0}.'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: '{x∈R3 ∣ ∥x−c∥≤r, c∈R3, r>0}.'
- en: This principle of defining solid geometries extends beyond simple spheres. Many
    other shapes, such as half-spaces, boxes, ellipsoids, and tori, can be similarly
    parameterized. The key to these parameterizations lies in defining the "interior"
    of these objects, which can often be achieved through functions like signed distances.
    These functions provide a versatile tool for describing a wide range of simple
    and complex shapes in a concise and mathematical manner.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 这种定义固体几何形状的原则不仅限于简单的球体。许多其他形状，如半空间、盒子、椭球体和环面，也可以类似地参数化。这些参数化的关键在于定义这些对象的“内部”，这通常可以通过符号距离等函数来实现。这些函数提供了一种灵活的工具，以简洁和数学的方式描述广泛的各种简单和复杂形状。
- en: '****Example 7.1.1 (Ball Signed Distance Function).**** The signed distance
    function \(d(\mathbf{x})\) and its derivatives of a ball centered at \(\mathbf{c}\)
    with radius \(r\) can be defined as ​d(x)=∥x−c∥−r,∇d(x)=∥x−c∥x−c​,and∇2d(x)=∥x−c∥3∥x−c∥2I−(x−c)(x−c)T​.​'
  id: totrans-9
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '****示例 7.1.1（球体符号距离函数）.**** 球心为 \(\mathbf{c}\) 且半径为 \(r\) 的球体的符号距离函数 \(d(\mathbf{x})\)
    及其导数可以定义为：d(x)=∥x−c∥−r,∇d(x)=∥x−c∥x−c​,and∇2d(x)=∥x−c∥3∥x−c∥2I−(x−c)(x−c)T​.​'
- en: '****Example 7.1.2 (Half-Space Signed Distance Function).**** The signed distance
    function \(d(\mathbf{x})\) and its derivatives of a half-space with normal \(\mathbf{n}\)
    and \(d(\mathbf{o}) = 0\) can be defined as d(x)=nT(x−o),∇d(x)=n,and∇2d(x)=0.(7.1.1)'
  id: totrans-10
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '****示例 7.1.2（半空间符号距离函数）.**** 半空间具有法向量 \(\mathbf{n}\) 和 \(d(\mathbf{o}) = 0\)
    的符号距离函数 \(d(\mathbf{x})\) 及其导数可以定义为：d(x)=nT(x−o),∇d(x)=n,and∇2d(x)=0。(7.1.1)'
- en: Representing more intricate geometries, like those commonly encountered in real-life
    scenarios, can be a challenging task due to their complexity. An effective alternative
    to intricate parameterizations is the use of a uniform Euclidean grid. This grid
    serves as a storage mechanism for the signed distances of a solid object, with
    these distances precomputed at each grid node. When the distance at any arbitrary
    point within the solid is required, interpolation can be applied to the grid data.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 表示更复杂的几何形状，如在实际场景中常见的那种，可能是一个具有挑战性的任务，因为它们的复杂性。一个有效的替代复杂参数化的方法是使用均匀欧几里得网格。这个网格作为存储实体签名字段的机制，这些距离在每个网格节点上预先计算。当需要计算实体内部任意点的距离时，可以对网格数据进行插值。
- en: '****Example 7.1.3 (Grid Signed Distance Field).**** For a signed distance field
    stored on a uniform Euclidean grid with spacing \(\Delta x\), to query the distance
    at an arbitrary location \(\mathbf{x} = (x,y)\) where \(x = x_i + \alpha \Delta
    x\) and \(y = y_i + \beta \Delta x\) (\(\mathbf{x}_{i,j} = (x_i, y_j)\) are the
    location of grid nodes, \(0 \leq \alpha,\beta \leq 1\)), with bilinear interpolation
    ([Figure 7.1.1](#fig:lec7:VDB_exp) right), d(x)=(1−β)((1−α)d(xi,i​)+αd(xi+1,i​))+β((1−α)d(xi,i+1​)+αd(xi+1,i+1​)).
    From [Figure 7.1.1](#fig:lec7:VDB_exp) we also see that to approximate a solid
    boundary smoothly in this setting, a higher-order interpolation scheme such as
    quadratic b-spline interpolation is needed.'
  id: totrans-12
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '****示例7.1.3（网格签名字段）.**** 对于存储在均匀欧几里得网格上的签名字段，其间距为 \(\Delta x\)，要查询任意位置 \(\mathbf{x}
    = (x,y)\) 的距离，其中 \(x = x_i + \alpha \Delta x\) 和 \(y = y_i + \beta \Delta x\)
    (\(\mathbf{x}_{i,j} = (x_i, y_j)\) 是网格节点的位置，\(0 \leq \alpha,\beta \leq 1\))，使用双线性插值（[图7.1.1](#fig:lec7:VDB_exp)
    右图），d(x)=(1−β)((1−α)d(xi,i)+αd(xi+1,i))+β((1−α)d(xi,i+1)+αd(xi+1,i+1))。从 [图7.1.1](#fig:lec7:VDB_exp)
    我们还可以看到，为了在这个设置中平滑地近似实体的边界，需要使用更高阶的插值方案，如二次B样条插值。'
- en: ''
  id: totrans-13
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '![](../Images/c014130340c0bc2122d825d44b136368.png)'
  id: totrans-14
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![图片](../Images/c014130340c0bc2122d825d44b136368.png)'
- en: ''
  id: totrans-15
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '**Figure 7.1.1.** The signed distance between the grid nodes and the sphere
    boundary is precomputed and stored (left). With bilinear interpolation, part of
    the sphere boundary is approximated as the blue polyline (right).'
  id: totrans-16
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**图7.1.1.** 网格节点与球边界之间的签名字段是预先计算并存储的（左图）。通过双线性插值，球边界的一部分被近似为蓝色多段线（右图）。'
