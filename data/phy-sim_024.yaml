- en: Optimization Time Integrator
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 优化时间积分器
- en: 原文：[https://phys-sim-book.github.io/lec4.4-opt_time_integrator.html](https://phys-sim-book.github.io/lec4.4-opt_time_integrator.html)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://phys-sim-book.github.io/lec4.4-opt_time_integrator.html](https://phys-sim-book.github.io/lec4.4-opt_time_integrator.html)
- en: <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
- en: 'Having established the capability to evaluate the Incremental Potential for
    arbitrary configurations, we now turn our attention to the implementation of the
    optimization time integrator. This integrator is crucial for minimizing the Incremental
    Potential, which in turn updates the nodal positions and velocities. This implementation
    follows the approach outlined in [Algorithm 3.3.1](lec3.3-grad_based_opt.html#alg:lec3:PN_method_IE):'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 在建立了评估任意配置的增量势的能力之后，我们现在将注意力转向优化时间积分器的实现。这个积分器对于最小化增量势至关重要，进而更新节点位置和速度。此实现遵循
    [算法 3.3.1](lec3.3-grad_based_opt.html#alg:lec3:PN_method_IE) 中概述的方法：
- en: '**Implementation 4.4.1 (time_integrator.py).**'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: '**实现 4.4.1 (time_integrator.py).**'
- en: '[PRE0]'
  id: totrans-5
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Here `step_forward()` is essentially a direct translation of the projected Newton
    method with line search ([Algorithm 3.3.1](lec3.3-grad_based_opt.html#alg:lec3:PN_method_IE)),
    and we implemented the Incremental Potential value (`IP_val()`), gradient (`IP_grad()`),
    and Hessian (`IP_hess()`) evaluations as separate functions for clarity.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里 `step_forward()` 实质上是投影牛顿法（[算法 3.3.1](lec3.3-grad_based_opt.html#alg:lec3:PN_method_IE)）的直接翻译，并且我们将增量势值（`IP_val()`）、梯度（`IP_grad()`）和海森矩阵（`IP_hess()`）评估作为单独的函数实现，以提高清晰度。
- en: For the computation of search directions, we utilize the linear solver from
    the [Scipy library](https://scipy.org/), which is adept at handling sparse matrices.
    Notably, this solver accepts matrices in the Compressed Sparse Row (CSR) format.
    The choice of this format and solver is driven by their efficiency in processing
    and memory usage, which is particularly advantageous when dealing with large-scale
    problems with large sparse matricies often encountered in computational simulations.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 在计算搜索方向时，我们利用了来自 [Scipy 库](https://scipy.org/) 的线性求解器，该求解器擅长处理稀疏矩阵。值得注意的是，此求解器接受压缩稀疏行（CSR）格式的矩阵。选择这种格式和求解器是由它们在处理效率和内存使用方面的效率驱动的，这在处理计算模拟中经常遇到的大规模稀疏矩阵问题时尤其有利。
