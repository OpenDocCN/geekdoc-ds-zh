- en: '3.2\. Background: review of differentiable functions of several variables#'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 3.2\. 背景知识：可微多变量函数的回顾#
- en: 原文：[https://mmids-textbook.github.io/chap03_opt/02_several/roch-mmids-opt-several.html](https://mmids-textbook.github.io/chap03_opt/02_several/roch-mmids-opt-several.html)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://mmids-textbook.github.io/chap03_opt/02_several/roch-mmids-opt-several.html](https://mmids-textbook.github.io/chap03_opt/02_several/roch-mmids-opt-several.html)
- en: 'We review the differential calculus of several variables. We highlight a few
    key results that will play an important role: the *Chain Rule* and the *Mean Value
    Theorem*.'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 我们回顾了多变量微分学的微分学。我们强调了一些将发挥重要作用的关键结果：**链式法则**和**平均值定理**。
- en: 3.2.1\. Gradient[#](#gradient "Link to this heading")
  id: totrans-3
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 3.2.1\. 梯度[#](#gradient "链接到本标题")
- en: Recall the definition of the gradient.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 回忆梯度的定义。
- en: '**DEFINITION** **(Gradient)** \(\idx{gradient}\xdi\) Let \(f : D \to \mathbb{R}\)
    where \(D \subseteq \mathbb{R}^d\) and let \(\mathbf{x}_0 \in D\) be an interior
    point of \(D\). Assume \(f\) is continuously differentiable at \(\mathbf{x}_0\).
    The (column) vector'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: '**定义** **（梯度）** \(\idx{gradient}\xdi\) 设 \(f : D \to \mathbb{R}\) 其中 \(D \subseteq
    \mathbb{R}^d\)，且 \(\mathbf{x}_0 \in D\) 是 \(D\) 的一个内点。假设 \(f\) 在 \(\mathbf{x}_0\)
    处连续可微。该（列）向量'
- en: \[ \nabla f(\mathbf{x}_0) = \left(\frac{\partial f (\mathbf{x}_0)}{\partial
    x_1}, \ldots, \frac{\partial f (\mathbf{x}_0)}{\partial x_d}\right) \]
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \nabla f(\mathbf{x}_0) = \left(\frac{\partial f (\mathbf{x}_0)}{\partial
    x_1}, \ldots, \frac{\partial f (\mathbf{x}_0)}{\partial x_d}\right) \]
- en: is called the gradient of \(f\) at \(\mathbf{x}_0\). \(\natural\)
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 被称为 \(f\) 在 \(\mathbf{x}_0\) 处的梯度。\(\natural\)
- en: Note that the gradient is itself a function of \(\mathbf{x}\). In fact, unlike
    \(f\), it is a vector-valued function.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 注意到梯度本身是 \(\mathbf{x}\) 的函数。事实上，与 \(f\) 不同，它是一个向量值函数。
- en: '![Gradient as a function (with help from ChatGPT; adapted from (Source))](../Images/4779b42631c18d22c237a9d0faeb1d4e.png)'
  id: totrans-9
  prefs: []
  type: TYPE_IMG
  zh: '![梯度作为函数（得益于 ChatGPT 的帮助；改编自（来源）)](../Images/4779b42631c18d22c237a9d0faeb1d4e.png)'
- en: '**EXAMPLE:** Consider the affine function'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: '**示例：** 考虑仿射函数'
- en: \[ f(\mathbf{x}) = \mathbf{q}^T \mathbf{x} + r \]
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: \[ f(\mathbf{x}) = \mathbf{q}^T \mathbf{x} + r \]
- en: where \(\mathbf{x} = (x_1, \ldots, x_d), \mathbf{q} = (q_1, \ldots, q_d) \in
    \mathbb{R}^d\). The partial derivatives of the linear term are given by
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 其中 \(\mathbf{x} = (x_1, \ldots, x_d), \mathbf{q} = (q_1, \ldots, q_d) \in \mathbb{R}^d\)。线性项的偏导数由以下给出
- en: \[ \frac{\partial}{\partial x_i} [\mathbf{q}^T \mathbf{x}] = \frac{\partial}{\partial
    x_i} \left[\sum_{j=1}^d q_j x_j \right] = \frac{\partial}{\partial x_i} \left[q_i
    x_i \right] = q_i. \]
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \frac{\partial}{\partial x_i} [\mathbf{q}^T \mathbf{x}] = \frac{\partial}{\partial
    x_i} \left[\sum_{j=1}^d q_j x_j \right] = \frac{\partial}{\partial x_i} \left[q_i
    x_i \right] = q_i. \]
- en: So the gradient of \(f\) is
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，\(f\) 的梯度为
- en: \[ \nabla f(\mathbf{x}) = \mathbf{q}. \]
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \nabla f(\mathbf{x}) = \mathbf{q}. \]
- en: \(\lhd\)
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: \(\lhd\)
- en: '**EXAMPLE:** Consider the quadratic function'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: '**示例：** 考虑二次函数'
- en: \[ f(\mathbf{x}) = \frac{1}{2} \mathbf{x}^T P \mathbf{x} + \mathbf{q}^T \mathbf{x}
    + r, \]
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: \[ f(\mathbf{x}) = \frac{1}{2} \mathbf{x}^T P \mathbf{x} + \mathbf{q}^T \mathbf{x}
    + r, \]
- en: where \(\mathbf{x} = (x_1, \ldots, x_d), \mathbf{q} = (q_1, \ldots, q_d) \in
    \mathbb{R}^d\) and \(P \in \mathbb{R}^{d \times d}\). The partial derivatives
    of the quadratic term are given by
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 其中 \(\mathbf{x} = (x_1, \ldots, x_d), \mathbf{q} = (q_1, \ldots, q_d) \in \mathbb{R}^d\)
    且 \(P \in \mathbb{R}^{d \times d}\)。二次项的偏导数由以下给出
- en: \[\begin{align*} \frac{\partial}{\partial x_i} [\mathbf{x}^T P \mathbf{x}] &=
    \frac{\partial}{\partial x_i} \left[\sum_{j, k=1}^d P_{jk} x_j x_k \right]\\ &=
    \frac{\partial}{\partial x_i} \left[P_{ii} x_i^2 + \sum_{j=1, j\neq i}^d P_{ji}
    x_j x_i + \sum_{k=1, k\neq i}^d P_{ik} x_i x_k \right], \end{align*}\]
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: \[\begin{align*} \frac{\partial}{\partial x_i} [\mathbf{x}^T P \mathbf{x}] &=
    \frac{\partial}{\partial x_i} \left[\sum_{j, k=1}^d P_{jk} x_j x_k \right]\\ &=
    \frac{\partial}{\partial x_i} \left[P_{ii} x_i^2 + \sum_{j=1, j\neq i}^d P_{ji}
    x_j x_i + \sum_{k=1, k\neq i}^d P_{ik} x_i x_k \right], \end{align*}\]
- en: where we used that all terms not including \(x_i\) have partial derivative \(0\).
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 其中我们使用了所有不包含 \(x_i\) 的项的偏导数为 \(0\)。
- en: This last expression is
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 这个最后的表达式是
- en: \[\begin{align*} &= 2 P_{ii} x_i + \sum_{j=1, j\neq i}^d P_{ji} x_j + \sum_{k=1,
    k\neq i}^d P_{ik} x_k\\ &= \sum_{j=1}^d [P^T]_{ij} x_j + \sum_{k=1}^d [P]_{ik}
    x_k\\ &= ([P^T + P]\mathbf{x})_i. \end{align*}\]
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: \[\begin{align*} &= 2 P_{ii} x_i + \sum_{j=1, j\neq i}^d P_{ji} x_j + \sum_{k=1,
    k\neq i}^d P_{ik} x_k\\ &= \sum_{j=1}^d [P^T]_{ij} x_j + \sum_{k=1}^d [P]_{ik}
    x_k\\ &= ([P^T + P]\mathbf{x})_i. \end{align*}\]
- en: So the gradient of \(f\) is
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，\(f\) 的梯度为
- en: \[ \nabla f(\mathbf{x}) = \frac{1}{2}[P + P^T] \,\mathbf{x} + \mathbf{q}. \]
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \nabla f(\mathbf{x}) = \frac{1}{2}[P + P^T] \,\mathbf{x} + \mathbf{q}. \]
- en: If \(P\) is symmetric, this further simplifies to \(\nabla f(\mathbf{x}) = P
    \,\mathbf{x} + \mathbf{q}\). \(\lhd\)
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 如果 \(P\) 是对称的，这进一步简化为 \(\nabla f(\mathbf{x}) = P \,\mathbf{x} + \mathbf{q}\)。\(\lhd\)
- en: It will be useful to compute the derivative of a function \(f(\mathbf{x})\)
    of several variables along a parametric curve \(\mathbf{g}(t) = (g_1(t), \ldots,
    g_d(t)) \in \mathbb{R}^d\) for \(t\) in some closed interval of \(\mathbb{R}\).
    The following result is a special case of an important fact. We will use the following
    notation \(\mathbf{g}'(t) = (g_1'(t), \ldots, g_m'(t))\), where \(g_i'\) is the
    derivative of \(g_i\). We say that \(\mathbf{g}(t)\) is continuously differentiable
    at \(t = t_0\) if each of its component is.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 计算一个多变量函数 \(f(\mathbf{x})\) 沿着参数曲线 \(\mathbf{g}(t) = (g_1(t), \ldots, g_d(t))
    \in \mathbb{R}^d\) 的导数，其中 \(t\) 在 \(\mathbb{R}\) 的某个闭区间内，这将是重要事实的一个特例。我们将使用以下符号
    \(\mathbf{g}'(t) = (g_1'(t), \ldots, g_m'(t))\)，其中 \(g_i'\) 是 \(g_i\) 的导数。如果 \(\mathbf{g}(t)\)
    的每个分量在 \(t = t_0\) 处连续可微，我们说 \(\mathbf{g}(t)\) 在 \(t = t_0\) 处连续可微。
- en: '**EXAMPLE:** **(Parametric Line)** The straight line between \(\mathbf{x}_0
    = (x_{0,1},\ldots,x_{0,d})\) and \(\mathbf{x}_1 = (x_{1,1},\ldots,x_{1,d})\) in
    \(\mathbb{R}^d\) can be parametrized as'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: '**例：** **(参数线)** 在 \(\mathbb{R}^d\) 中，从 \(\mathbf{x}_0 = (x_{0,1},\ldots,x_{0,d})\)
    到 \(\mathbf{x}_1 = (x_{1,1},\ldots,x_{1,d})\) 的直线可以参数化为'
- en: \[ \mathbf{g}(t) = \mathbf{x}_0 + t (\mathbf{x}_1 - \mathbf{x}_0), \]
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \mathbf{g}(t) = \mathbf{x}_0 + t (\mathbf{x}_1 - \mathbf{x}_0), \]
- en: where \(t\) goes from \(0\) (at which \(\mathbf{g}(0) = \mathbf{x}_0\)) to \(1\)
    (at which \(\mathbf{g}(1) = \mathbf{x}_1\)).
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 其中 \(t\) 从 \(0\)（此时 \(\mathbf{g}(0) = \mathbf{x}_0\)）到 \(1\)（此时 \(\mathbf{g}(1)
    = \mathbf{x}_1\)）。
- en: Then
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 然后
- en: \[ g_i'(t) = \frac{\mathrm{d}}{\mathrm{d}t} [x_{0,i} + t (x_{1,i} - x_{0,i})]
    = x_{1,i} - x_{0,i}, \]
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: \[ g_i'(t) = \frac{\mathrm{d}}{\mathrm{d}t} [x_{0,i} + t (x_{1,i} - x_{0,i})]
    = x_{1,i} - x_{0,i}, \]
- en: so that
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 因此
- en: \[ \mathbf{g}'(t) = \mathbf{x}_1 - \mathbf{x}_0. \]
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \mathbf{g}'(t) = \mathbf{x}_1 - \mathbf{x}_0. \]
- en: \(\lhd\)
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: \(\lhd\)
- en: 'Recall the *Chain Rule* in the single-variable case. Quoting [Wikipedia](https://en.wikipedia.org/wiki/Chain_rule):'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 回忆一下单变量情况下的链式法则。引用 [维基百科](https://en.wikipedia.org/wiki/Chain_rule)：
- en: The simplest form of the chain rule is for real-valued functions of one real
    variable. It states that if \(g\) is a function that is differentiable at a point
    \(c\) (i.e. the derivative \(g'(c)\) exists) and \(f\) is a function that is differentiable
    at \(g(c)\), then the composite function \({\displaystyle f\circ g}\) is differentiable
    at \(c\), and the derivative is \({\displaystyle (f\circ g)'(c)=f'(g(c))\cdot
    g'(c)}\).
  id: totrans-37
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 链式法则的最简单形式是针对一个实变量的实值函数。它表明，如果 \(g\) 是在点 \(c\) 可微的函数（即导数 \(g'(c)\) 存在），并且 \(f\)
    是在 \(g(c)\) 可微的函数，那么复合函数 \({\displaystyle f\circ g}\) 在 \(c\) 处可微，其导数为 \({\displaystyle
    (f\circ g)'(c)=f'(g(c))\cdot g'(c)}\).
- en: Here is a straightforward generalization of the *Chain Rule*.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 这里是链式法则的一个直接推广。
- en: '**THEOREM** **(Chain Rule)** \(\idx{chain rule}\xdi\) Let \(f : D_1 \to \mathbb{R}\),
    where \(D_1 \subseteq \mathbb{R}\), and let \(g : D_2 \to \mathbb{R}\), where
    \(D_2 \subseteq \mathbb{R}^d\). Assume that \(f\) is continuously differentiable
    at \(g(\mathbf{x}_0)\), an interior point of \(D_1\), and that \(g\) is continuously
    differentiable at \(\mathbf{x}_0\), an interior point of \(D_2\). Then'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: '**定理** **(链式法则)** \(\idx{chain rule}\xdi\) 设 \(f : D_1 \to \mathbb{R}\)，其中
    \(D_1 \subseteq \mathbb{R}\)，设 \(g : D_2 \to \mathbb{R}\)，其中 \(D_2 \subseteq \mathbb{R}^d\)。假设
    \(f\) 在 \(g(\mathbf{x}_0)\) 处连续可微，\(g(\mathbf{x}_0)\) 是 \(D_1\) 的一个内点，且 \(g\)
    在 \(\mathbf{x}_0\) 处连续可微，\(\mathbf{x}_0\) 是 \(D_2\) 的一个内点。那么'
- en: \[ \nabla (f\circ g) (\mathbf{x}_0) = f'(g(\mathbf{x}_0)) \nabla g(\mathbf{x}_0).
    \]
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \nabla (f\circ g) (\mathbf{x}_0) = f'(g(\mathbf{x}_0)) \nabla g(\mathbf{x}_0).
    \]
- en: \(\sharp\)
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: \(\sharp\)
- en: '*Proof:* We apply the *Chain Rule* for functions of one variable to the partial
    derivatives. For all \(i\),'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: '*证明：* 我们将一元函数的链式法则应用于偏导数。对于所有的 \(i\)，'
- en: \[ \frac{\partial}{\partial x_i}f (g(\mathbf{x}_0)) = f'(g(\mathbf{x}_0)) \frac{\partial}{\partial
    x_i} g(\mathbf{x}_0). \]
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \frac{\partial}{\partial x_i}f (g(\mathbf{x}_0)) = f'(g(\mathbf{x}_0)) \frac{\partial}{\partial
    x_i} g(\mathbf{x}_0). \]
- en: Collecting the partial derivatives in a vector gives the claim. \(\square\)
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 将偏导数收集到一个向量中，就得到了这个结论。 \(\square\)
- en: Here is a different generalization of the *Chain Rule*. Again the composition
    \(f \circ \mathbf{g}\) denotes the function \(f \circ \mathbf{g}(t) = f (\mathbf{g}(t))\).
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 这里是链式法则的一个不同的一般化。同样，复合 \(f \circ \mathbf{g}\) 表示函数 \(f \circ \mathbf{g}(t) =
    f (\mathbf{g}(t))\)。
- en: '**THEOREM** **(Chain Rule)** Let \(f : D_1 \to \mathbb{R}\), where \(D_1 \subseteq
    \mathbb{R}^d\), and let \(\mathbf{g} : D_2 \to \mathbb{R}^d\), where \(D_2 \subseteq
    \mathbb{R}\). Assume that \(f\) is continuously differentiable at \(\mathbf{g}(t_0)\),
    an interior point of \(D_1\), and that \(\mathbf{g}\) is continuously differentiable
    at \(t_0\), an interior point of \(D_2\). Then'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: '**定理** **(链式法则)** 设 \(f : D_1 \to \mathbb{R}\)，其中 \(D_1 \subseteq \mathbb{R}^d\)，设
    \(\mathbf{g} : D_2 \to \mathbb{R}^d\)，其中 \(D_2 \subseteq \mathbb{R}\)。假设 \(f\)
    在 \(\mathbf{g}(t_0)\) 处连续可微，\(\mathbf{g}(t_0)\) 是 \(D_1\) 的内点，并且 \(\mathbf{g}\)
    在 \(t_0\) 处连续可微，\(t_0\) 是 \(D_2\) 的内点。那么'
- en: \[ (f\circ \mathbf{g})'(t_0) = \nabla f (\mathbf{g}(t_0))^T \mathbf{g}'(t_0).
    \]
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: \[ (f\circ \mathbf{g})'(t_0) = \nabla f (\mathbf{g}(t_0))^T \mathbf{g}'(t_0).
    \]
- en: \(\sharp\)
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: \(\sharp\)
- en: '*Proof:* To simplify the notation, suppose that \(f\) is a real-valued function
    of \(\mathbf{x} = (x_1, \ldots, x_d)\) whose components are themselves functions
    of \(t \in \mathbb{R}\). Assume \(f\) is continuously differentiable at \(\mathbf{x}(t)\).
    To compute the [total derivative](https://en.wikipedia.org/wiki/Total_derivative)\(\idx{total
    derivative}\xdi\) \(\frac{\mathrm{d} f(t)}{\mathrm{d} t}\), let \(\Delta x_k =
    x_k(t + \Delta t) - x_k(t)\), \(x_k = x_k(t)\) and'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: '*证明*: 为了简化符号，假设 \(f\) 是一个关于 \(\mathbf{x} = (x_1, \ldots, x_d)\) 的实值函数，其中这些分量本身是
    \(t \in \mathbb{R}\) 的函数。假设 \(f\) 在 \(\mathbf{x}(t)\) 处连续可微。为了计算全导数 \(\idx{total
    derivative}\xdi\) \(\frac{\mathrm{d} f(t)}{\mathrm{d} t}\)，令 \(\Delta x_k = x_k(t
    + \Delta t) - x_k(t)\)，\(x_k = x_k(t)\) 和'
- en: \[ \Delta f = f(x_1 + \Delta x_1, \ldots, x_d + \Delta x_d) - f(x_1, \ldots,
    x_d). \]
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \Delta f = f(x_1 + \Delta x_1, \ldots, x_d + \Delta x_d) - f(x_1, \ldots,
    x_d). \]
- en: We seek to compute the limit \(\lim_{\Delta t \to 0} \frac{\Delta f}{\Delta
    t}\). To relate this limit to partial derivatives of \(f\), we re-write \(\Delta
    f\) as a telescoping sum where each term involves variation of a single variable
    \(x_k\). That is,
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 我们需要计算极限 \(\lim_{\Delta t \to 0} \frac{\Delta f}{\Delta t}\)。为了将这个极限与 \(f\)
    的偏导数联系起来，我们将 \(\Delta f\) 重写为一个望远镜求和，其中每个项只涉及单个变量 \(x_k\) 的变化。也就是说，
- en: \[\begin{align*} \Delta f = & [f(x_1 + \Delta x_1, \ldots, x_d + \Delta x_d)
    - f(x_1, x_2 + \Delta x_2, \ldots, x_d + \Delta x_d)]\\ &+ [f(x_1, x_2 + \Delta
    x_2, \ldots, x_d + \Delta x_d) - f(x_1, x_2, x_3 + \Delta x_3, \ldots, x_d + \Delta
    x_d)] \\ &+ \cdots + [f(x_1, \cdots, x_{d-1}, x_d + \Delta x_d) - f(x_1, \ldots,
    x_d)]. \end{align*}\]
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: \[\begin{align*} \Delta f = & [f(x_1 + \Delta x_1, \ldots, x_d + \Delta x_d)
    - f(x_1, x_2 + \Delta x_2, \ldots, x_d + \Delta x_d)]\\ &+ [f(x_1, x_2 + \Delta
    x_2, \ldots, x_d + \Delta x_d) - f(x_1, x_2, x_3 + \Delta x_3, \ldots, x_d + \Delta
    x_d)] \\ &+ \cdots + [f(x_1, \cdots, x_{d-1}, x_d + \Delta x_d) - f(x_1, \ldots,
    x_d)]. \end{align*}\]
- en: Applying the *Mean Value Theorem* to each term gives
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 将平均值定理应用于每个项给出
- en: \[\begin{align*} \Delta f = & \Delta x_1 \frac{\partial f(x_1 + \theta_1 \Delta
    x_1, x_2 + \Delta x_2, \ldots, x_d + \Delta x_d)} {\partial x_1}\\ &+ \Delta x_2
    \frac{\partial f(x_1, x_2 + \theta_2 \Delta x_2, x_3 + \Delta x_3, \ldots, x_d
    + \Delta x_d)} {\partial x_2}\\ &+ \cdots + \Delta x_d \frac{\partial f(x_1, \cdots,
    x_{d-1}, x_d + \theta_d \Delta x_d)} {\partial x_d} \end{align*}\]
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: \[\begin{align*} \Delta f = & \Delta x_1 \frac{\partial f(x_1 + \theta_1 \Delta
    x_1, x_2 + \Delta x_2, \ldots, x_d + \Delta x_d)} {\partial x_1}\\ &+ \Delta x_2
    \frac{\partial f(x_1, x_2 + \theta_2 \Delta x_2, x_3 + \Delta x_3, \ldots, x_d
    + \Delta x_d)} {\partial x_2}\\ &+ \cdots + \Delta x_d \frac{\partial f(x_1, \cdots,
    x_{d-1}, x_d + \theta_d \Delta x_d)} {\partial x_d} \end{align*}\]
- en: where \(0 < \theta_k < 1\) for \(k=1,\ldots,d\). Dividing by \(\Delta t\), taking
    the limit \(\Delta t \to 0\) and using the fact that \(f\) is continuously differentiable,
    we get
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 其中 \(0 < \theta_k < 1\) 对于 \(k=1,\ldots,d\)。除以 \(\Delta t\)，取极限 \(\Delta t \to
    0\) 并使用 \(f\) 连续可微的事实，我们得到
- en: \[ \frac{\mathrm{d} f (t)}{\mathrm{d} t} = \sum_{k=1}^d \frac{\partial f(\mathbf{x}(t))}
    {\partial x_k} \frac{\mathrm{d} x_k(t)}{\mathrm{d} t}. \]
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \frac{\mathrm{d} f (t)}{\mathrm{d} t} = \sum_{k=1}^d \frac{\partial f(\mathbf{x}(t))}
    {\partial x_k} \frac{\mathrm{d} x_k(t)}{\mathrm{d} t}. \]
- en: \(\square\)
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: \(\square\)
- en: As a first application of the *Chain Rule*, we generalize the *Mean Value Theorem*
    to the case of several variables. We will use this result later to prove a multivariable
    Taylor expansion result that will play a central role in this chapter.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 作为链式法则的第一个应用，我们将平均值定理推广到多个变量的情况。我们将使用这个结果来证明一个多变量泰勒展开的结果，这个结果将在本章中扮演核心角色。
- en: '**THEOREM** **(Mean Value)** \(\idx{mean value theorem}\xdi\) Let \(f : D \to
    \mathbb{R}\) where \(D \subseteq \mathbb{R}^d\). Let \(\mathbf{x}_0 \in D\) and
    \(\delta > 0\) be such that \(B_\delta(\mathbf{x}_0) \subseteq D\). If \(f\) is
    continuously differentiable on \(B_\delta(\mathbf{x}_0)\), then for any \(\mathbf{x}
    \in B_\delta(\mathbf{x}_0)\)'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: '**定理** **(平均值定理)** \(\idx{mean value theorem}\xdi\) 设 \(f : D \to \mathbb{R}\)
    其中 \(D \subseteq \mathbb{R}^d\)。设 \(\mathbf{x}_0 \in D\) 和 \(\delta > 0\) 使得 \(B_\delta(\mathbf{x}_0)
    \subseteq D\)。如果 \(f\) 在 \(B_\delta(\mathbf{x}_0)\) 上是连续可微的，那么对于 \(B_\delta(\mathbf{x}_0)\)
    中的任意 \(\mathbf{x}\)'
- en: \[ f(\mathbf{x}) = f(\mathbf{x}_0) + \nabla f(\mathbf{x}_0 + \xi \mathbf{p})^T
    \mathbf{p} \]
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: \[ f(\mathbf{x}) = f(\mathbf{x}_0) + \nabla f(\mathbf{x}_0 + \xi \mathbf{p})^T
    \mathbf{p} \]
- en: for some \(\xi \in (0,1)\), where \(\mathbf{p} = \mathbf{x} - \mathbf{x}_0\).
    \(\sharp\)
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 对于某个 \(\xi \in (0,1)\)，其中 \(\mathbf{p} = \mathbf{x} - \mathbf{x}_0\)。 \(\sharp\)
- en: One way to think of the *Mean Value Theorem* is as a \(0\)-th order Taylor expansion.
    It says that, when \(\mathbf{x}\) is close to \(\mathbf{x}_0\), the value \(f(\mathbf{x})\)
    is close to \(f(\mathbf{x}_0)\) in a way that can be controlled in terms of the
    gradient in the neighborhood of \(\mathbf{x}_0\). From this point of view, the
    term \(\nabla f(\mathbf{x}_0 + \xi \mathbf{p})^T \mathbf{p}\) is called the Lagrange
    remainder.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 可以将 *平均值定理* 视为 \(0\) 阶泰勒展开。它表明，当 \(\mathbf{x}\) 接近 \(\mathbf{x}_0\) 时，\(f(\mathbf{x})\)
    的值接近 \(f(\mathbf{x}_0)\)，这种接近可以通过 \(\mathbf{x}_0\) 邻域中的梯度来控制。从这个角度来看，项 \(\nabla
    f(\mathbf{x}_0 + \xi \mathbf{p})^T \mathbf{p}\) 被称为拉格朗日余项。
- en: '*Proof idea:* We apply the single-variable result and the *Chain Rule*.'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: '*证明思路* 我们应用单变量结果和 *链式法则*。'
- en: '*Proof:* Let \(\phi(t) = f(\boldsymbol{\alpha}(t))\) where \(\boldsymbol{\alpha}(t)
    = \mathbf{x}_0 + t \mathbf{p}\). Observe that \(\phi(0) = f(\mathbf{x}_0)\) and
    \(\phi(1) = f(\mathbf{x})\). By the *Chain Rule* and the parametric line example,'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: '*证明* 设 \(\phi(t) = f(\boldsymbol{\alpha}(t))\)，其中 \(\boldsymbol{\alpha}(t)
    = \mathbf{x}_0 + t \mathbf{p}\)。观察 \(\phi(0) = f(\mathbf{x}_0)\) 和 \(\phi(1) =
    f(\mathbf{x})\)。根据 *链式法则* 和参数线示例，'
- en: \[ \phi'(t) = \nabla f(\boldsymbol{\alpha}(t))^T \boldsymbol{\alpha}'(t) = \nabla
    f(\boldsymbol{\alpha}(t))^T \mathbf{p} = \nabla f(\mathbf{x}_0 + t \mathbf{p})^T
    \mathbf{p}. \]
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \phi'(t) = \nabla f(\boldsymbol{\alpha}(t))^T \boldsymbol{\alpha}'(t) = \nabla
    f(\boldsymbol{\alpha}(t))^T \mathbf{p} = \nabla f(\mathbf{x}_0 + t \mathbf{p})^T
    \mathbf{p}. \]
- en: In particular, \(\phi\) has a continuous first derivative on \([0,1]\). By the
    *Mean Value Theorem* in the single-variable case
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 特别地，\(\phi\) 在 \([0,1]\) 上具有连续的一阶导数。根据单变量情况下的 *平均值定理*，
- en: \[ \phi(t) = \phi(0) + t \phi'(\xi) \]
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \phi(t) = \phi(0) + t \phi'(\xi) \]
- en: for some \(\xi \in (0,t)\). Plugging in the expressions for \(\phi(0)\) and
    \(\phi'(\xi)\) and taking \(t=1\) gives the claim. \(\square\)
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 对于某个 \(\xi \in (0,t)\)。将 \(\phi(0)\) 和 \(\phi'(\xi)\) 的表达式代入，并取 \(t=1\)，即可得到结论。
    \(\square\)
- en: 3.2.2\. Second-order derivatives[#](#second-order-derivatives "Link to this
    heading")
  id: totrans-69
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 3.2.2\. 二阶导数[#](#second-order-derivatives "链接到本标题")
- en: 'One can also define higher-order derivatives. We start with the single-variable
    case, where \(f : D \to \mathbb{R}\) with \(D \subseteq \mathbb{R}\) and \(x_0
    \in D\) is an interior point of \(D\). Note that, if \(f''\) exists in \(D\),
    then it is itself a function of \(x\). Then the second derivative at \(x_0\) is'
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: '也可以定义高阶导数。我们从单变量情况开始，其中 \(f : D \to \mathbb{R}\) 且 \(D \subseteq \mathbb{R}\)，\(x_0
    \in D\) 是 \(D\) 的一个内点。注意，如果 \(f''\) 在 \(D\) 中存在，那么它本身就是一个关于 \(x\) 的函数。那么 \(x_0\)
    处的二阶导数是'
- en: \[ f''(x_0) = \frac{\mathrm{d}^2 f(x_0)}{\mathrm{d} x^2} = \lim_{h \to 0} \frac{f'(x_0
    + h) - f'(x_0)}{h} \]
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: \[ f''(x_0) = \frac{\mathrm{d}^2 f(x_0)}{\mathrm{d} x^2} = \lim_{h \to 0} \frac{f'(x_0
    + h) - f'(x_0)}{h} \]
- en: provided the limit exists.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 假设极限存在。
- en: 'In the several variable case, we have the following:'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 在多变量情况下，我们有以下结论：
- en: '**DEFINITION** **(Second Partial Derivatives and Hessian)** \(\idx{second partial
    derivatives}\xdi\) \(\idx{Hessian}\xdi\) Let \(f : D \to \mathbb{R}\) where \(D
    \subseteq \mathbb{R}^d\) and let \(\mathbf{x}_0 \in D\) be an interior point of
    \(D\). Assume that \(f\) is continuously differentiable in an open ball around
    \(\mathbf{x}_0\). Then \(\partial f(\mathbf{x})/\partial x_i\) is itself a function
    of \(\mathbf{x}\) and its partial derivative with respect to \(x_j\), if it exists,
    is denoted by'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: '**定义** **(二阶偏导数和海森矩阵)** \(\idx{second partial derivatives}\xdi\) \(\idx{Hessian}\xdi\)
    设 \(f : D \to \mathbb{R}\) 其中 \(D \subseteq \mathbb{R}^d\)，并且设 \(\mathbf{x}_0
    \in D\) 是 \(D\) 的一个内点。假设 \(f\) 在 \(\mathbf{x}_0\) 附近的某个开球内是连续可微的。那么 \(\partial
    f(\mathbf{x})/\partial x_i\) 本身是一个关于 \(\mathbf{x}\) 的函数，并且如果它存在，其关于 \(x_j\) 的偏导数表示为'
- en: \[ \frac{\partial^2 f(\mathbf{x}_0)}{\partial x_j \partial x_i} = \lim_{h \to
    0} \frac{\frac{\partial f}{\partial x_i}(\mathbf{x}_0 + h \mathbf{e}_j) - \frac{\partial
    f}{\partial x_i}(\mathbf{x}_0)}{h}. \]
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \frac{\partial^2 f(\mathbf{x}_0)}{\partial x_j \partial x_i} = \lim_{h \to
    0} \frac{\frac{\partial f}{\partial x_i}(\mathbf{x}_0 + h \mathbf{e}_j) - \frac{\partial
    f}{\partial x_i}(\mathbf{x}_0)}{h}. \]
- en: To simplify the notation, we write this as \(\partial^2 f(\mathbf{x}_0)/\partial
    x_i^2\) when \(j = i\). If \(\partial^2 f(\mathbf{x})/\partial x_j \partial x_i\)
    and \(\partial^2 f(\mathbf{x})/\partial x_i^2\) exist and are continuous in an
    open ball around \(\mathbf{x}_0\) for all \(i, j\), we say that \(f\) is twice
    continuously differentiable at \(\mathbf{x}_0\).
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 为了简化符号，当 \(j = i\) 时，我们将其写作 \(\partial^2 f(\mathbf{x}_0)/\partial x_i^2\)。如果
    \(\partial^2 f(\mathbf{x})/\partial x_j \partial x_i\) 和 \(\partial^2 f(\mathbf{x})/\partial
    x_i^2\) 在 \(\mathbf{x}_0\) 附近的某个开球内对所有 \(i, j\) 都存在且连续，那么我们说 \(f\) 在 \(\mathbf{x}_0\)
    处是连续两次可微的。
- en: The matrix of second derivatives is called the Hessian and is denoted by
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 二阶偏导数的矩阵称为 Hessian，并记为
- en: \[\begin{split} \mathbf{H}_f(\mathbf{x}_0) = \begin{pmatrix} \frac{\partial^2
    f(\mathbf{x}_0)}{\partial x_1^2} & \cdots & \frac{\partial^2 f(\mathbf{x}_0)}{\partial
    x_d \partial x_1}\\ \vdots & \ddots & \vdots\\ \frac{\partial^2 f(\mathbf{x}_0)}{\partial
    x_1 \partial x_d} & \cdots & \frac{\partial^2 f(\mathbf{x}_0)}{\partial x_d^2}
    \end{pmatrix}. \end{split}\]
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: \[\begin{split} \mathbf{H}_f(\mathbf{x}_0) = \begin{pmatrix} \frac{\partial^2
    f(\mathbf{x}_0)}{\partial x_1^2} & \cdots & \frac{\partial^2 f(\mathbf{x}_0)}{\partial
    x_d \partial x_1}\\ \vdots & \ddots & \vdots\\ \frac{\partial^2 f(\mathbf{x}_0)}{\partial
    x_1 \partial x_d} & \cdots & \frac{\partial^2 f(\mathbf{x}_0)}{\partial x_d^2}
    \end{pmatrix}. \end{split}\]
- en: \(\natural\)
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: \(\natural\)
- en: Like \(f\) and the gradient \(\nabla f\), the Hessian \(\mathbf{H}_f\) is a
    function of \(\mathbf{x}\). It is a matrix-valued function however.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 与 \(f\) 和梯度 \(\nabla f\) 一样，Hessian \(\mathbf{H}_f\) 是 \(\mathbf{x}\) 的函数。然而，它是一个矩阵值函数。
- en: When \(f\) is twice continuously differentiable at \(\mathbf{x}_0\), its Hessian
    is a symmetric matrix.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 当 \(f\) 在 \(\mathbf{x}_0\) 处连续两次可微时，其 Hessian 是一个对称矩阵。
- en: '**THEOREM** **(Symmetry of the Hessian)** \(\idx{symmetry of the Hessian}\xdi\)
    Let \(f : D \to \mathbb{R}\) where \(D \subseteq \mathbb{R}^d\) and let \(\mathbf{x}_0
    \in D\) be an interior point of \(D\). Assume that \(f\) is twice continuously
    differentiable at \(\mathbf{x}_0\). Then for all \(i \neq j\)'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: '**定理** **(Hessian 的对称性)** \(\idx{symmetry of the Hessian}\xdi\) 设 \(f : D \to
    \mathbb{R}\)，其中 \(D \subseteq \mathbb{R}^d\)，且 \(\mathbf{x}_0 \in D\) 是 \(D\)
    的一个内点。假设 \(f\) 在 \(\mathbf{x}_0\) 处连续两次可微。那么对于所有 \(i \neq j\)'
- en: \[ \frac{\partial^2 f(\mathbf{x}_0)}{\partial x_j \partial x_i} = \frac{\partial^2
    f(\mathbf{x}_0)}{\partial x_i \partial x_j}. \]
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \frac{\partial^2 f(\mathbf{x}_0)}{\partial x_j \partial x_i} = \frac{\partial^2
    f(\mathbf{x}_0)}{\partial x_i \partial x_j}. \]
- en: \(\sharp\)
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: \(\sharp\)
- en: '*Proof idea:* Two applications of the *Mean Value Theorem* show that the limits
    can be interchanged.'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: '*证明思路:* 应用两次**平均值定理**可以证明极限可以互换。'
- en: '*Proof:* By definition of the partial derivative,'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: '*证明:* 根据偏导数的定义，'
- en: \[\begin{align*} \frac{\partial^2 f(\mathbf{x}_0)}{\partial x_j \partial x_i}
    &= \lim_{h_j \to 0} \frac{\frac{\partial f}{\partial x_i}(\mathbf{x}_0 + h_j \mathbf{e}_j)
    - \frac{\partial f}{\partial x_i}(\mathbf{x}_0)}{h_j}\\ &= \lim_{h_j \to 0} \lim_{h_i
    \to 0} \frac{1}{h_j h_i} \left\{ [f(\mathbf{x}_0 + h_j \mathbf{e}_j + h_i \mathbf{e}_i)
    - f(\mathbf{x}_0 + h_j \mathbf{e}_j)] - [f(\mathbf{x}_0 + h_i \mathbf{e}_i) -
    f(\mathbf{x}_0)] \right\}\\ &= \lim_{h_j \to 0} \lim_{h_i \to 0} \frac{1}{h_i}
    \left\{ \frac{[f(\mathbf{x}_0 + h_i \mathbf{e}_i + h_j \mathbf{e}_j) - f(\mathbf{x}_0
    + h_i \mathbf{e}_i)] - [f(\mathbf{x}_0 + h_j \mathbf{e}_j) - f(\mathbf{x}_0)]}{h_j}
    \right\}\\ &= \lim_{h_j \to 0} \lim_{h_i \to 0} \frac{1}{h_i} \left\{\frac{\partial}{\partial
    x_j}[f(\mathbf{x}_0 + h_i \mathbf{e}_i + \theta_j h_j \mathbf{e}_j) - f(\mathbf{x}_0
    + \theta_j h_j \mathbf{e}_j)] \right\}\\ &= \lim_{h_j \to 0} \lim_{h_i \to 0}
    \frac{1}{h_i} \left\{\frac{\partial f}{\partial x_j}(\mathbf{x}_0 + h_i \mathbf{e}_i
    + \theta_j h_j \mathbf{e}_j) - \frac{\partial f}{\partial x_j}(\mathbf{x}_0 +
    \theta_j h_j \mathbf{e}_j) \right\} \end{align*}\]
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: \[\begin{align*} \frac{\partial^2 f(\mathbf{x}_0)}{\partial x_j \partial x_i}
    &= \lim_{h_j \to 0} \frac{\frac{\partial f}{\partial x_i}(\mathbf{x}_0 + h_j \mathbf{e}_j)
    - \frac{\partial f}{\partial x_i}(\mathbf{x}_0)}{h_j}\\ &= \lim_{h_j \to 0} \lim_{h_i
    \to 0} \frac{1}{h_j h_i} \left\{ [f(\mathbf{x}_0 + h_j \mathbf{e}_j + h_i \mathbf{e}_i)
    - f(\mathbf{x}_0 + h_j \mathbf{e}_j)] - [f(\mathbf{x}_0 + h_i \mathbf{e}_i) -
    f(\mathbf{x}_0)] \right\}\\ &= \lim_{h_j \to 0} \lim_{h_i \to 0} \frac{1}{h_i}
    \left\{ \frac{[f(\mathbf{x}_0 + h_i \mathbf{e}_i + h_j \mathbf{e}_j) - f(\mathbf{x}_0
    + h_i \mathbf{e}_i)] - [f(\mathbf{x}_0 + h_j \mathbf{e}_j) - f(\mathbf{x}_0)]}{h_j}
    \right\}\\ &= \lim_{h_j \to 0} \lim_{h_i \to 0} \frac{1}{h_i} \left\{\frac{\partial}{\partial
    x_j}[f(\mathbf{x}_0 + h_i \mathbf{e}_i + \theta_j h_j \mathbf{e}_j) - f(\mathbf{x}_0
    + \theta_j h_j \mathbf{e}_j)] \right\}\\ &= \lim_{h_j \to 0} \lim_{h_i \to 0}
    \frac{1}{h_i} \left\{\frac{\partial f}{\partial x_j}(\mathbf{x}_0 + h_i \mathbf{e}_i
    + \theta_j h_j \mathbf{e}_j) - \frac{\partial f}{\partial x_j}(\mathbf{x}_0 +
    \theta_j h_j \mathbf{e}_j) \right\} \end{align*}\]
- en: for some \(\theta_j \in (0,1)\). Note that, on the third line, we rearranged
    the terms and, on the fourth line, we applied the *Mean Value Theorem* to \(f(\mathbf{x}_0
    + h_i \mathbf{e}_i + h_j \mathbf{e}_j) - f(\mathbf{x}_0 + h_j \mathbf{e}_j)\)
    as a continuously differentiable function of \(h_j\).
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 对于某个 \(\theta_j \in (0,1)\)。注意，在第三行中，我们重新排列了项，在第四行中，我们将 \(f(\mathbf{x}_0 + h_i
    \mathbf{e}_i + h_j \mathbf{e}_j) - f(\mathbf{x}_0 + h_j \mathbf{e}_j)\) 作为 \(h_j\)
    的连续可微函数应用了 \(\text{Mean Value Theorem}\)。
- en: Because \(\partial f/\partial x_j\) is continuously differentiable in an open
    ball around \(\mathbf{x}_0\), a second application of the *Mean Value Theorem*
    gives for some \(\theta_i \in (0,1)\)
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 因为 \(\partial f/\partial x_j\) 在 \(\mathbf{x}_0\) 附近的开球内是连续可微的，所以对 \(\text{Mean
    Value Theorem}\) 进行第二次应用，对于某个 \(\theta_i \in (0,1)\)
- en: \[\begin{align*} &\lim_{h_j \to 0} \lim_{h_i \to 0} \frac{1}{h_i} \left\{\frac{\partial
    f}{\partial x_j}(\mathbf{x}_0 + h_i \mathbf{e}_i + \theta_j h_j \mathbf{e}_j)
    - \frac{\partial f}{\partial x_j}(\mathbf{x}_0 + \theta_j h_j \mathbf{e}_j) \right\}\\
    &= \lim_{h_j \to 0} \lim_{h_i \to 0} \frac{\partial}{\partial x_i}\left[\frac{\partial
    f}{\partial x_j}(\mathbf{x}_0 + \theta_j h_j \mathbf{e}_j + \theta_i h_i \mathbf{e}_i)\right]\\
    &= \lim_{h_j \to 0} \lim_{h_i \to 0} \frac{\partial^2 f(\mathbf{x}_0 + \theta_j
    h_j \mathbf{e}_j + \theta_i h_i \mathbf{e}_i)}{\partial x_i \partial x_j}. \end{align*}\]
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: \[\begin{align*} &\lim_{h_j \to 0} \lim_{h_i \to 0} \frac{1}{h_i} \left\{\frac{\partial
    f}{\partial x_j}(\mathbf{x}_0 + h_i \mathbf{e}_i + \theta_j h_j \mathbf{e}_j)
    - \frac{\partial f}{\partial x_j}(\mathbf{x}_0 + \theta_j h_j \mathbf{e}_j) \right\}\\
    &= \lim_{h_j \to 0} \lim_{h_i \to 0} \frac{\partial}{\partial x_i}\left[\frac{\partial
    f}{\partial x_j}(\mathbf{x}_0 + \theta_j h_j \mathbf{e}_j + \theta_i h_i \mathbf{e}_i)\right]\\
    &= \lim_{h_j \to 0} \lim_{h_i \to 0} \frac{\partial^2 f(\mathbf{x}_0 + \theta_j
    h_j \mathbf{e}_j + \theta_i h_i \mathbf{e}_i)}{\partial x_i \partial x_j}. \end{align*}\]
- en: The claim then follows from the continuity of \(\partial^2 f/\partial x_i \partial
    x_j\). \(\square\)
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 然后从 \(\partial^2 f/\partial x_i \partial x_j\) 的连续性得出结论。 \(\square\)
- en: '**EXAMPLE:** Consider the quadratic function'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: '**示例：** 考虑二次函数'
- en: \[ f(\mathbf{x}) = \frac{1}{2} \mathbf{x}^T P \mathbf{x} + \mathbf{q}^T \mathbf{x}
    + r. \]
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: \[ f(\mathbf{x}) = \frac{1}{2} \mathbf{x}^T P \mathbf{x} + \mathbf{q}^T \mathbf{x}
    + r. \]
- en: Recall that the gradient of \(f\) is
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 回想一下，函数 \(f\) 的梯度是
- en: \[ \nabla f(\mathbf{x}) = \frac{1}{2}[P + P^T] \,\mathbf{x} + \mathbf{q}. \]
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \nabla f(\mathbf{x}) = \frac{1}{2}[P + P^T] \,\mathbf{x} + \mathbf{q}. \]
- en: To simplify the calculation, let \(B = \frac{1}{2}[P + P^T]\) and denote the
    rows of \(B\) by \(\mathbf{b}_1^T, \ldots,\mathbf{b}_d^T\).
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 为了简化计算，设 \(B = \frac{1}{2}[P + P^T]\) 并用 \(\mathbf{b}_1^T, \ldots,\mathbf{b}_d^T\)
    表示 \(B\) 的行。
- en: Each component of \(\nabla f\) is an affine function of \(\mathbf{x}\), specifically,
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: \(\nabla f\) 的每个分量都是 \(\mathbf{x}\) 的仿射函数，具体来说，
- en: \[ \frac{\partial f (\mathbf{x})}{\partial x_i} = \mathbf{b}_i^T \mathbf{x}
    + q_i. \]
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \frac{\partial f (\mathbf{x})}{\partial x_i} = \mathbf{b}_i^T \mathbf{x}
    + q_i. \]
- en: Row \(i\) of the Hessian is simply the gradient transposed of \(\frac{\partial
    f (\mathbf{x})}{\partial x_i}\) which, by our previous results, is
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 海森矩阵的第 \(i\) 行仅仅是 \(\frac{\partial f (\mathbf{x})}{\partial x_i}\) 的转置梯度，根据我们之前的结果，它是
- en: \[ \left(\nabla \frac{\partial f (\mathbf{x})}{\partial x_i}\right)^T = \mathbf{b}_i^T.
    \]
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \left(\nabla \frac{\partial f (\mathbf{x})}{\partial x_i}\right)^T = \mathbf{b}_i^T.
    \]
- en: Putting this together we get
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 将这些放在一起，我们得到
- en: \[ \mathbf{H}_f(\mathbf{x}) = \frac{1}{2}[P + P^T]. \]
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \mathbf{H}_f(\mathbf{x}) = \frac{1}{2}[P + P^T]. \]
- en: Observe that this is indeed a symmetric matrix. \(\lhd\)
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 注意这确实是一个对称矩阵。 \(\lhd\)
- en: '***Self-assessment quiz*** *(with help from Claude, Gemini, and ChatGPT)*'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: '***自我评估测验*** *(在 Claude、Gemini 和 ChatGPT 的帮助下)*'
- en: '**1** What does it mean for a function \(f\) to be continuously differentiable
    at \(x_0\)?'
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: '**1** 函数 \(f\) 在 \(x_0\) 处连续可微意味着什么？'
- en: a) \(f\) is continuous at \(x_0\).
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: a) \(f\) 在 \(x_0\) 处是连续的。
- en: b) All partial derivatives of \(f\) exist at \(x_0\).
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: b) \(f\) 在 \(x_0\) 处所有偏导数都存在。
- en: c) All partial derivatives of \(f\) exist and are continuous in an open ball
    around \(x_0\).
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: c) \(f\) 在 \(x_0\) 附近的开放球体内所有偏导数都存在且连续。
- en: d) The gradient of \(f\) is zero at \(x_0\).
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: d) \(f\) 在 \(x_0\) 处的梯度为零。
- en: '**2** What is the gradient of a function \(f : D \to \mathbb{R}\), where \(D
    \subseteq \mathbb{R}^d\), at a point \(x_0 \in D\)?'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: '**2** 函数 \(f : D \to \mathbb{R}\)，其中 \(D \subseteq \mathbb{R}^d\)，在点 \(x_0
    \in D\) 处的梯度是什么？'
- en: a) The rate of change of \(f\) with respect to \(x\) at \(x_0\)
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: a) \(f\) 关于 \(x\) 在 \(x_0\) 处的变化率
- en: b) The vector of all second partial derivatives of \(f\) at \(x_0\)
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: b) \(f\) 在 \(x_0\) 处所有二阶偏导数的向量
- en: c) The vector of all first partial derivatives of \(f\) at \(x_0\)
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: c) \(f\) 在 \(x_0\) 处所有一阶偏导数的向量
- en: d) The matrix of all second partial derivatives of \(f\) at \(x_0\)
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: d) \(f\) 在 \(x_0\) 处所有二阶偏导数的矩阵
- en: '**3** Which of the following statements is true about the Hessian matrix of
    a twice continuously differentiable function?'
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: '**3** 关于二阶连续可微函数的海森矩阵，以下哪个陈述是正确的？'
- en: a) It is always a diagonal matrix.
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: a) 它始终是一个对角矩阵。
- en: b) It is always a symmetric matrix.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: b) 它始终是一个对称矩阵。
- en: c) It is always an invertible matrix.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: c) 它始终是一个可逆矩阵。
- en: d) It is always a positive definite matrix.
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: d) 它始终是一个正定矩阵。
- en: '**4** Let \(f(x, y, z) = x^2 + y^2 - z^2\). What is the Hessian matrix of \(f\)?'
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: '**4** 设 \(f(x, y, z) = x^2 + y^2 - z^2\)。\(f\) 的海森矩阵是什么？'
- en: a) \(\begin{pmatrix} 2 & 0 & 0 \\ 0 & 2 & 0 \\ 0 & 0 & -2 \end{pmatrix}\)
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: a) \(\begin{pmatrix} 2 & 0 & 0 \\ 0 & 2 & 0 \\ 0 & 0 & -2 \end{pmatrix}\)
- en: b) \(\begin{pmatrix} 2x & 2y & -2z \end{pmatrix}\)
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: b) \(\begin{pmatrix} 2x & 2y & -2z \end{pmatrix}\)
- en: c) \(\begin{pmatrix} 2 & 0 \\ 0 & 2 \end{pmatrix}\)
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: c) \(\begin{pmatrix} 2 & 0 \\ 0 & 2 \end{pmatrix}\)
- en: d) \(\begin{pmatrix} 0 & 0 & 0 \\ 0 & 0 & 0 \\ 0 & 0 & 0 \end{pmatrix}\)
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: d) \(\begin{pmatrix} 0 & 0 & 0 \\ 0 & 0 & 0 \\ 0 & 0 & 0 \end{pmatrix}\)
- en: '**5** What is the Hessian matrix of the quadratic function \(f(x) = \frac{1}{2}x^TPx
    + q^Tx + r\), where \(P \in \mathbb{R}^{d \times d}\) and \(q \in \mathbb{R}^d\)?'
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: '**5** 二次函数 \(f(x) = \frac{1}{2}x^TPx + q^Tx + r\) 的海森矩阵是什么，其中 \(P \in \mathbb{R}^{d
    \times d}\) 且 \(q \in \mathbb{R}^d\)？'
- en: a) \(H_f(x) = P\)
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: a) \(H_f(x) = P\)
- en: b) \(H_f(x) = P^T\)
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: b) \(H_f(x) = P^T\)
- en: c) \(H_f(x) = \frac{1}{2}[P + P^T]\)
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: c) \(H_f(x) = \frac{1}{2}[P + P^T]\)
- en: d) \(H_f(x) = [P + P^T]\)
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: d) \(H_f(x) = [P + P^T]\)
- en: 'Answer for 1: c. Justification: The text states, “If \(f\) exists and is continuous
    in an open ball around \(x_0\) for all \(i\), then we say that \(f\) is continuously
    differentiable at \(x_0\).”'
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 1 的答案：c。理由：文本中提到，“如果 \(f\) 在 \(x_0\) 附近的开放球体内对所有 \(i\) 存在且连续，那么我们说 \(f\) 在 \(x_0\)
    处是连续可微的。”
- en: 'Answer for 2: c. Justification: From the text: “The (column) vector \(\nabla
    f(x_0) = ( \frac{\partial f(x_0)}{\partial x_1}, \ldots, \frac{\partial f(x_0)}{\partial
    x_d})\) is called the gradient of \(f\) at \(x_0\).”'
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 2 的答案：c。理由：从文本中：“向量 \(\nabla f(x_0) = ( \frac{\partial f(x_0)}{\partial x_1},
    \ldots, \frac{\partial f(x_0)}{\partial x_d})\) 被称为 \(f\) 在 \(x_0\) 处的梯度。”
- en: 'Answer for 3: b). Justification: The text states: “When \(f\) is twice continuously
    differentiable at \(x_0\), its Hessian is a symmetric matrix.”'
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 3 的答案：b）。理由：文本中提到：“当 \(f\) 在 \(x_0\) 处二阶连续可微时，其海森矩阵是对称矩阵。”
- en: 'Answer for 4: a). Justification: The Hessian is the matrix of second partial
    derivatives:'
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 4 的答案：a）。理由：海森矩阵是二阶偏导数的矩阵：
- en: \[\begin{split} \begin{pmatrix} \frac{\partial^2 f}{\partial x^2} & \frac{\partial^2
    f}{\partial x \partial y} & \frac{\partial^2 f}{\partial x \partial z} \\ \frac{\partial^2
    f}{\partial y \partial x} & \frac{\partial^2 f}{\partial y^2} & \frac{\partial^2
    f}{\partial y \partial z} \\ \frac{\partial^2 f}{\partial z \partial x} & \frac{\partial^2
    f}{\partial z \partial y} & \frac{\partial^2 f}{\partial z^2} \end{pmatrix} =
    \begin{pmatrix} 2 & 0 & 0 \\ 0 & 2 & 0 \\ 0 & 0 & -2 \end{pmatrix} \end{split}\]
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: \[\begin{split} \begin{pmatrix} \frac{\partial^2 f}{\partial x^2} & \frac{\partial^2
    f}{\partial x \partial y} & \frac{\partial^2 f}{\partial x \partial z} \\ \frac{\partial^2
    f}{\partial y \partial x} & \frac{\partial^2 f}{\partial y^2} & \frac{\partial^2
    f}{\partial y \partial z} \\ \frac{\partial^2 f}{\partial z \partial x} & \frac{\partial^2
    f}{\partial z \partial y} & \frac{\partial^2 f}{\partial z^2} \end{pmatrix} =
    \begin{pmatrix} 2 & 0 & 0 \\ 0 & 2 & 0 \\ 0 & 0 & -2 \end{pmatrix} \end{split}\]
- en: 'Answer for 5: c. Justification: The text shows that the Hessian of the quadratic
    function is \(H_f(x) = \frac{1}{2}[P + P^T]\).'
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 5题的答案为c。理由：文本表明二次函数的海森矩阵为 \(H_f(x) = \frac{1}{2}[P + P^T]\)。
- en: 3.2.1\. Gradient[#](#gradient "Link to this heading")
  id: totrans-136
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 3.2.1\. 梯度[#](#gradient "链接到本标题")
- en: Recall the definition of the gradient.
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 回忆梯度的定义。
- en: '**DEFINITION** **(Gradient)** \(\idx{gradient}\xdi\) Let \(f : D \to \mathbb{R}\)
    where \(D \subseteq \mathbb{R}^d\) and let \(\mathbf{x}_0 \in D\) be an interior
    point of \(D\). Assume \(f\) is continuously differentiable at \(\mathbf{x}_0\).
    The (column) vector'
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: '**定义** **（梯度）** \(\idx{gradient}\xdi\) 设 \(f : D \to \mathbb{R}\) 其中 \(D \subseteq
    \mathbb{R}^d\)，且 \(\mathbf{x}_0 \in D\) 是 \(D\) 的一个内点。假设 \(f\) 在 \(\mathbf{x}_0\)
    处连续可微。向量'
- en: \[ \nabla f(\mathbf{x}_0) = \left(\frac{\partial f (\mathbf{x}_0)}{\partial
    x_1}, \ldots, \frac{\partial f (\mathbf{x}_0)}{\partial x_d}\right) \]
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \nabla f(\mathbf{x}_0) = \left(\frac{\partial f (\mathbf{x}_0)}{\partial
    x_1}, \ldots, \frac{\partial f (\mathbf{x}_0)}{\partial x_d}\right) \]
- en: is called the gradient of \(f\) at \(\mathbf{x}_0\). \(\natural\)
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 被称为在 \(\mathbf{x}_0\) 处 \(f\) 的梯度。\(\natural\)
- en: Note that the gradient is itself a function of \(\mathbf{x}\). In fact, unlike
    \(f\), it is a vector-valued function.
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，梯度本身也是 \(\mathbf{x}\) 的函数。实际上，与 \(f\) 不同，它是一个向量值函数。
- en: '![Gradient as a function (with help from ChatGPT; adapted from (Source))](../Images/4779b42631c18d22c237a9d0faeb1d4e.png)'
  id: totrans-142
  prefs: []
  type: TYPE_IMG
  zh: '![梯度作为函数（得益于ChatGPT的帮助；改编自（来源）)](../Images/4779b42631c18d22c237a9d0faeb1d4e.png)'
- en: '**EXAMPLE:** Consider the affine function'
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: '**示例：** 考虑仿射函数'
- en: \[ f(\mathbf{x}) = \mathbf{q}^T \mathbf{x} + r \]
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: \[ f(\mathbf{x}) = \mathbf{q}^T \mathbf{x} + r \]
- en: where \(\mathbf{x} = (x_1, \ldots, x_d), \mathbf{q} = (q_1, \ldots, q_d) \in
    \mathbb{R}^d\). The partial derivatives of the linear term are given by
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 其中 \(\mathbf{x} = (x_1, \ldots, x_d), \mathbf{q} = (q_1, \ldots, q_d) \in \mathbb{R}^d\)。线性项的偏导数由以下给出
- en: \[ \frac{\partial}{\partial x_i} [\mathbf{q}^T \mathbf{x}] = \frac{\partial}{\partial
    x_i} \left[\sum_{j=1}^d q_j x_j \right] = \frac{\partial}{\partial x_i} \left[q_i
    x_i \right] = q_i. \]
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \frac{\partial}{\partial x_i} [\mathbf{q}^T \mathbf{x}] = \frac{\partial}{\partial
    x_i} \left[\sum_{j=1}^d q_j x_j \right] = \frac{\partial}{\partial x_i} \left[q_i
    x_i \right] = q_i. \]
- en: So the gradient of \(f\) is
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，\(f\) 的梯度为
- en: \[ \nabla f(\mathbf{x}) = \mathbf{q}. \]
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \nabla f(\mathbf{x}) = \mathbf{q}. \]
- en: \(\lhd\)
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: \(\lhd\)
- en: '**EXAMPLE:** Consider the quadratic function'
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: '**示例：** 考虑二次函数'
- en: \[ f(\mathbf{x}) = \frac{1}{2} \mathbf{x}^T P \mathbf{x} + \mathbf{q}^T \mathbf{x}
    + r, \]
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: \[ f(\mathbf{x}) = \frac{1}{2} \mathbf{x}^T P \mathbf{x} + \mathbf{q}^T \mathbf{x}
    + r, \]
- en: where \(\mathbf{x} = (x_1, \ldots, x_d), \mathbf{q} = (q_1, \ldots, q_d) \in
    \mathbb{R}^d\) and \(P \in \mathbb{R}^{d \times d}\). The partial derivatives
    of the quadratic term are given by
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 其中 \(\mathbf{x} = (x_1, \ldots, x_d), \mathbf{q} = (q_1, \ldots, q_d) \in \mathbb{R}^d\)
    且 \(P \in \mathbb{R}^{d \times d}\)。二次项的偏导数由以下给出
- en: \[\begin{align*} \frac{\partial}{\partial x_i} [\mathbf{x}^T P \mathbf{x}] &=
    \frac{\partial}{\partial x_i} \left[\sum_{j, k=1}^d P_{jk} x_j x_k \right]\\ &=
    \frac{\partial}{\partial x_i} \left[P_{ii} x_i^2 + \sum_{j=1, j\neq i}^d P_{ji}
    x_j x_i + \sum_{k=1, k\neq i}^d P_{ik} x_i x_k \right], \end{align*}\]
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: \[\begin{align*} \frac{\partial}{\partial x_i} [\mathbf{x}^T P \mathbf{x}] &=
    \frac{\partial}{\partial x_i} \left[\sum_{j, k=1}^d P_{jk} x_j x_k \right]\\ &=
    \frac{\partial}{\partial x_i} \left[P_{ii} x_i^2 + \sum_{j=1, j\neq i}^d P_{ji}
    x_j x_i + \sum_{k=1, k\neq i}^d P_{ik} x_i x_k \right], \end{align*}\]
- en: where we used that all terms not including \(x_i\) have partial derivative \(0\).
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 其中我们使用了所有不包含 \(x_i\) 的项的偏导数为 \(0\)。
- en: This last expression is
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 最后这个表达式是
- en: \[\begin{align*} &= 2 P_{ii} x_i + \sum_{j=1, j\neq i}^d P_{ji} x_j + \sum_{k=1,
    k\neq i}^d P_{ik} x_k\\ &= \sum_{j=1}^d [P^T]_{ij} x_j + \sum_{k=1}^d [P]_{ik}
    x_k\\ &= ([P^T + P]\mathbf{x})_i. \end{align*}\]
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: \[\begin{align*} &= 2 P_{ii} x_i + \sum_{j=1, j\neq i}^d P_{ji} x_j + \sum_{k=1,
    k\neq i}^d P_{ik} x_k\\ &= \sum_{j=1}^d [P^T]_{ij} x_j + \sum_{k=1}^d [P]_{ik}
    x_k\\ &= ([P^T + P]\mathbf{x})_i. \end{align*}\]
- en: So the gradient of \(f\) is
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，\(f\) 的梯度为
- en: \[ \nabla f(\mathbf{x}) = \frac{1}{2}[P + P^T] \,\mathbf{x} + \mathbf{q}. \]
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \nabla f(\mathbf{x}) = \frac{1}{2}[P + P^T] \,\mathbf{x} + \mathbf{q}. \]
- en: If \(P\) is symmetric, this further simplifies to \(\nabla f(\mathbf{x}) = P
    \,\mathbf{x} + \mathbf{q}\). \(\lhd\)
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 如果 \(P\) 是对称的，这进一步简化为 \(\nabla f(\mathbf{x}) = P \,\mathbf{x} + \mathbf{q}\)。
    \(\lhd\)
- en: It will be useful to compute the derivative of a function \(f(\mathbf{x})\)
    of several variables along a parametric curve \(\mathbf{g}(t) = (g_1(t), \ldots,
    g_d(t)) \in \mathbb{R}^d\) for \(t\) in some closed interval of \(\mathbb{R}\).
    The following result is a special case of an important fact. We will use the following
    notation \(\mathbf{g}'(t) = (g_1'(t), \ldots, g_m'(t))\), where \(g_i'\) is the
    derivative of \(g_i\). We say that \(\mathbf{g}(t)\) is continuously differentiable
    at \(t = t_0\) if each of its component is.
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 计算一个多变量函数 \(f(\mathbf{x})\) 沿着参数曲线 \(\mathbf{g}(t) = (g_1(t), \ldots, g_d(t))
    \in \mathbb{R}^d\) 的导数，其中 \(t\) 在 \(\mathbb{R}\) 的某个闭区间内，将会很有用。以下结果是一个重要事实的特殊情况。我们将使用以下符号
    \(\mathbf{g}'(t) = (g_1'(t), \ldots, g_m'(t))\)，其中 \(g_i'\) 是 \(g_i\) 的导数。我们说
    \(\mathbf{g}(t)\) 在 \(t = t_0\) 处连续可微，如果它的每个分量都是。
- en: '**EXAMPLE:** **(Parametric Line)** The straight line between \(\mathbf{x}_0
    = (x_{0,1},\ldots,x_{0,d})\) and \(\mathbf{x}_1 = (x_{1,1},\ldots,x_{1,d})\) in
    \(\mathbb{R}^d\) can be parametrized as'
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: '**例：** **(参数线)** 在 \(\mathbb{R}^d\) 中，从 \(\mathbf{x}_0 = (x_{0,1},\ldots,x_{0,d})\)
    到 \(\mathbf{x}_1 = (x_{1,1},\ldots,x_{1,d})\) 的直线可以参数化为'
- en: \[ \mathbf{g}(t) = \mathbf{x}_0 + t (\mathbf{x}_1 - \mathbf{x}_0), \]
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \mathbf{g}(t) = \mathbf{x}_0 + t (\mathbf{x}_1 - \mathbf{x}_0), \]
- en: where \(t\) goes from \(0\) (at which \(\mathbf{g}(0) = \mathbf{x}_0\)) to \(1\)
    (at which \(\mathbf{g}(1) = \mathbf{x}_1\)).
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 其中 \(t\) 从 \(0\)（此时 \(\mathbf{g}(0) = \mathbf{x}_0\)）到 \(1\)（此时 \(\mathbf{g}(1)
    = \mathbf{x}_1\)）。
- en: Then
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 然后
- en: \[ g_i'(t) = \frac{\mathrm{d}}{\mathrm{d}t} [x_{0,i} + t (x_{1,i} - x_{0,i})]
    = x_{1,i} - x_{0,i}, \]
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: \[ g_i'(t) = \frac{\mathrm{d}}{\mathrm{d}t} [x_{0,i} + t (x_{1,i} - x_{0,i})]
    = x_{1,i} - x_{0,i}, \]
- en: so that
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 因此
- en: \[ \mathbf{g}'(t) = \mathbf{x}_1 - \mathbf{x}_0. \]
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \mathbf{g}'(t) = \mathbf{x}_1 - \mathbf{x}_0. \]
- en: \(\lhd\)
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: \(\lhd\)
- en: 'Recall the *Chain Rule* in the single-variable case. Quoting [Wikipedia](https://en.wikipedia.org/wiki/Chain_rule):'
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 回忆一下单变量情况下的**链式法则**。引用 [维基百科](https://en.wikipedia.org/wiki/Chain_rule)：
- en: The simplest form of the chain rule is for real-valued functions of one real
    variable. It states that if \(g\) is a function that is differentiable at a point
    \(c\) (i.e. the derivative \(g'(c)\) exists) and \(f\) is a function that is differentiable
    at \(g(c)\), then the composite function \({\displaystyle f\circ g}\) is differentiable
    at \(c\), and the derivative is \({\displaystyle (f\circ g)'(c)=f'(g(c))\cdot
    g'(c)}\).
  id: totrans-170
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 链式法则的最简单形式是针对一个实变量的实值函数。它表明，如果 \(g\) 是在点 \(c\) 可微的函数（即导数 \(g'(c)\) 存在），并且 \(f\)
    是在 \(g(c)\) 可微的函数，那么复合函数 \({\displaystyle f\circ g}\) 在 \(c\) 处可微，其导数为 \({\displaystyle
    (f\circ g)'(c)=f'(g(c))\cdot g'(c)}\)。
- en: Here is a straightforward generalization of the *Chain Rule*.
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 这里是**链式法则**的一个直接推广。
- en: '**THEOREM** **(Chain Rule)** \(\idx{chain rule}\xdi\) Let \(f : D_1 \to \mathbb{R}\),
    where \(D_1 \subseteq \mathbb{R}\), and let \(g : D_2 \to \mathbb{R}\), where
    \(D_2 \subseteq \mathbb{R}^d\). Assume that \(f\) is continuously differentiable
    at \(g(\mathbf{x}_0)\), an interior point of \(D_1\), and that \(g\) is continuously
    differentiable at \(\mathbf{x}_0\), an interior point of \(D_2\). Then'
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: '**定理** **(链式法则)** \(\idx{chain rule}\xdi\) 设 \(f : D_1 \to \mathbb{R}\)，其中
    \(D_1 \subseteq \mathbb{R}\)，设 \(g : D_2 \to \mathbb{R}\)，其中 \(D_2 \subseteq \mathbb{R}^d\)。假设
    \(f\) 在 \(D_1\) 的内点 \(g(\mathbf{x}_0)\) 处连续可微，且 \(g\) 在 \(D_2\) 的内点 \(\mathbf{x}_0\)
    处连续可微。那么'
- en: \[ \nabla (f\circ g) (\mathbf{x}_0) = f'(g(\mathbf{x}_0)) \nabla g(\mathbf{x}_0).
    \]
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \nabla (f\circ g) (\mathbf{x}_0) = f'(g(\mathbf{x}_0)) \nabla g(\mathbf{x}_0).
    \]
- en: \(\sharp\)
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: \(\sharp\)
- en: '*Proof:* We apply the *Chain Rule* for functions of one variable to the partial
    derivatives. For all \(i\),'
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: '*证明：* 我们将一元函数的**链式法则**应用于偏导数。对于所有的 \(i\)，'
- en: \[ \frac{\partial}{\partial x_i}f (g(\mathbf{x}_0)) = f'(g(\mathbf{x}_0)) \frac{\partial}{\partial
    x_i} g(\mathbf{x}_0). \]
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \frac{\partial}{\partial x_i}f (g(\mathbf{x}_0)) = f'(g(\mathbf{x}_0)) \frac{\partial}{\partial
    x_i} g(\mathbf{x}_0). \]
- en: Collecting the partial derivatives in a vector gives the claim. \(\square\)
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 将偏导数收集到一个向量中，就得到了这个结论。 \(\square\)
- en: Here is a different generalization of the *Chain Rule*. Again the composition
    \(f \circ \mathbf{g}\) denotes the function \(f \circ \mathbf{g}(t) = f (\mathbf{g}(t))\).
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 这里是**链式法则**的一个不同推广。再次，复合函数 \(f \circ \mathbf{g}\) 表示函数 \(f \circ \mathbf{g}(t)
    = f (\mathbf{g}(t))\)。
- en: '**THEOREM** **(Chain Rule)** Let \(f : D_1 \to \mathbb{R}\), where \(D_1 \subseteq
    \mathbb{R}^d\), and let \(\mathbf{g} : D_2 \to \mathbb{R}^d\), where \(D_2 \subseteq
    \mathbb{R}\). Assume that \(f\) is continuously differentiable at \(\mathbf{g}(t_0)\),
    an interior point of \(D_1\), and that \(\mathbf{g}\) is continuously differentiable
    at \(t_0\), an interior point of \(D_2\). Then'
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: '**定理** **（链式法则）** 设 \(f : D_1 \to \mathbb{R}\)，其中 \(D_1 \subseteq \mathbb{R}^d\)，且设
    \(\mathbf{g} : D_2 \to \mathbb{R}^d\)，其中 \(D_2 \subseteq \mathbb{R}\)。假设 \(f\)
    在 \(\mathbf{g}(t_0)\) 处连续可微，\(\mathbf{g}(t_0)\) 是 \(D_1\) 的内点，并且 \(\mathbf{g}\)
    在 \(t_0\) 处连续可微，\(t_0\) 是 \(D_2\) 的内点。那么'
- en: \[ (f\circ \mathbf{g})'(t_0) = \nabla f (\mathbf{g}(t_0))^T \mathbf{g}'(t_0).
    \]
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: \[ (f\circ \mathbf{g})'(t_0) = \nabla f (\mathbf{g}(t_0))^T \mathbf{g}'(t_0).
    \]
- en: \(\sharp\)
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: \(\sharp\)
- en: '*Proof:* To simplify the notation, suppose that \(f\) is a real-valued function
    of \(\mathbf{x} = (x_1, \ldots, x_d)\) whose components are themselves functions
    of \(t \in \mathbb{R}\). Assume \(f\) is continuously differentiable at \(\mathbf{x}(t)\).
    To compute the [total derivative](https://en.wikipedia.org/wiki/Total_derivative)\(\idx{total
    derivative}\xdi\) \(\frac{\mathrm{d} f(t)}{\mathrm{d} t}\), let \(\Delta x_k =
    x_k(t + \Delta t) - x_k(t)\), \(x_k = x_k(t)\) and'
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: '**证明**：为了简化符号，假设 \(f\) 是一个关于 \(\mathbf{x} = (x_1, \ldots, x_d)\) 的实值函数，其分量本身是
    \(t \in \mathbb{R}\) 的函数。假设 \(f\) 在 \(\mathbf{x}(t)\) 处连续可微。为了计算 [全导数](https://en.wikipedia.org/wiki/Total_derivative)\(\idx{全导数}\xdi\)
    \(\frac{\mathrm{d} f(t)}{\mathrm{d} t}\)，设 \(\Delta x_k = x_k(t + \Delta t) -
    x_k(t)\)，\(x_k = x_k(t)\) 和'
- en: \[ \Delta f = f(x_1 + \Delta x_1, \ldots, x_d + \Delta x_d) - f(x_1, \ldots,
    x_d). \]
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \Delta f = f(x_1 + \Delta x_1, \ldots, x_d + \Delta x_d) - f(x_1, \ldots,
    x_d). \]
- en: We seek to compute the limit \(\lim_{\Delta t \to 0} \frac{\Delta f}{\Delta
    t}\). To relate this limit to partial derivatives of \(f\), we re-write \(\Delta
    f\) as a telescoping sum where each term involves variation of a single variable
    \(x_k\). That is,
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 我们寻求计算极限 \(\lim_{\Delta t \to 0} \frac{\Delta f}{\Delta t}\)。为了将这个极限与 \(f\)
    的偏导数联系起来，我们将 \(\Delta f\) 重写为一个望远镜求和，其中每一项涉及单个变量 \(x_k\) 的变化。也就是说，
- en: \[\begin{align*} \Delta f = & [f(x_1 + \Delta x_1, \ldots, x_d + \Delta x_d)
    - f(x_1, x_2 + \Delta x_2, \ldots, x_d + \Delta x_d)]\\ &+ [f(x_1, x_2 + \Delta
    x_2, \ldots, x_d + \Delta x_d) - f(x_1, x_2, x_3 + \Delta x_3, \ldots, x_d + \Delta
    x_d)] \\ &+ \cdots + [f(x_1, \cdots, x_{d-1}, x_d + \Delta x_d) - f(x_1, \ldots,
    x_d)]. \end{align*}\]
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: \[\begin{align*} \Delta f = & [f(x_1 + \Delta x_1, \ldots, x_d + \Delta x_d)
    - f(x_1, x_2 + \Delta x_2, \ldots, x_d + \Delta x_d)]\\ &+ [f(x_1, x_2 + \Delta
    x_2, \ldots, x_d + \Delta x_d) - f(x_1, x_2, x_3 + \Delta x_3, \ldots, x_d + \Delta
    x_d)] \\ &+ \cdots + [f(x_1, \cdots, x_{d-1}, x_d + \Delta x_d) - f(x_1, \ldots,
    x_d)]. \end{align*}\]
- en: Applying the *Mean Value Theorem* to each term gives
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 将 **平均值定理** 应用于每一项得到
- en: \[\begin{align*} \Delta f = & \Delta x_1 \frac{\partial f(x_1 + \theta_1 \Delta
    x_1, x_2 + \Delta x_2, \ldots, x_d + \Delta x_d)} {\partial x_1}\\ &+ \Delta x_2
    \frac{\partial f(x_1, x_2 + \theta_2 \Delta x_2, x_3 + \Delta x_3, \ldots, x_d
    + \Delta x_d)} {\partial x_2}\\ &+ \cdots + \Delta x_d \frac{\partial f(x_1, \cdots,
    x_{d-1}, x_d + \theta_d \Delta x_d)} {\partial x_d} \end{align*}\]
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: \[\begin{align*} \Delta f = & \Delta x_1 \frac{\partial f(x_1 + \theta_1 \Delta
    x_1, x_2 + \Delta x_2, \ldots, x_d + \Delta x_d)} {\partial x_1}\\ &+ \Delta x_2
    \frac{\partial f(x_1, x_2 + \theta_2 \Delta x_2, x_3 + \Delta x_3, \ldots, x_d
    + \Delta x_d)} {\partial x_2}\\ &+ \cdots + \Delta x_d \frac{\partial f(x_1, \cdots,
    x_{d-1}, x_d + \theta_d \Delta x_d)} {\partial x_d} \end{align*}\]
- en: where \(0 < \theta_k < 1\) for \(k=1,\ldots,d\). Dividing by \(\Delta t\), taking
    the limit \(\Delta t \to 0\) and using the fact that \(f\) is continuously differentiable,
    we get
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 其中 \(0 < \theta_k < 1\) 对于 \(k=1,\ldots,d\)。将 \(\Delta t\) 除以，取极限 \(\Delta t
    \to 0\) 并使用 \(f\) 连续可微的事实，我们得到
- en: \[ \frac{\mathrm{d} f (t)}{\mathrm{d} t} = \sum_{k=1}^d \frac{\partial f(\mathbf{x}(t))}
    {\partial x_k} \frac{\mathrm{d} x_k(t)}{\mathrm{d} t}. \]
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \frac{\mathrm{d} f (t)}{\mathrm{d} t} = \sum_{k=1}^d \frac{\partial f(\mathbf{x}(t))}
    {\partial x_k} \frac{\mathrm{d} x_k(t)}{\mathrm{d} t}. \]
- en: \(\square\)
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: \(\square\)
- en: As a first application of the *Chain Rule*, we generalize the *Mean Value Theorem*
    to the case of several variables. We will use this result later to prove a multivariable
    Taylor expansion result that will play a central role in this chapter.
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 作为 **链式法则** 的第一次应用，我们将 **平均值定理** 推广到多个变量的情况。我们将使用这个结果来证明一个多变量泰勒展开结果，这个结果将在本章中扮演核心角色。
- en: '**THEOREM** **(Mean Value)** \(\idx{mean value theorem}\xdi\) Let \(f : D \to
    \mathbb{R}\) where \(D \subseteq \mathbb{R}^d\). Let \(\mathbf{x}_0 \in D\) and
    \(\delta > 0\) be such that \(B_\delta(\mathbf{x}_0) \subseteq D\). If \(f\) is
    continuously differentiable on \(B_\delta(\mathbf{x}_0)\), then for any \(\mathbf{x}
    \in B_\delta(\mathbf{x}_0)\)'
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: '**定理** **(平均值)** \(\idx{mean value theorem}\xdi\) 设 \(f : D \to \mathbb{R}\)
    其中 \(D \subseteq \mathbb{R}^d\)。设 \(\mathbf{x}_0 \in D\) 且 \(\delta > 0\) 使得 \(B_\delta(\mathbf{x}_0)
    \subseteq D\)。如果 \(f\) 在 \(B_\delta(\mathbf{x}_0)\) 上连续可微，那么对于 \(B_\delta(\mathbf{x}_0)\)
    中的任意 \(\mathbf{x}\)'
- en: \[ f(\mathbf{x}) = f(\mathbf{x}_0) + \nabla f(\mathbf{x}_0 + \xi \mathbf{p})^T
    \mathbf{p} \]
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: \[ f(\mathbf{x}) = f(\mathbf{x}_0) + \nabla f(\mathbf{x}_0 + \xi \mathbf{p})^T
    \mathbf{p} \]
- en: for some \(\xi \in (0,1)\), where \(\mathbf{p} = \mathbf{x} - \mathbf{x}_0\).
    \(\sharp\)
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: 对于某个 \(\xi \in (0,1)\)，其中 \(\mathbf{p} = \mathbf{x} - \mathbf{x}_0\)。\(\sharp\)
- en: One way to think of the *Mean Value Theorem* is as a \(0\)-th order Taylor expansion.
    It says that, when \(\mathbf{x}\) is close to \(\mathbf{x}_0\), the value \(f(\mathbf{x})\)
    is close to \(f(\mathbf{x}_0)\) in a way that can be controlled in terms of the
    gradient in the neighborhood of \(\mathbf{x}_0\). From this point of view, the
    term \(\nabla f(\mathbf{x}_0 + \xi \mathbf{p})^T \mathbf{p}\) is called the Lagrange
    remainder.
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 考虑**平均值定理**的一种方式是将其视为 \(0\) 阶泰勒展开。它表明，当 \(\mathbf{x}\) 接近 \(\mathbf{x}_0\) 时，\(f(\mathbf{x})\)
    的值接近 \(f(\mathbf{x}_0)\)，这种接近可以通过 \(\mathbf{x}_0\) 附近的梯度来控制。从这个角度来看，\(\nabla f(\mathbf{x}_0
    + \xi \mathbf{p})^T \mathbf{p}\) 被称为拉格朗日余项。
- en: '*Proof idea:* We apply the single-variable result and the *Chain Rule*.'
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: '**证明思路**：我们应用单变量结果和**链式法则**。'
- en: '*Proof:* Let \(\phi(t) = f(\boldsymbol{\alpha}(t))\) where \(\boldsymbol{\alpha}(t)
    = \mathbf{x}_0 + t \mathbf{p}\). Observe that \(\phi(0) = f(\mathbf{x}_0)\) and
    \(\phi(1) = f(\mathbf{x})\). By the *Chain Rule* and the parametric line example,'
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: '**证明**：设 \(\phi(t) = f(\boldsymbol{\alpha}(t))\)，其中 \(\boldsymbol{\alpha}(t)
    = \mathbf{x}_0 + t \mathbf{p}\)。观察 \(\phi(0) = f(\mathbf{x}_0)\) 和 \(\phi(1) =
    f(\mathbf{x})\)。通过**链式法则**和参数线示例，'
- en: \[ \phi'(t) = \nabla f(\boldsymbol{\alpha}(t))^T \boldsymbol{\alpha}'(t) = \nabla
    f(\boldsymbol{\alpha}(t))^T \mathbf{p} = \nabla f(\mathbf{x}_0 + t \mathbf{p})^T
    \mathbf{p}. \]
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \phi'(t) = \nabla f(\boldsymbol{\alpha}(t))^T \boldsymbol{\alpha}'(t) = \nabla
    f(\boldsymbol{\alpha}(t))^T \mathbf{p} = \nabla f(\mathbf{x}_0 + t \mathbf{p})^T
    \mathbf{p}. \]
- en: In particular, \(\phi\) has a continuous first derivative on \([0,1]\). By the
    *Mean Value Theorem* in the single-variable case
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 特别地，\(\phi\) 在 \([0,1]\) 上具有连续的一阶导数。根据单变量情况下的**平均值定理**
- en: \[ \phi(t) = \phi(0) + t \phi'(\xi) \]
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \phi(t) = \phi(0) + t \phi'(\xi) \]
- en: for some \(\xi \in (0,t)\). Plugging in the expressions for \(\phi(0)\) and
    \(\phi'(\xi)\) and taking \(t=1\) gives the claim. \(\square\)
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: 对于某个 \(\xi \in (0,t)\)。将 \(\phi(0)\) 和 \(\phi'(\xi)\) 的表达式代入，并取 \(t=1\)，得到所声称的结论。\(\square\)
- en: 3.2.2\. Second-order derivatives[#](#second-order-derivatives "Link to this
    heading")
  id: totrans-202
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 3.2.2\. 二阶导数[#](#second-order-derivatives "链接到这个标题")
- en: 'One can also define higher-order derivatives. We start with the single-variable
    case, where \(f : D \to \mathbb{R}\) with \(D \subseteq \mathbb{R}\) and \(x_0
    \in D\) is an interior point of \(D\). Note that, if \(f''\) exists in \(D\),
    then it is itself a function of \(x\). Then the second derivative at \(x_0\) is'
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: '也可以定义更高阶的导数。我们从单变量情况开始，其中 \(f : D \to \mathbb{R}\) 且 \(D \subseteq \mathbb{R}\)，\(x_0
    \in D\) 是 \(D\) 的一个内点。注意，如果 \(f''\) 在 \(D\) 中存在，那么它本身是 \(x\) 的函数。那么在 \(x_0\) 处的二阶导数是'
- en: \[ f''(x_0) = \frac{\mathrm{d}^2 f(x_0)}{\mathrm{d} x^2} = \lim_{h \to 0} \frac{f'(x_0
    + h) - f'(x_0)}{h} \]
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: \[ f''(x_0) = \frac{\mathrm{d}^2 f(x_0)}{\mathrm{d} x^2} = \lim_{h \to 0} \frac{f'(x_0
    + h) - f'(x_0)}{h} \]
- en: provided the limit exists.
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 假设极限存在。
- en: 'In the several variable case, we have the following:'
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: 在多变量情况下，我们有以下结果：
- en: '**DEFINITION** **(Second Partial Derivatives and Hessian)** \(\idx{second partial
    derivatives}\xdi\) \(\idx{Hessian}\xdi\) Let \(f : D \to \mathbb{R}\) where \(D
    \subseteq \mathbb{R}^d\) and let \(\mathbf{x}_0 \in D\) be an interior point of
    \(D\). Assume that \(f\) is continuously differentiable in an open ball around
    \(\mathbf{x}_0\). Then \(\partial f(\mathbf{x})/\partial x_i\) is itself a function
    of \(\mathbf{x}\) and its partial derivative with respect to \(x_j\), if it exists,
    is denoted by'
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: '**定义** **(二阶偏导数和海森矩阵)** \(\idx{second partial derivatives}\xdi\) \(\idx{Hessian}\xdi\)
    设 \(f : D \to \mathbb{R}\) 其中 \(D \subseteq \mathbb{R}^d\)，且 \(\mathbf{x}_0 \in
    D\) 是 \(D\) 的一个内点。假设 \(f\) 在 \(\mathbf{x}_0\) 附近的某个开球内连续可微。那么 \(\partial f(\mathbf{x})/\partial
    x_i\) 本身是 \(\mathbf{x}\) 的函数，并且如果它存在，其关于 \(x_j\) 的偏导数表示为'
- en: \[ \frac{\partial^2 f(\mathbf{x}_0)}{\partial x_j \partial x_i} = \lim_{h \to
    0} \frac{\frac{\partial f}{\partial x_i}(\mathbf{x}_0 + h \mathbf{e}_j) - \frac{\partial
    f}{\partial x_i}(\mathbf{x}_0)}{h}. \]
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \frac{\partial^2 f(\mathbf{x}_0)}{\partial x_j \partial x_i} = \lim_{h \to
    0} \frac{\frac{\partial f}{\partial x_i}(\mathbf{x}_0 + h \mathbf{e}_j) - \frac{\partial
    f}{\partial x_i}(\mathbf{x}_0)}{h}. \]
- en: To simplify the notation, we write this as \(\partial^2 f(\mathbf{x}_0)/\partial
    x_i^2\) when \(j = i\). If \(\partial^2 f(\mathbf{x})/\partial x_j \partial x_i\)
    and \(\partial^2 f(\mathbf{x})/\partial x_i^2\) exist and are continuous in an
    open ball around \(\mathbf{x}_0\) for all \(i, j\), we say that \(f\) is twice
    continuously differentiable at \(\mathbf{x}_0\).
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: 为了简化符号，当 \(j = i\) 时，我们将其写作 \(\partial^2 f(\mathbf{x}_0)/\partial x_i^2\)。如果
    \(\partial^2 f(\mathbf{x})/\partial x_j \partial x_i\) 和 \(\partial^2 f(\mathbf{x})/\partial
    x_i^2\) 在以 \(\mathbf{x}_0\) 为中心的开球内对所有 \(i, j\) 都存在且连续，那么我们说 \(f\) 在 \(\mathbf{x}_0\)
    处是二阶连续可微的。
- en: The matrix of second derivatives is called the Hessian and is denoted by
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: 二阶导数的矩阵被称为Hessian，表示为
- en: \[\begin{split} \mathbf{H}_f(\mathbf{x}_0) = \begin{pmatrix} \frac{\partial^2
    f(\mathbf{x}_0)}{\partial x_1^2} & \cdots & \frac{\partial^2 f(\mathbf{x}_0)}{\partial
    x_d \partial x_1}\\ \vdots & \ddots & \vdots\\ \frac{\partial^2 f(\mathbf{x}_0)}{\partial
    x_1 \partial x_d} & \cdots & \frac{\partial^2 f(\mathbf{x}_0)}{\partial x_d^2}
    \end{pmatrix}. \end{split}\]
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: \[\begin{split} \mathbf{H}_f(\mathbf{x}_0) = \begin{pmatrix} \frac{\partial^2
    f(\mathbf{x}_0)}{\partial x_1^2} & \cdots & \frac{\partial^2 f(\mathbf{x}_0)}{\partial
    x_d \partial x_1}\\ \vdots & \ddots & \vdots\\ \frac{\partial^2 f(\mathbf{x}_0)}{\partial
    x_1 \partial x_d} & \cdots & \frac{\partial^2 f(\mathbf{x}_0)}{\partial x_d^2}
    \end{pmatrix}. \end{split}\]
- en: \(\natural\)
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: \(\natural\)
- en: Like \(f\) and the gradient \(\nabla f\), the Hessian \(\mathbf{H}_f\) is a
    function of \(\mathbf{x}\). It is a matrix-valued function however.
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: 与 \(f\) 和梯度 \(\nabla f\) 一样，Hessian \(\mathbf{H}_f\) 是 \(\mathbf{x}\) 的函数。然而，它是一个矩阵值函数。
- en: When \(f\) is twice continuously differentiable at \(\mathbf{x}_0\), its Hessian
    is a symmetric matrix.
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: 当 \(f\) 在 \(\mathbf{x}_0\) 处是二阶连续可微的，其Hessian矩阵是对称的。
- en: '**THEOREM** **(Symmetry of the Hessian)** \(\idx{symmetry of the Hessian}\xdi\)
    Let \(f : D \to \mathbb{R}\) where \(D \subseteq \mathbb{R}^d\) and let \(\mathbf{x}_0
    \in D\) be an interior point of \(D\). Assume that \(f\) is twice continuously
    differentiable at \(\mathbf{x}_0\). Then for all \(i \neq j\)'
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: '**定理** **(Hessian矩阵的对称性)** \(\idx{symmetry of the Hessian}\xdi\) 设 \(f : D
    \to \mathbb{R}\)，其中 \(D \subseteq \mathbb{R}^d\)，且 \(\mathbf{x}_0 \in D\) 是 \(D\)
    的一个内点。假设 \(f\) 在 \(\mathbf{x}_0\) 处是二阶连续可微的。那么对于所有 \(i \neq j\)'
- en: \[ \frac{\partial^2 f(\mathbf{x}_0)}{\partial x_j \partial x_i} = \frac{\partial^2
    f(\mathbf{x}_0)}{\partial x_i \partial x_j}. \]
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \frac{\partial^2 f(\mathbf{x}_0)}{\partial x_j \partial x_i} = \frac{\partial^2
    f(\mathbf{x}_0)}{\partial x_i \partial x_j}. \]
- en: \(\sharp\)
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: \(\sharp\)
- en: '*Proof idea:* Two applications of the *Mean Value Theorem* show that the limits
    can be interchanged.'
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: '*证明思路:* 两次应用**平均值定理**表明极限可以互换。'
- en: '*Proof:* By definition of the partial derivative,'
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: '*证明:* 根据偏导数的定义，'
- en: \[\begin{align*} \frac{\partial^2 f(\mathbf{x}_0)}{\partial x_j \partial x_i}
    &= \lim_{h_j \to 0} \frac{\frac{\partial f}{\partial x_i}(\mathbf{x}_0 + h_j \mathbf{e}_j)
    - \frac{\partial f}{\partial x_i}(\mathbf{x}_0)}{h_j}\\ &= \lim_{h_j \to 0} \lim_{h_i
    \to 0} \frac{1}{h_j h_i} \left\{ [f(\mathbf{x}_0 + h_j \mathbf{e}_j + h_i \mathbf{e}_i)
    - f(\mathbf{x}_0 + h_j \mathbf{e}_j)] - [f(\mathbf{x}_0 + h_i \mathbf{e}_i) -
    f(\mathbf{x}_0)] \right\}\\ &= \lim_{h_j \to 0} \lim_{h_i \to 0} \frac{1}{h_i}
    \left\{ \frac{[f(\mathbf{x}_0 + h_i \mathbf{e}_i + h_j \mathbf{e}_j) - f(\mathbf{x}_0
    + h_i \mathbf{e}_i)] - [f(\mathbf{x}_0 + h_j \mathbf{e}_j) - f(\mathbf{x}_0)]}{h_j}
    \right\}\\ &= \lim_{h_j \to 0} \lim_{h_i \to 0} \frac{1}{h_i} \left\{\frac{\partial}{\partial
    x_j}[f(\mathbf{x}_0 + h_i \mathbf{e}_i + \theta_j h_j \mathbf{e}_j) - f(\mathbf{x}_0
    + \theta_j h_j \mathbf{e}_j)] \right\}\\ &= \lim_{h_j \to 0} \lim_{h_i \to 0}
    \frac{1}{h_i} \left\{\frac{\partial f}{\partial x_j}(\mathbf{x}_0 + h_i \mathbf{e}_i
    + \theta_j h_j \mathbf{e}_j) - \frac{\partial f}{\partial x_j}(\mathbf{x}_0 +
    \theta_j h_j \mathbf{e}_j) \right\} \end{align*}\]
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: \[\begin{align*} \frac{\partial^2 f(\mathbf{x}_0)}{\partial x_j \partial x_i}
    &= \lim_{h_j \to 0} \frac{\frac{\partial f}{\partial x_i}(\mathbf{x}_0 + h_j \mathbf{e}_j)
    - \frac{\partial f}{\partial x_i}(\mathbf{x}_0)}{h_j}\\ &= \lim_{h_j \to 0} \lim_{h_i
    \to 0} \frac{1}{h_j h_i} \left\{ [f(\mathbf{x}_0 + h_j \mathbf{e}_j + h_i \mathbf{e}_i)
    - f(\mathbf{x}_0 + h_j \mathbf{e}_j)] - [f(\mathbf{x}_0 + h_i \mathbf{e}_i) -
    f(\mathbf{x}_0)] \right\}\\ &= \lim_{h_j \to 0} \lim_{h_i \to 0} \frac{1}{h_i}
    \left\{ \frac{[f(\mathbf{x}_0 + h_i \mathbf{e}_i + h_j \mathbf{e}_j) - f(\mathbf{x}_0
    + h_i \mathbf{e}_i)] - [f(\mathbf{x}_0 + h_j \mathbf{e}_j) - f(\mathbf{x}_0)]}{h_j}
    \right\}\\ &= \lim_{h_j \to 0} \lim_{h_i \to 0} \frac{1}{h_i} \left\{\frac{\partial}{\partial
    x_j}[f(\mathbf{x}_0 + h_i \mathbf{e}_i + \theta_j h_j \mathbf{e}_j) - f(\mathbf{x}_0
    + \theta_j h_j \mathbf{e}_j)] \right\}\\ &= \lim_{h_j \to 0} \lim_{h_i \to 0}
    \frac{1}{h_i} \left\{\frac{\partial f}{\partial x_j}(\mathbf{x}_0 + h_i \mathbf{e}_i
    + \theta_j h_j \mathbf{e}_j) - \frac{\partial f}{\partial x_j}(\mathbf{x}_0 +
    \theta_j h_j \mathbf{e}_j) \right\} \end{align*}\]
- en: for some \(\theta_j \in (0,1)\). Note that, on the third line, we rearranged
    the terms and, on the fourth line, we applied the *Mean Value Theorem* to \(f(\mathbf{x}_0
    + h_i \mathbf{e}_i + h_j \mathbf{e}_j) - f(\mathbf{x}_0 + h_j \mathbf{e}_j)\)
    as a continuously differentiable function of \(h_j\).
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: 对于某个 \(\theta_j \in (0,1)\)。注意，在第三行中，我们重新排列了项，在第四行中，我们将 \(f(\mathbf{x}_0 + h_i
    \mathbf{e}_i + h_j \mathbf{e}_j) - f(\mathbf{x}_0 + h_j \mathbf{e}_j)\) 作为 \(h_j\)
    的连续可微函数应用了**平均值定理**。
- en: Because \(\partial f/\partial x_j\) is continuously differentiable in an open
    ball around \(\mathbf{x}_0\), a second application of the *Mean Value Theorem*
    gives for some \(\theta_i \in (0,1)\)
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: 因为 \(\partial f/\partial x_j\) 在 \(\mathbf{x}_0\) 附近的开球内连续可微，根据**平均值定理**，对于某个
    \(\theta_i \in (0,1)\)
- en: \[\begin{align*} &\lim_{h_j \to 0} \lim_{h_i \to 0} \frac{1}{h_i} \left\{\frac{\partial
    f}{\partial x_j}(\mathbf{x}_0 + h_i \mathbf{e}_i + \theta_j h_j \mathbf{e}_j)
    - \frac{\partial f}{\partial x_j}(\mathbf{x}_0 + \theta_j h_j \mathbf{e}_j) \right\}\\
    &= \lim_{h_j \to 0} \lim_{h_i \to 0} \frac{\partial}{\partial x_i}\left[\frac{\partial
    f}{\partial x_j}(\mathbf{x}_0 + \theta_j h_j \mathbf{e}_j + \theta_i h_i \mathbf{e}_i)\right]\\
    &= \lim_{h_j \to 0} \lim_{h_i \to 0} \frac{\partial^2 f(\mathbf{x}_0 + \theta_j
    h_j \mathbf{e}_j + \theta_i h_i \mathbf{e}_i)}{\partial x_i \partial x_j}. \end{align*}\]
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: \[\begin{align*} &\lim_{h_j \to 0} \lim_{h_i \to 0} \frac{1}{h_i} \left\{\frac{\partial
    f}{\partial x_j}(\mathbf{x}_0 + h_i \mathbf{e}_i + \theta_j h_j \mathbf{e}_j)
    - \frac{\partial f}{\partial x_j}(\mathbf{x}_0 + \theta_j h_j \mathbf{e}_j) \right\}\\
    &= \lim_{h_j \to 0} \lim_{h_i \to 0} \frac{\partial}{\partial x_i}\left[\frac{\partial
    f}{\partial x_j}(\mathbf{x}_0 + \theta_j h_j \mathbf{e}_j + \theta_i h_i \mathbf{e}_i)\right]\\
    &= \lim_{h_j \to 0} \lim_{h_i \to 0} \frac{\partial^2 f(\mathbf{x}_0 + \theta_j
    h_j \mathbf{e}_j + \theta_i h_i \mathbf{e}_i)}{\partial x_i \partial x_j}. \end{align*}\]
- en: The claim then follows from the continuity of \(\partial^2 f/\partial x_i \partial
    x_j\). \(\square\)
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: 该结论可从 \(\partial^2 f/\partial x_i \partial x_j\) 的连续性得出。 \(\square\)
- en: '**EXAMPLE:** Consider the quadratic function'
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: '**示例：** 考虑二次函数'
- en: \[ f(\mathbf{x}) = \frac{1}{2} \mathbf{x}^T P \mathbf{x} + \mathbf{q}^T \mathbf{x}
    + r. \]
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: \[ f(\mathbf{x}) = \frac{1}{2} \mathbf{x}^T P \mathbf{x} + \mathbf{q}^T \mathbf{x}
    + r. \]
- en: Recall that the gradient of \(f\) is
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: 回想一下，\(f\) 的梯度是
- en: \[ \nabla f(\mathbf{x}) = \frac{1}{2}[P + P^T] \,\mathbf{x} + \mathbf{q}. \]
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \nabla f(\mathbf{x}) = \frac{1}{2}[P + P^T] \,\mathbf{x} + \mathbf{q}. \]
- en: To simplify the calculation, let \(B = \frac{1}{2}[P + P^T]\) and denote the
    rows of \(B\) by \(\mathbf{b}_1^T, \ldots,\mathbf{b}_d^T\).
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 为了简化计算，设 \(B = \frac{1}{2}[P + P^T]\) 并用 \(\mathbf{b}_1^T, \ldots,\mathbf{b}_d^T\)
    表示 \(B\) 的行。
- en: Each component of \(\nabla f\) is an affine function of \(\mathbf{x}\), specifically,
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: \(\nabla f\) 的每个分量都是 \(\mathbf{x}\) 的仿射函数，具体来说，
- en: \[ \frac{\partial f (\mathbf{x})}{\partial x_i} = \mathbf{b}_i^T \mathbf{x}
    + q_i. \]
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \frac{\partial f (\mathbf{x})}{\partial x_i} = \mathbf{b}_i^T \mathbf{x}
    + q_i. \]
- en: Row \(i\) of the Hessian is simply the gradient transposed of \(\frac{\partial
    f (\mathbf{x})}{\partial x_i}\) which, by our previous results, is
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: Hessian矩阵的第 \(i\) 行简单地是 \(\frac{\partial f (\mathbf{x})}{\partial x_i}\) 的转置梯度，根据我们之前的结果，它是
- en: \[ \left(\nabla \frac{\partial f (\mathbf{x})}{\partial x_i}\right)^T = \mathbf{b}_i^T.
    \]
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \left(\nabla \frac{\partial f (\mathbf{x})}{\partial x_i}\right)^T = \mathbf{b}_i^T.
    \]
- en: Putting this together we get
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: 将这些放在一起，我们得到
- en: \[ \mathbf{H}_f(\mathbf{x}) = \frac{1}{2}[P + P^T]. \]
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \mathbf{H}_f(\mathbf{x}) = \frac{1}{2}[P + P^T]. \]
- en: Observe that this is indeed a symmetric matrix. \(\lhd\)
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，这确实是一个对称矩阵。 \(\lhd\)
- en: '***Self-assessment quiz*** *(with help from Claude, Gemini, and ChatGPT)*'
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: '***自我评估测验*** *(在Claude、Gemini和ChatGPT的帮助下)*'
- en: '**1** What does it mean for a function \(f\) to be continuously differentiable
    at \(x_0\)?'
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: '**1** 函数 \(f\) 在 \(x_0\) 处连续可微意味着什么？'
- en: a) \(f\) is continuous at \(x_0\).
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: a) \(f\) 在 \(x_0\) 处是连续的。
- en: b) All partial derivatives of \(f\) exist at \(x_0\).
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: b) \(f\) 在 \(x_0\) 处的所有偏导数都存在。
- en: c) All partial derivatives of \(f\) exist and are continuous in an open ball
    around \(x_0\).
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: c) \(f\) 在 \(x_0\) 附近的开放球体内所有偏导数都存在且连续。
- en: d) The gradient of \(f\) is zero at \(x_0\).
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: d) \(f\) 的梯度在 \(x_0\) 处为零。
- en: '**2** What is the gradient of a function \(f : D \to \mathbb{R}\), where \(D
    \subseteq \mathbb{R}^d\), at a point \(x_0 \in D\)?'
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: '**2** 函数 \(f : D \to \mathbb{R}\)，其中 \(D \subseteq \mathbb{R}^d\)，在点 \(x_0
    \in D\) 处的梯度是什么？'
- en: a) The rate of change of \(f\) with respect to \(x\) at \(x_0\)
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: a) \(f\) 在 \(x_0\) 处相对于 \(x\) 的变化率
- en: b) The vector of all second partial derivatives of \(f\) at \(x_0\)
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: b) \(f\) 在 \(x_0\) 处的所有二阶偏导数的向量
- en: c) The vector of all first partial derivatives of \(f\) at \(x_0\)
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: c) \(f\) 在 \(x_0\) 处的所有一阶偏导数的向量
- en: d) The matrix of all second partial derivatives of \(f\) at \(x_0\)
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: d) \(f\) 在 \(x_0\) 处的所有二阶偏导数的矩阵
- en: '**3** Which of the following statements is true about the Hessian matrix of
    a twice continuously differentiable function?'
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: '**3** 关于一个连续两次可微函数的Hessian矩阵，以下哪个陈述是正确的？'
- en: a) It is always a diagonal matrix.
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: a) 它始终是一个对角矩阵。
- en: b) It is always a symmetric matrix.
  id: totrans-250
  prefs: []
  type: TYPE_NORMAL
  zh: b) 它始终是一个对称矩阵。
- en: c) It is always an invertible matrix.
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: c) 它始终是一个可逆矩阵。
- en: d) It is always a positive definite matrix.
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: d) 它始终是一个正定矩阵。
- en: '**4** Let \(f(x, y, z) = x^2 + y^2 - z^2\). What is the Hessian matrix of \(f\)?'
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: '**4** 设 \(f(x, y, z) = x^2 + y^2 - z^2\)。\(f\) 的Hessian矩阵是什么？'
- en: a) \(\begin{pmatrix} 2 & 0 & 0 \\ 0 & 2 & 0 \\ 0 & 0 & -2 \end{pmatrix}\)
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
  zh: a) \(\begin{pmatrix} 2 & 0 & 0 \\ 0 & 2 & 0 \\ 0 & 0 & -2 \end{pmatrix}\)
- en: b) \(\begin{pmatrix} 2x & 2y & -2z \end{pmatrix}\)
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
  zh: b) \(\begin{pmatrix} 2x & 2y & -2z \end{pmatrix}\)
- en: c) \(\begin{pmatrix} 2 & 0 \\ 0 & 2 \end{pmatrix}\)
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: c) \(\begin{pmatrix} 2 & 0 \\ 0 & 2 \end{pmatrix}\)
- en: d) \(\begin{pmatrix} 0 & 0 & 0 \\ 0 & 0 & 0 \\ 0 & 0 & 0 \end{pmatrix}\)
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
  zh: d) \(\begin{pmatrix} 0 & 0 & 0 \\ 0 & 0 & 0 \\ 0 & 0 & 0 \end{pmatrix}\)
- en: '**5** What is the Hessian matrix of the quadratic function \(f(x) = \frac{1}{2}x^TPx
    + q^Tx + r\), where \(P \in \mathbb{R}^{d \times d}\) and \(q \in \mathbb{R}^d\)?'
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
  zh: '**5** 二次函数 \(f(x) = \frac{1}{2}x^TPx + q^Tx + r\)，其中 \(P \in \mathbb{R}^{d
    \times d}\) 和 \(q \in \mathbb{R}^d\) 的Hessian矩阵是什么？'
- en: a) \(H_f(x) = P\)
  id: totrans-259
  prefs: []
  type: TYPE_NORMAL
  zh: a) \(H_f(x) = P\)
- en: b) \(H_f(x) = P^T\)
  id: totrans-260
  prefs: []
  type: TYPE_NORMAL
  zh: b) \(H_f(x) = P^T\)
- en: c) \(H_f(x) = \frac{1}{2}[P + P^T]\)
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: c) \(H_f(x) = \frac{1}{2}[P + P^T]\)
- en: d) \(H_f(x) = [P + P^T]\)
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: d) \(H_f(x) = [P + P^T]\)
- en: 'Answer for 1: c. Justification: The text states, “If \(f\) exists and is continuous
    in an open ball around \(x_0\) for all \(i\), then we say that \(f\) is continuously
    differentiable at \(x_0\).”'
  id: totrans-263
  prefs: []
  type: TYPE_NORMAL
  zh: 1的答案：c. 理由：文本中提到，“如果 \(f\) 在 \(x_0\) 附近的开放球体内对所有 \(i\) 都存在且连续，那么我们说 \(f\) 在
    \(x_0\) 处是连续可微的。”
- en: 'Answer for 2: c. Justification: From the text: “The (column) vector \(\nabla
    f(x_0) = ( \frac{\partial f(x_0)}{\partial x_1}, \ldots, \frac{\partial f(x_0)}{\partial
    x_d})\) is called the gradient of \(f\) at \(x_0\).”'
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: 2的答案：c. 理由：从文本中：“向量 \(\nabla f(x_0) = ( \frac{\partial f(x_0)}{\partial x_1},
    \ldots, \frac{\partial f(x_0)}{\partial x_d})\) 被称为 \(f\) 在 \(x_0\) 处的梯度。”
- en: 'Answer for 3: b). Justification: The text states: “When \(f\) is twice continuously
    differentiable at \(x_0\), its Hessian is a symmetric matrix.”'
  id: totrans-265
  prefs: []
  type: TYPE_NORMAL
  zh: 3的答案：b). 理由：文本中提到：“当 \(f\) 在 \(x_0\) 处连续两次可微时，其Hessian矩阵是对称矩阵。”
- en: 'Answer for 4: a). Justification: The Hessian is the matrix of second partial
    derivatives:'
  id: totrans-266
  prefs: []
  type: TYPE_NORMAL
  zh: 4的答案：a). 理由：Hessian矩阵是二阶偏导数的矩阵：
- en: \[\begin{split} \begin{pmatrix} \frac{\partial^2 f}{\partial x^2} & \frac{\partial^2
    f}{\partial x \partial y} & \frac{\partial^2 f}{\partial x \partial z} \\ \frac{\partial^2
    f}{\partial y \partial x} & \frac{\partial^2 f}{\partial y^2} & \frac{\partial^2
    f}{\partial y \partial z} \\ \frac{\partial^2 f}{\partial z \partial x} & \frac{\partial^2
    f}{\partial z \partial y} & \frac{\partial^2 f}{\partial z^2} \end{pmatrix} =
    \begin{pmatrix} 2 & 0 & 0 \\ 0 & 2 & 0 \\ 0 & 0 & -2 \end{pmatrix} \end{split}\]
  id: totrans-267
  prefs: []
  type: TYPE_NORMAL
  zh: \[\begin{split} \begin{pmatrix} \frac{\partial^2 f}{\partial x^2} & \frac{\partial^2
    f}{\partial x \partial y} & \frac{\partial^2 f}{\partial x \partial z} \\ \frac{\partial^2
    f}{\partial y \partial x} & \frac{\partial^2 f}{\partial y^2} & \frac{\partial^2
    f}{\partial y \partial z} \\ \frac{\partial^2 f}{\partial z \partial x} & \frac{\partial^2
    f}{\partial z \partial y} & \frac{\partial^2 f}{\partial z^2} \end{pmatrix} =
    \begin{pmatrix} 2 & 0 & 0 \\ 0 & 2 & 0 \\ 0 & 0 & -2 \end{pmatrix} \end{split}\]
- en: 'Answer for 5: c. Justification: The text shows that the Hessian of the quadratic
    function is \(H_f(x) = \frac{1}{2}[P + P^T]\).'
  id: totrans-268
  prefs: []
  type: TYPE_NORMAL
  zh: 答案为5：c. 证明：文本显示二次函数的Hessian矩阵为 \(H_f(x) = \frac{1}{2}[P + P^T]\)。
