- en: 5  Graphs, tables, and maps
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 5  图表、表格与地图
- en: 原文：[https://tellingstorieswithdata.com/05-graphs_tables_maps.html](https://tellingstorieswithdata.com/05-graphs_tables_maps.html)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://tellingstorieswithdata.com/05-graphs_tables_maps.html](https://tellingstorieswithdata.com/05-graphs_tables_maps.html)
- en: '[Communication](./04-writing_research.html)'
  id: totrans-2
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[沟通](./04-writing_research.html)'
- en: '[5  Graphs, tables, and maps](./05-graphs_tables_maps.html)'
  id: totrans-3
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[5  图表、表格与地图](./05-graphs_tables_maps.html)'
- en: '*Chapman and Hall/CRC published this book in July 2023\. You can purchase that
    [here](https://www.routledge.com/Telling-Stories-with-Data-With-Applications-in-R/Alexander/p/book/9781032134772).
    This online version has some updates to what was printed.*  ***Prerequisites**'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: '*Chapman and Hall/CRC 于 2023 年 7 月出版了此书。您可在此处购买。此在线版本对印刷版内容进行了一些更新。*  ***先决条件**'
- en: Read *R for Data Science*, ([Wickham, Çetinkaya-Rundel, and Grolemund [2016]
    2023](99-references.html#ref-r4ds))
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 阅读《R 数据科学》（[Wickham, Çetinkaya-Rundel, and Grolemund [2016] 2023](99-references.html#ref-r4ds)）
- en: Focus on Chapter 1 “Data visualization”, which provides an overview of `ggplot2`.
  id: totrans-6
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 重点关注第1章“数据可视化”，该章概述了`ggplot2`。
- en: 'Read *Data Visualization: A Practical Introduction*, ([Healy 2018](99-references.html#ref-healyviz))'
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 阅读《数据可视化：实用入门》（[Healy 2018](99-references.html#ref-healyviz)）
- en: Focus on Chapter 3 “Make a plot”, which provides an overview of `ggplot2` with
    different emphasis.
  id: totrans-8
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 重点关注第3章“制作图表”，该章以不同侧重点概述了`ggplot2`。
- en: Watch *The Glamour of Graphics*, ([Chase 2020](99-references.html#ref-chase2020))
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 观看《图形的魅力》（[Chase 2020](99-references.html#ref-chase2020)）
- en: This video details ideas for how to improve a plot made with `ggplot2`.
  id: totrans-10
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 本视频详述了如何改进用`ggplot2`制作的图表的想法。
- en: 'Read *Testing Statistical Charts: What Makes a Good Graph?*, ([Vanderplas,
    Cook, and Hofmann 2020](99-references.html#ref-vanderplas2020testing))'
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 阅读《测试统计图表：什么造就了好图表？》（[Vanderplas, Cook, and Hofmann 2020](99-references.html#ref-vanderplas2020testing)）
- en: This article details best practice for making graphs.
  id: totrans-12
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 本文详述了制作图表的最佳实践。
- en: Read *Data Feminism*, ([D’Ignazio and Klein 2020](99-references.html#ref-datafeminism2020))
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 阅读《数据女性主义》（[D’Ignazio and Klein 2020](99-references.html#ref-datafeminism2020)）
- en: Focus on Chapter 3 “On Rational, Scientific, Objective Viewpoints from Mythical,
    Imaginary, Impossible Standpoints”, which provides examples of why data needs
    to be considered within context.
  id: totrans-14
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 重点关注第3章“论来自神话、想象、不可能立场的理性、科学、客观观点”，该章举例说明了为何需要在情境中考虑数据。
- en: Read *Historical development of the graphical representation of statistical
    data*, ([Funkhouser 1937](99-references.html#ref-funkhouser1937historical))
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 阅读《统计数据的图形表示的历史发展》（[Funkhouser 1937](99-references.html#ref-funkhouser1937historical)）
- en: Focus on Chapter 2 “The Origin of the Graphic Method”, which discusses how various
    graphs developed.
  id: totrans-16
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 重点关注第2章“图形方法的起源”，该章讨论了各种图表是如何发展起来的。
- en: Read *Remove the legend to become one*, ([Wei 2017](99-references.html#ref-removethelegend))
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 阅读《移除图例，合而为一》（[Wei 2017](99-references.html#ref-removethelegend)）
- en: Goes through the process of gradually improving a graph. It is all interesting,
    but the graphs aspect begins with “What does this have to do with line graphs?”.
  id: totrans-18
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 逐步讲解改进图表的过程。内容都很有趣，但图表部分始于“这与折线图有什么关系？”。
- en: Read *Geocomputation with R*, Chapter 2 “Geographic data in R”, ([Lovelace,
    Nowosad, and Muenchow 2019](99-references.html#ref-lovelace2019geocomputation))
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 阅读《R 地理计算》，第2章“R 中的地理数据”（[Lovelace, Nowosad, and Muenchow 2019](99-references.html#ref-lovelace2019geocomputation)）
- en: This chapter provides an overview of mapping in `R`.
  id: totrans-20
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 本章概述了在`R`中进行映射。
- en: Read *Mastering Shiny*, Chapter 1 “Your first Shiny app”, ([Wickham 2021b](99-references.html#ref-wickham2021mastering))
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 阅读《精通 Shiny》，第1章“你的第一个 Shiny 应用”（[Wickham 2021b](99-references.html#ref-wickham2021mastering)）
- en: This chapter provides a self-contained example of a Shiny app.
  id: totrans-22
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 本章提供了一个独立的 Shiny 应用示例。
- en: '**Key concepts and skills**'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: '**关键概念与技能**'
- en: Visualization is one way to get a sense of our data and to communicate this
    to the reader. Plotting the observations in a dataset is important.
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 可视化是理解数据并向读者传达信息的一种方式。绘制数据集中的观测值非常重要。
- en: 'We need to be comfortable with a variety of graph types, including: bar charts,
    scatterplots, line plots, and histograms. We can even consider a map to be a type
    of graph, especially after geocoding our data.'
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们需要熟悉各种图表类型，包括：条形图、散点图、折线图和直方图。我们甚至可以将地图视为一种图表类型，尤其是在对数据进行地理编码之后。
- en: We should also summarize data using tables. Typical use cases for this include
    showing part of a dataset, summary statistics, and regression results.
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们也应使用表格来总结数据。典型的用例包括展示数据集的一部分、汇总统计量和回归结果。
- en: '**Software and packages**'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: '**软件与包**'
- en: '`babynames` ([Wickham 2021a](99-references.html#ref-citebabynames))'
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`babynames` ([Wickham 2021a](99-references.html#ref-citebabynames))'
- en: Base R ([R Core Team 2024](99-references.html#ref-citeR))
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Base R ([R Core Team 2024](99-references.html#ref-citeR))
- en: '`carData` ([Fox, Weisberg, and Price 2022](99-references.html#ref-carData))'
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`carData` ([Fox, Weisberg, and Price 2022](99-references.html#ref-carData))'
- en: '`datasauRus` ([Davies, Locke, and D’Agostino McGowan 2022](99-references.html#ref-citedatasauRus))'
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`datasauRus` ([Davies, Locke, and D’Agostino McGowan 2022](99-references.html#ref-citedatasauRus))'
- en: '`ggmap` ([Kahle and Wickham 2013](99-references.html#ref-KahleWickham2013))'
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ggmap` ([Kahle and Wickham 2013](99-references.html#ref-KahleWickham2013))'
- en: '`janitor` ([Firke 2023](99-references.html#ref-janitor))'
  id: totrans-33
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`janitor` ([Firke 2023](99-references.html#ref-janitor))'
- en: '`knitr` ([Xie 2023](99-references.html#ref-citeknitr))'
  id: totrans-34
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`knitr` ([Xie 2023](99-references.html#ref-citeknitr))'
- en: '`leaflet` ([Cheng, Karambelkar, and Xie 2021](99-references.html#ref-ChengKarambelkarXie2017))'
  id: totrans-35
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`leaflet` ([Cheng, Karambelkar, and Xie 2021](99-references.html#ref-ChengKarambelkarXie2017))'
- en: '`mapdeck` ([Cooley 2020](99-references.html#ref-citemapdeck))'
  id: totrans-36
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`mapdeck` ([Cooley 2020](99-references.html#ref-citemapdeck))'
- en: '`maps` ([Becker et al. 2022](99-references.html#ref-citemaps))'
  id: totrans-37
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`maps` ([Becker et al. 2022](99-references.html#ref-citemaps))'
- en: '`mapproj` ([McIlroy et al. 2023](99-references.html#ref-mapproj))'
  id: totrans-38
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`mapproj` ([McIlroy et al. 2023](99-references.html#ref-mapproj))'
- en: '`modelsummary` ([Arel-Bundock 2022](99-references.html#ref-citemodelsummary))'
  id: totrans-39
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`modelsummary` ([Arel-Bundock 2022](99-references.html#ref-citemodelsummary))'
- en: '`opendatatoronto` ([Gelfand 2022](99-references.html#ref-citeSharla))'
  id: totrans-40
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`opendatatoronto` ([Gelfand 2022](99-references.html#ref-citeSharla))'
- en: '`patchwork` ([Pedersen 2022](99-references.html#ref-citepatchwork))'
  id: totrans-41
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`patchwork` ([Pedersen 2022](99-references.html#ref-citepatchwork))'
- en: '`shiny` ([Chang et al. 2021](99-references.html#ref-citeshiny))'
  id: totrans-42
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`shiny` ([Chang et al. 2021](99-references.html#ref-citeshiny))'
- en: '`tidygeocoder` ([Cambon and Belanger 2021](99-references.html#ref-tidygeocoder))'
  id: totrans-43
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`tidygeocoder` ([Cambon and Belanger 2021](99-references.html#ref-tidygeocoder))'
- en: '`tidyverse` ([Wickham et al. 2019](99-references.html#ref-tidyverse))'
  id: totrans-44
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`tidyverse` ([Wickham et al. 2019](99-references.html#ref-tidyverse))'
- en: '`tinytable` ([Arel-Bundock 2024](99-references.html#ref-tinytable))'
  id: totrans-45
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`tinytable` ([Arel-Bundock 2024](99-references.html#ref-tinytable))'
- en: '`troopdata` ([Flynn 2022](99-references.html#ref-troopdata))'
  id: totrans-46
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`troopdata` ([Flynn 2022](99-references.html#ref-troopdata))'
- en: '`usethis` ([Wickham, Bryan, and Barrett 2022](99-references.html#ref-usethis))'
  id: totrans-47
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`usethis` ([Wickham, Bryan, and Barrett 2022](99-references.html#ref-usethis))'
- en: '`WDI` ([Arel-Bundock 2021](99-references.html#ref-WDI))'
  id: totrans-48
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`WDI` ([Arel-Bundock 2021](99-references.html#ref-WDI))'
- en: '[PRE0]'
  id: totrans-49
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: '*## 5.1 Introduction'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: '*## 5.1 引言'
- en: When telling stories with data, we would like the data to do much of the work
    of convincing our reader. The paper is the medium, and the data are the message.
    To that end, we want to show our reader the data that allowed us to come to our
    understanding of the story. We use graphs, tables, and maps to help achieve this.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 在用数据讲述故事时，我们希望数据能承担大部分说服读者的工作。论文是媒介，数据是信息。为此，我们希望向读者展示那些让我们得以理解故事的原始数据。我们使用图表、表格和地图来帮助实现这一目标。
- en: Try to show the observations that underpin our analysis. For instance, if your
    dataset consists of 2,500 responses to a survey, then at some point in the paper
    you should have a plot/s that contains each of the 2,500 observations, for every
    variable of interest. To do this we build graphs using `ggplot2` which is part
    of the core `tidyverse` and so does not have to be installed or loaded separately.
    In this chapter we go through a variety of different options including bar charts,
    scatterplots, line plots, and histograms.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 尽量展示支撑我们分析的原始观测数据。例如，如果您的数据集包含一份调查的 2,500 份回复，那么在论文的某个部分，您应该为每个感兴趣的变量提供包含这 2,500
    个观测值的图表。为此，我们使用 `ggplot2` 构建图表，它是核心 `tidyverse` 的一部分，因此无需单独安装或加载。在本章中，我们将介绍多种不同的图表选项，包括条形图、散点图、折线图和直方图。
- en: In contrast to the role of graphs, which is to show each observation, the role
    of tables is typically to show an extract of the dataset or to convey various
    summary statistics, or regression results. We will build tables primarily using
    `knitr`. Later we will use `modelsummary` to build tables related to regression
    output.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 与图表旨在展示每个观测值的作用不同，表格的作用通常是展示数据集的摘录、传达各种汇总统计量或回归结果。我们将主要使用 `knitr` 构建表格。稍后，我们将使用
    `modelsummary` 构建与回归输出相关的表格。
- en: Finally, we cover maps as a variant of graphs that are used to show a particular
    type of data. We will build static maps using `ggmap` after having obtained geocoded
    data using `tidygeocoder`.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，我们将地图作为一种特殊的图表来介绍，用于展示特定类型的数据。我们将使用 `tidygeocoder` 获取地理编码数据后，使用 `ggmap` 构建静态地图。
- en: 5.2 Graphs
  id: totrans-55
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 5.2 图表
- en: A world turning to a saner and richer civilization will be a world turning to
    charts.
  id: totrans-56
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 一个转向更明智、更富足文明的世界，也将是一个转向图表的世界。
- en: ''
  id: totrans-57
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Karsten ([1923, 684](99-references.html#ref-karsetn))
  id: totrans-58
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: Karsten ([1923, 684](99-references.html#ref-karsetn))
- en: Graphs are a critical aspect of compelling data stories. They allow us to see
    both broad patterns and details ([Cleveland [1985] 1994, 5](99-references.html#ref-elementsofgraphingdata)).
    Graphs enable a familiarity with our data that is hard to get from any other method.
    Every variable of interest should be graphed.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 图表是构建引人入胜的数据故事的关键环节。它们让我们能够同时看到宏观模式和微观细节 ([Cleveland [1985] 1994, 5](99-references.html#ref-elementsofgraphingdata))。图表能带来一种对数据的熟悉感，这是其他任何方法都难以企及的。每一个感兴趣的变量都应该被绘制成图。
- en: The most important objective of a graph is to convey as much of the actual data,
    and its context, as possible. In a way, graphing is an information encoding process
    where we construct a deliberate representation to convey information to our audience.
    The audience must decode that representation. The success of our graph depends
    on how much information is lost in this process so the decoding is a critical
    aspect ([Cleveland [1985] 1994, 221](99-references.html#ref-elementsofgraphingdata)).
    This means that we must focus on creating effective graphs that are suitable for
    our specific audience.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 图表最重要的目标是尽可能多地传达实际数据及其背景信息。从某种意义上说，绘图是一个信息编码过程，我们构建一个精心设计的表征来向受众传递信息。受众必须解码这个表征。我们图表的成功与否取决于在这个过程中丢失了多少信息，因此解码是一个关键环节
    ([Cleveland [1985] 1994, 221](99-references.html#ref-elementsofgraphingdata))。这意味着我们必须专注于创建适合特定受众的有效图表。
- en: To see why graphing the actual data is important, after installing and loading
    `datasauRus` consider the `datasaurus_dozen` dataset.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 为了理解绘制实际数据为何重要，在安装并加载 `datasauRus` 包后，请考虑 `datasaurus_dozen` 数据集。
- en: '[PRE1]'
  id: totrans-62
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: '*[PRE2]*  *The dataset consists of values for “x” and “y”, which should be
    plotted on the x-axis and y-axis, respectively. There are 13 different values
    in the variable “dataset” including: “dino”, “star”, “away”, and “bullseye”. We
    focus on those four and generate summary statistics for each ([Table 5.1](#tbl-datasaurussummarystats)).'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: '*[PRE2]*  *该数据集包含“x”和“y”的值，应分别绘制在x轴和y轴上。变量“dataset”中有13个不同的值，包括：“dino”、“star”、“away”和“bullseye”。我们聚焦于这四个数据集，并为每个生成汇总统计量
    ([表 5.1](#tbl-datasaurussummarystats))。'
- en: '[PRE3]'
  id: totrans-64
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: '*Table 5.1: Mean and standard deviation for four datasauRus datasets'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: '*表 5.1: 四个 datasauRus 数据集的均值和标准差'
- en: '| Dataset | x mean | x sd | y mean | y sd |'
  id: totrans-66
  prefs: []
  type: TYPE_TB
  zh: '| 数据集 | x 均值 | x 标准差 | y 均值 | y 标准差 |'
- en: '| --- | --- | --- | --- | --- |'
  id: totrans-67
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- | --- | --- |'
- en: '| dino | 54.3 | 16.8 | 47.8 | 26.9 |'
  id: totrans-68
  prefs: []
  type: TYPE_TB
  zh: '| dino | 54.3 | 16.8 | 47.8 | 26.9 |'
- en: '| away | 54.3 | 16.8 | 47.8 | 26.9 |'
  id: totrans-69
  prefs: []
  type: TYPE_TB
  zh: '| away | 54.3 | 16.8 | 47.8 | 26.9 |'
- en: '| star | 54.3 | 16.8 | 47.8 | 26.9 |'
  id: totrans-70
  prefs: []
  type: TYPE_TB
  zh: '| star | 54.3 | 16.8 | 47.8 | 26.9 |'
- en: '| bullseye | 54.3 | 16.8 | 47.8 | 26.9 |*  *Notice that the summary statistics
    are similar ([Table 5.1](#tbl-datasaurussummarystats)). Despite this it turns
    out that the different datasets are actually very different beasts. This becomes
    clear when we plot the data ([Figure 5.1](#fig-datasaurusgraph)).'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: '| bullseye | 54.3 | 16.8 | 47.8 | 26.9 |*  *请注意，汇总统计量是相似的 ([表 5.1](#tbl-datasaurussummarystats))。尽管如此，事实证明这些不同的数据集实际上是截然不同的。当我们绘制数据时，这一点变得清晰起来
    ([图 5.1](#fig-datasaurusgraph))。'
- en: '[PRE4]'
  id: totrans-72
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: '*![](../Images/a705717105909b48fb86b7a3b7c6f507.png)'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: '*![](../Images/a705717105909b48fb86b7a3b7c6f507.png)'
- en: 'Figure 5.1: Graph of four datasauRus datasets*  *We get a similar lesson—always
    plot your data—from “Anscombe’s Quartet”, created by the twentieth century statistician
    Frank Anscombe. The key takeaway is that it is important to plot the actual data
    and not rely solely on summary statistics.'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: '图 5.1: 四个 datasauRus 数据集的图表*  *我们从二十世纪统计学家弗兰克·安斯库姆创建的“安斯库姆四重奏”中得到了一个类似的教训——务必绘制你的数据。关键要点是，绘制实际数据非常重要，不能仅仅依赖汇总统计量。'
- en: '[PRE5]'
  id: totrans-75
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: '*[PRE6]*  *Anscombe’s Quartet consists of eleven observations for four different
    datasets, with x and y values for each observation. We need to manipulate this
    dataset with `pivot_longer()` to get it into the “tidy” format discussed in [Online
    Appendix A](20-r_essentials.html).'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: '*[PRE6]*  *安斯库姆四重奏包含四个不同数据集的十一个观测值，每个观测值都有x和y值。我们需要使用 `pivot_longer()` 函数来操作这个数据集，以使其符合
    [在线附录 A](20-r_essentials.html) 中讨论的“整洁”格式。'
- en: '[PRE7]'
  id: totrans-77
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: '*We can first create summary statistics ([Table 5.2](#tbl-anscombesummarystats))
    and then plot the data ([Figure 5.2](#fig-anscombegraph)). This again illustrates
    the importance of graphing the actual data, rather than relying on summary statistics.'
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: '*我们可以先创建汇总统计量 ([表 5.2](#tbl-anscombesummarystats))，然后绘制数据 ([图 5.2](#fig-anscombegraph))。这再次说明了绘制实际数据的重要性，而非仅仅依赖汇总统计量。'
- en: '[PRE8]'
  id: totrans-79
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: '*Table 5.2: Mean and standard deviation for Anscombe’s quartet'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: '*表 5.2: 安斯库姆四重奏的均值和标准差'
- en: '| Dataset | x mean | x sd | y mean | y sd |'
  id: totrans-81
  prefs: []
  type: TYPE_TB
  zh: '| 数据集 | x 均值 | x 标准差 | y 均值 | y 标准差 |'
- en: '| --- | --- | --- | --- | --- |'
  id: totrans-82
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- | --- | --- |'
- en: '| 1 | 9 | 3.3 | 7.5 | 2 |'
  id: totrans-83
  prefs: []
  type: TYPE_TB
  zh: '| 1 | 9 | 3.3 | 7.5 | 2 |'
- en: '| 2 | 9 | 3.3 | 7.5 | 2 |'
  id: totrans-84
  prefs: []
  type: TYPE_TB
  zh: '| 2 | 9 | 3.3 | 7.5 | 2 |'
- en: '| 3 | 9 | 3.3 | 7.5 | 2 |'
  id: totrans-85
  prefs: []
  type: TYPE_TB
  zh: '| 3 | 9 | 3.3 | 7.5 | 2 |'
- en: '| 4 | 9 | 3.3 | 7.5 | 2 |*  *[PRE9]'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: '| 4 | 9 | 3.3 | 7.5 | 2 |*  *[PRE9]'
- en: '*![](../Images/406e2cab66a0158524a3e58ad5485d36.png)'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: '*![](../Images/406e2cab66a0158524a3e58ad5485d36.png)'
- en: 'Figure 5.2: Recreation of Anscombe’s Quartet*  *### 5.2.1 Bar charts'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5.2：安斯库姆四重奏的重现*  *### 5.2.1 条形图
- en: We typically use a bar chart when we have a categorical variable that we want
    to focus on. We saw an example of this in [Chapter 2](02-drinking_from_a_fire_hose.html)
    when we constructed a graph of the number of occupied beds. The geometric object—a
    “geom”—that we primarily use is `geom_bar()`, but there are many variants to cater
    for specific situations. To illustrate the use of bar charts, we use a dataset
    from the 1997-2001 British Election Panel Study that was put together by Fox and
    Andersen ([2006](99-references.html#ref-fox2006effect)) and made available with
    `BEPS`, after installing and loading `carData`.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们有一个想要重点关注的分类变量时，通常会使用条形图。我们在[第 2 章](02-drinking_from_a_fire_hose.html)中构建占用床位数量图时看到了一个例子。我们主要使用的几何对象（"geom"）是
    `geom_bar()`，但有许多变体可以满足特定情况。为了说明条形图的使用，我们使用了 Fox 和 Andersen（[2006](99-references.html#ref-fox2006effect)）整理的
    1997-2001 年英国选举面板研究数据集，并在安装和加载 `carData` 后通过 `BEPS` 包提供。
- en: '[PRE10]'
  id: totrans-90
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: '*The dataset consists of which party the respondent supports, along with various
    demographic, economic, and political variables. In particular, we have the age
    of the respondent. We begin by creating age-groups from the ages, and making a
    bar chart showing the frequency of each age-group using `geom_bar()` ([Figure 5.3
    (a)](#fig-bepfitst-1)).'
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: '*该数据集包含受访者支持的政党，以及各种人口、经济和政治变量。特别是，我们拥有受访者的年龄。我们首先根据年龄创建年龄组，并使用 `geom_bar()`
    制作一个显示各年龄组频率的条形图（[图 5.3 (a)](#fig-bepfitst-1)）。'
- en: '[PRE11]'
  id: totrans-92
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: '*[PRE12]'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: '*[PRE12]'
- en: '*![](../Images/468f26472a883cd493d815bbc76d750e.png)'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: '*![](../Images/468f26472a883cd493d815bbc76d750e.png)'
- en: (a) Using `geom_bar()`
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: (a) 使用 `geom_bar()`
- en: '![](../Images/c982bc4b0658f9b5c835ebd84d40494a.png)'
  id: totrans-96
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/c982bc4b0658f9b5c835ebd84d40494a.png)'
- en: (b) Using `count()` and `geom_col()`
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: (b) 使用 `count()` 和 `geom_col()`
- en: 'Figure 5.3: Distribution of age-groups in the 1997-2001 British Election Panel
    Study'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5.3：1997-2001 年英国选举面板研究中年龄组的分布
- en: The default axis label used by `ggplot2` is the name of the relevant variable,
    so it is often useful to add more detail. We do this using `labs()` by specifying
    a variable and a name. In the case of [Figure 5.3 (a)](#fig-bepfitst-1) we have
    specified labels for the x-axis and y-axis.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: '`ggplot2` 默认使用的坐标轴标签是相关变量的名称，因此添加更多细节通常很有用。我们通过 `labs()` 函数并指定变量和名称来实现这一点。在[图
    5.3 (a)](#fig-bepfitst-1) 中，我们为 x 轴和 y 轴指定了标签。'
- en: By default, `geom_bar()` creates a count of the number of times each age-group
    appears in the dataset. It does this because the default statistical transformation—a
    “stat”—for `geom_bar()` is “count”, which saves us from having to create that
    statistic ourselves. But if we had already constructed a count (for instance,
    with `beps |> count(age_group)`), then we could specify a variable for the y-axis
    and then use `geom_col()` ([Figure 5.3 (b)](#fig-bepfitst-2)).
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，`geom_bar()` 会计算每个年龄组在数据集中出现的次数。它之所以这样做，是因为 `geom_bar()` 默认的统计变换（"stat"）是"计数"，这使我们无需自己创建该统计量。但是，如果我们已经构建了一个计数（例如，使用
    `beps |> count(age_group)`），那么我们可以为 y 轴指定一个变量，然后使用 `geom_col()`（[图 5.3 (b)](#fig-bepfitst-2)）。
- en: We may also like to consider various groupings of the data to get a different
    insight. For instance, we can use color to look at which party the respondent
    supports, by age-group ([Figure 5.4 (a)](#fig-bepsecond-1)).
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可能还想考虑数据的不同分组以获得不同的见解。例如，我们可以使用颜色来查看受访者按年龄组支持的政党（[图 5.4 (a)](#fig-bepsecond-1)）。
- en: '[PRE13]'
  id: totrans-102
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: '*![](../Images/80082b972e32f884e7473a3e00ba7ee5.png)'
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: '*![](../Images/80082b972e32f884e7473a3e00ba7ee5.png)'
- en: (a) Using `geom_bar()`
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: (a) 使用 `geom_bar()`
- en: '![](../Images/2ec290cdb4eed58edf1edd0c8d89a990.png)'
  id: totrans-105
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/2ec290cdb4eed58edf1edd0c8d89a990.png)'
- en: (b) Using `geom_bar()` with dodge2
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: (b) 使用 `geom_bar()` 配合 dodge2 参数
- en: 'Figure 5.4: Distribution of age-group, and vote preference, in the 1997-2001
    British Election Panel Study'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5.4：1997-2001 年英国选举面板研究中年龄组和投票偏好的分布
- en: By default, these different groups are stacked, but they can be placed side
    by side with `position = "dodge2"` ([Figure 5.4 (b)](#fig-bepsecond-2)). (Using
    “dodge2” rather than “dodge” adds a little space between the bars.)
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，这些不同的组是堆叠在一起的，但可以通过 `position = "dodge2"` 将它们并排放置（[图 5.4 (b)](#fig-bepsecond-2)）。（使用"dodge2"而不是"dodge"会在条形之间增加一点空间。）
- en: 5.2.1.1 Themes
  id: totrans-109
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 5.2.1.1 主题
- en: 'At this point, we may like to address the general look of the graph. There
    are various themes that are built into `ggplot2`. These include: `theme_bw()`,
    `theme_classic()`, `theme_dark()`, and `theme_minimal()`. A full list is available
    in the `ggplot2` [cheat sheet](https://github.com/rstudio/cheatsheets/blob/main/data-visualization.pdf).
    We can use these themes by adding them as a layer ([Figure 5.5](#fig-bepthemes)).
    We could also install more themes from other packages, including `ggthemes` ([Arnold
    2021](99-references.html#ref-ggthemes)), and `hrbrthemes` ([Rudis 2020](99-references.html#ref-hrbrthemes)).
    We could even build our own!'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 此时，我们可能希望调整图表的整体外观。`ggplot2` 内置了多种主题，包括：`theme_bw()`、`theme_classic()`、`theme_dark()`
    和 `theme_minimal()`。完整列表可在 `ggplot2` [速查表](https://github.com/rstudio/cheatsheets/blob/main/data-visualization.pdf)
    中找到。我们可以通过将这些主题添加为图层来使用它们（[图 5.5](#fig-bepthemes)）。我们还可以从其他包中安装更多主题，包括 `ggthemes`（[Arnold
    2021](99-references.html#ref-ggthemes)）和 `hrbrthemes`（[Rudis 2020](99-references.html#ref-hrbrthemes)）。我们甚至可以构建自己的主题！
- en: '[PRE14]'
  id: totrans-111
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: '*![](../Images/c5e52f639c7556be280af77efcdf2fd2.png)'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: '*![](../Images/c5e52f639c7556be280af77efcdf2fd2.png)'
- en: 'Figure 5.5: Distribution of age-groups, and vote preference, in the 1997-2001
    British Election Panel Study, illustrating different themes and the use of `patchwork`*  *In
    [Figure 5.5](#fig-bepthemes) we use `patchwork` to bring together multiple graphs.
    To do this, after installing and loading the package, we assign the graph to a
    variable. We then use “+” to signal which should be next to each other, “/” to
    signal which should be on top, and use brackets to indicate precedence*  *####
    5.2.1.2 Facets'
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5.5：1997-2001 年英国选举面板研究中年龄组与投票偏好的分布，展示了不同主题及 `patchwork` 的使用*  *在 [图 5.5](#fig-bepthemes)
    中，我们使用 `patchwork` 来组合多个图表。为此，在安装并加载该包后，我们将图表赋值给一个变量。然后使用“+”表示哪些图表应并排显示，“/”表示哪些图表应上下排列，并使用括号来指示优先级*  *####
    5.2.1.2 分面
- en: We use facets to show variation, based on one or more variables ([Wilkinson
    2005, 219](99-references.html#ref-grammarofgraphics)). Facets are especially useful
    when we have already used color to highlight variation in some other variable.
    For instance, we may be interested to explain vote, by age and gender ([Figure 5.6](#fig-facets)).
    We rotate the x-axis with `guides(x = guide_axis(angle = 90))` to avoid overlapping.
    We also change the position of the legend with `theme(legend.position = "bottom")`.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 我们使用分面来展示基于一个或多个变量的变化（[Wilkinson 2005, 219](99-references.html#ref-grammarofgraphics)）。当我们已经使用颜色来突出其他变量的变化时，分面尤其有用。例如，我们可能希望通过年龄和性别来解释投票情况（[图
    5.6](#fig-facets)）。我们使用 `guides(x = guide_axis(angle = 90))` 旋转 x 轴以避免重叠。同时，使用
    `theme(legend.position = "bottom")` 更改图例的位置。
- en: '[PRE15]'
  id: totrans-115
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: '*![](../Images/0bde81f28c9cdc0b38d0ffa351dda937.png)'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: '*![](../Images/0bde81f28c9cdc0b38d0ffa351dda937.png)'
- en: 'Figure 5.6: Distribution of age-group by gender, and vote preference, in the
    1997-2001 British Election Panel Study*  *We could change `facet_wrap()` to wrap
    vertically instead of horizontally with `dir = "v"`. Alternatively, we could specify
    a few rows, say `nrow = 2`, or a number of columns, say `ncol = 2`.'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5.6：1997-2001 年英国选举面板研究中按性别划分的年龄组与投票偏好的分布*  *我们可以将 `facet_wrap()` 改为垂直方向包裹，而不是水平方向，使用
    `dir = "v"`。或者，我们可以指定行数，例如 `nrow = 2`，或列数，例如 `ncol = 2`。
- en: By default, both facets will have the same x-axis and y-axis. We could enable
    both facets to have different scales with `scales = "free"`, or just the x-axis
    with `scales = "free_x"`, or just the y-axis with `scales = "free_y"` ([Figure 5.7](#fig-facetsfancy)).
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，所有分面共享相同的 x 轴和 y 轴。我们可以通过 `scales = "free"` 允许每个分面使用不同的比例尺，或仅对 x 轴使用 `scales
    = "free_x"`，或仅对 y 轴使用 `scales = "free_y"`（[图 5.7](#fig-facetsfancy)）。
- en: '[PRE16]'
  id: totrans-119
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: '*![](../Images/c8e921250485392d9bef065a64a4bc1e.png)'
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: '*![](../Images/c8e921250485392d9bef065a64a4bc1e.png)'
- en: 'Figure 5.7: Distribution of age-group by gender, and vote preference, in the
    1997-2001 British Election Panel Study*  *Finally, we can change the labels of
    the facets using `labeller()` ([Figure 5.8](#fig-facetsfancylabels)).'
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5.7：1997-2001 年英国选举面板研究中按性别划分的年龄组与投票偏好的分布*  *最后，我们可以使用 `labeller()` 更改分面的标签（[图
    5.8](#fig-facetsfancylabels)）。
- en: '[PRE17]'
  id: totrans-122
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: '*![](../Images/3193b849e413bdc1ac85238e8d6722db.png)'
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: '*![](../Images/3193b849e413bdc1ac85238e8d6722db.png)'
- en: 'Figure 5.8: Distribution of age-group by political knowledge, and vote preference,
    in the 1997-2001 British Election Panel Study*  *We now have three ways to combine
    multiple graphs: sub-figures, facets, and `patchwork`. They are useful in different
    circumstances:'
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5.8：1997-2001 年英国选举面板研究中按政治知识水平划分的年龄组与投票偏好的分布*  *我们现在有三种组合多个图表的方法：子图、分面和 `patchwork`。它们在不同情况下各有用途：
- en: sub-figures—which we covered in [Chapter 3](03-workflow.html)—for when we are
    considering different variables;
  id: totrans-125
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 子图——我们在[第 3 章](03-workflow.html)中已介绍过——适用于我们考虑不同变量的情况；
- en: facets for when we are considering a categorical variable; and
  id: totrans-126
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 分面适用于我们考虑分类变量的情况；以及
- en: '`patchwork` for when we are interested in bringing together entirely different
    graphs.***  ***#### 5.2.1.3 Colors'
  id: totrans-127
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`patchwork` 适用于我们希望将完全不同的图表组合在一起的情况。***  ***#### 5.2.1.3 颜色'
- en: We now turn to the colors used in the graph. There are a variety of different
    ways to change the colors. The many palettes available from `RColorBrewer` ([Neuwirth
    2022](99-references.html#ref-RColorBrewer)) can be specified using `scale_fill_brewer()`.
    In the case of `viridis` ([Garnier et al. 2021](99-references.html#ref-viridis))
    we can specify the palettes using `scale_fill_viridis_d()`. Additionally, `viridis`
    is particularly focused on color-blind palettes ([Figure 5.9](#fig-usecolor)).
    Neither `RColorBrewer` nor `viridis` need to be explicitly installed or loaded
    because `ggplot2`, which is part of the `tidyverse`, takes care of that for us.
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们来讨论图表中使用的颜色。有多种不同的方式来改变颜色。可以使用 `scale_fill_brewer()` 来指定来自 `RColorBrewer`
    ([Neuwirth 2022](99-references.html#ref-RColorBrewer)) 的众多调色板。对于 `viridis` ([Garnier
    et al. 2021](99-references.html#ref-viridis))，我们可以使用 `scale_fill_viridis_d()`
    来指定调色板。此外，`viridis` 特别专注于色盲友好型调色板 ([图 5.9](#fig-usecolor))。`RColorBrewer` 和 `viridis`
    都不需要显式安装或加载，因为作为 `tidyverse` 一部分的 `ggplot2` 会为我们处理这些。
- en: '*Shoulders of giants* *The name of the “brewer” palette refers to Cindy Brewer
    ([Miller 2014](99-references.html#ref-brewerisarealperson)). After earning a PhD
    in Geography from Michigan State University in 1991, she joined San Diego State
    University as an assistant professor, moving to Pennsylvania State University
    in 1994, where she was promoted to full professor in 2007\. One of her best-known
    books is *Designing Better Maps: A Guide for GIS Users* ([Brewer 2015](99-references.html#ref-brewerbook)).
    In 2019 she became only the ninth person to have been awarded the O. M. Miller
    Cartographic Medal since it was established in 1968.*  *[PRE18]'
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: '*巨人的肩膀* *"brewer" 调色板的名称指的是辛迪·布鲁尔 ([Miller 2014](99-references.html#ref-brewerisarealperson))。她于
    1991 年在密歇根州立大学获得地理学博士学位后，加入圣地亚哥州立大学担任助理教授，并于 1994 年转到宾夕法尼亚州立大学，2007 年晋升为正教授。她最著名的著作之一是《设计更好的地图：GIS
    用户指南》([Brewer 2015](99-references.html#ref-brewerbook))。2019 年，她成为自 1968 年设立以来仅有的第九位获得
    O. M. Miller 制图奖章的人。*  *[PRE18]'
- en: '*![](../Images/c4e805832c5b49286f1dfb4c9f4dc033.png)'
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: '*![](../Images/c4e805832c5b49286f1dfb4c9f4dc033.png)'
- en: (a) Brewer palette ‘Blues’
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: (a) Brewer 调色板 'Blues'
- en: '![](../Images/2af12edbe1660a06c4357c9c0e9e32b3.png)'
  id: totrans-132
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/2af12edbe1660a06c4357c9c0e9e32b3.png)'
- en: (b) Brewer palette ‘Set1’
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: (b) Brewer 调色板 'Set1'
- en: '![](../Images/d1ef03a50221113ca7e57f6eedb06226.png)'
  id: totrans-134
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/d1ef03a50221113ca7e57f6eedb06226.png)'
- en: (c) Viridis palette default
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: (c) Viridis 默认调色板
- en: '![](../Images/3bd4649135344730f1da1fcea31edaaa.png)'
  id: totrans-136
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/3bd4649135344730f1da1fcea31edaaa.png)'
- en: (d) Viridis palette ‘magma’
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: (d) Viridis 调色板 'magma'
- en: 'Figure 5.9: Distribution of age-group and vote preference, in the 1997-2001
    British Election Panel Study, illustrating different colors'
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5.9：1997-2001 年英国选举面板研究中年龄组与投票偏好的分布，展示了不同的颜色
- en: In addition to using pre-built palettes, we could build our own palette. That
    said, color is something to be considered with care. It should be used to increase
    the amount of information that is communicated ([Cleveland [1985] 1994](99-references.html#ref-elementsofgraphingdata)).
    Color should not be added to graphs unnecessarily—that is to say, it should play
    some role. Typically, that role is to distinguish different groups, which implies
    making the colors dissimilar. Color may also be appropriate if there is some relationship
    between the color and the variable. For instance, if making a graph of the price
    of mangoes and raspberries, then it could help the reader decode the information
    if the colors were yellow and red, respectively ([Franconeri et al. 2021, 121](99-references.html#ref-franconeri2021science)).**********  ****###
    5.2.2 Scatterplots
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 除了使用预制的调色板，我们也可以构建自己的调色板。话虽如此，颜色是需要谨慎考虑的因素。它应该用于增加所传达的信息量 ([Cleveland [1985]
    1994](99-references.html#ref-elementsofgraphingdata))。不应在图表中不必要地添加颜色——也就是说，颜色应发挥某种作用。通常，其作用是区分不同的组别，这意味着要使颜色彼此不同。如果颜色与变量之间存在某种关联，使用颜色也可能是合适的。例如，如果制作芒果和覆盆子价格的图表，那么分别使用黄色和红色来对应颜色，可能有助于读者解读信息
    ([Franconeri et al. 2021, 121](99-references.html#ref-franconeri2021science))。**********  ****###
    5.2.2 散点图
- en: We are often interested in the relationship between two numeric or continuous
    variables. We can use scatterplots to show this. A scatterplot may not always
    be the best choice, but it is rarely a bad one ([Weissgerber et al. 2015](99-references.html#ref-weissgerber2015beyond)).
    Some consider it the most versatile and useful graph option ([Friendly and Wainer
    2021, 121](99-references.html#ref-historyofdataviz)). To illustrate scatterplots,
    we install and load `WDI` and then use that to download some economic indicators
    from the World Bank. In particular, we use `WDIsearch()` to find the unique key
    that we need to pass to `WDI()` to facilitate the download.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 我们常常关注两个数值或连续变量之间的关系。散点图可用于展示这种关系。虽然散点图并非总是最佳选择，但它很少是一个糟糕的选择（[Weissgerber 等人，2015](99-references.html#ref-weissgerber2015beyond)）。有人认为它是最通用且最有用的图表选项（[Friendly
    和 Wainer，2021，第121页](99-references.html#ref-historyofdataviz)）。为了演示散点图，我们安装并加载
    `WDI` 包，然后使用它从世界银行下载一些经济指标。具体来说，我们使用 `WDIsearch()` 来查找需要传递给 `WDI()` 的唯一键，以便进行下载。
- en: '*Oh, you think we have good data on that!* *From OECD ([2014, 15](99-references.html#ref-EssentialMacroAggregates))
    Gross Domestic Product (GDP) “combines in a single figure, and with no double
    counting, all the output (or production) carried out by all the firms, non-profit
    institutions, government bodies and households in a given country during a given
    period, regardless of the type of goods and services produced, provided that the
    production takes place within the country’s economic territory.” The modern concept
    was developed by the twentieth century economist Simon Kuznets and is widely used
    and reported. There is a certain comfort in having a definitive and concrete single
    number to describe something as complicated as the economic activity of a country.
    It is useful and informative that we have such summary statistics. But as with
    any summary statistic, its strength is also its weakness. A single number necessarily
    loses information about constituent components, and disaggregated differences
    can be important ([Moyer and Dunn 2020](99-references.html#ref-Moyer2020Measuring)).
    It highlights short term economic progress over longer term improvements. And
    “the quantitative definiteness of the estimates makes it easy to forget their
    dependence upon imperfect data and the consequently wide margins of possible error
    to which both totals and components are liable” ([Kuznets, Epstein, and Jenks
    1941, xxvi](99-references.html#ref-NationalIncomeAndItsComposition)). Summary
    measures of economic performance shows only one side of a country’s economy. While
    there are many strengths there are also well-known areas where GDP is weak.*  *[PRE19]'
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: '*哦，你以为我们在这方面有很好的数据！* *根据经合组织（[2014，第15页](99-references.html#ref-EssentialMacroAggregates)）的定义，国内生产总值（GDP）“是一个单一数字，无重复计算，汇总了特定时期内一个国家内所有企业、非营利机构、政府机构和家庭的所有产出（或生产），无论所生产的商品和服务类型如何，只要生产发生在该国的经济领土内。”
    这一现代概念由二十世纪经济学家西蒙·库兹涅茨发展而来，并被广泛使用和报告。用一个明确而具体的单一数字来描述像一国经济活动这样复杂的事物，确实令人感到安心。拥有这样的汇总统计数据是有用且信息丰富的。但如同任何汇总统计一样，其优势也是其弱点。单一数字必然会丢失关于构成部分的信息，而分解后的差异可能非常重要（[Moyer
    和 Dunn，2020](99-references.html#ref-Moyer2020Measuring)）。它突出了短期经济进展，而非长期改善。并且“估计值的定量确定性使人容易忘记它们对不完善数据的依赖，以及由此导致的总量和组成部分都可能存在的巨大误差范围”（[Kuznets,
    Epstein, and Jenks，1941，第xxvi页](99-references.html#ref-NationalIncomeAndItsComposition)）。经济表现的汇总衡量标准只显示了一个国家经济的一个侧面。尽管
    GDP 有许多优点，但它也存在众所周知的薄弱领域。*  *[PRE19]'
- en: '*[PRE20]'
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: '*[PRE20]'
- en: '*We may like to change the variable names to be more meaningful, and only keep
    those that we need.'
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: '*我们可能希望将变量名更改为更有意义的名称，并且只保留我们需要的那些。'
- en: '[PRE21]'
  id: totrans-144
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: '*[PRE22]*  *To get started we can use `geom_point()` to make a scatterplot
    showing GDP growth and inflation, by country ([Figure 5.10 (a)](#fig-scattorplot-1)).'
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: '*[PRE22]*  *我们可以使用 `geom_point()` 来开始制作一个按国家显示 GDP 增长与通货膨胀关系的散点图（[图 5.10 (a)](#fig-scattorplot-1)）。'
- en: '[PRE23]'
  id: totrans-146
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: '*![](../Images/cb188a92541a00be061ba1b16ef34f37.png)'
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: '*![](../Images/cb188a92541a00be061ba1b16ef34f37.png)'
- en: (a) Default settings
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: (a) 默认设置
- en: '![](../Images/e8c0b143f0dca09da1a95f47163c6397.png)'
  id: totrans-149
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/e8c0b143f0dca09da1a95f47163c6397.png)'
- en: (b) With the addition of a theme and labels
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: (b) 添加了主题和标签
- en: 'Figure 5.10: Relationship between inflation and GDP growth for Australia, Ethiopia,
    India, and the United States'
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5.10：澳大利亚、埃塞俄比亚、印度和美国的通货膨胀与 GDP 增长之间的关系
- en: As with bar charts, we can change the theme, and update the labels ([Figure 5.10
    (b)](#fig-scattorplot-2)).
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 与条形图一样，我们可以更改主题并更新标签（[图 5.10 (b)](#fig-scattorplot-2)）。
- en: For scatterplots we use “color” instead of “fill”, as we did for bar charts,
    because they use dots rather than bars. This also then slightly affects how we
    change the palette ([Figure 5.11](#fig-scatterplotnicercolor)). That said, with
    particular types of dots, for instance `shape = 21`, it is possible to have both
    `fill` and `color` aesthetics.
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 对于散点图，我们使用“color”而不是像条形图那样使用“fill”，因为它们使用的是点而不是条形。这也会稍微影响我们更改调色板的方式（[图 5.11](#fig-scatterplotnicercolor)）。也就是说，对于特定类型的点，例如
    `shape = 21`，可以同时具有 `fill` 和 `color` 美学属性。
- en: '[PRE24]'
  id: totrans-154
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: '*![](../Images/265f31eac29d3928ede5623d80b3a559.png)'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: '*![](../Images/265f31eac29d3928ede5623d80b3a559.png)'
- en: (a) Brewer palette ‘Blues’
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: (a) Brewer 调色板 'Blues'
- en: '![](../Images/6a5205e554a5f7ba5bab636f56058ea7.png)'
  id: totrans-157
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/6a5205e554a5f7ba5bab636f56058ea7.png)'
- en: (b) Brewer palette ‘Set1’
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: (b) Brewer 调色板 'Set1'
- en: '![](../Images/763bdba285cf529762589eb5ec69df35.png)'
  id: totrans-159
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/763bdba285cf529762589eb5ec69df35.png)'
- en: (c) Viridis palette default
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: (c) Viridis 调色板默认值
- en: '![](../Images/222d9bd4ff8ed0ce76dc64da1b89b50c.png)'
  id: totrans-161
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/222d9bd4ff8ed0ce76dc64da1b89b50c.png)'
- en: (d) Viridis palette ‘magma’
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: (d) Viridis 调色板 'magma'
- en: 'Figure 5.11: Relationship between inflation and GDP growth for Australia, Ethiopia,
    India, and the United States'
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5.11：澳大利亚、埃塞俄比亚、印度和美国的通货膨胀与 GDP 增长之间的关系
- en: 'The points of a scatterplot sometimes overlap. We can address this situation
    in a variety of ways ([Figure 5.12](#fig-alphajitter)):'
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 散点图的点有时会重叠。我们可以通过多种方式处理这种情况（[图 5.12](#fig-alphajitter)）：
- en: Adding a degree of transparency to our dots with “alpha” ([Figure 5.12 (a)](#fig-alphajitter-1)).
    The value for “alpha” can vary between 0, which is fully transparent, and 1, which
    is completely opaque.
  id: totrans-165
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过“alpha”为我们的点添加透明度（[图 5.12 (a)](#fig-alphajitter-1)）。“alpha”的值可以在 0（完全透明）到
    1（完全不透明）之间变化。
- en: 'Adding a small amount of noise, which slightly moves the points, using `geom_jitter()`
    ([Figure 5.12 (b)](#fig-alphajitter-2)). By default, the movement is uniform in
    both directions, but we can specify which direction movement occurs with “width”
    or “height”. The decision between these two options turns on the degree to which
    accuracy matters, and the number of points: it is often useful to use `geom_jitter()`
    when you want to highlight the relative density of points and not necessarily
    the exact value of individual points. When using `geom_jitter()` it is a good
    idea to set a seed, as introduced in [Chapter 2](02-drinking_from_a_fire_hose.html),
    for reproducibility.'
  id: totrans-166
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 `geom_jitter()` 添加少量噪声，轻微移动点的位置（[图 5.12 (b)](#fig-alphajitter-2)）。默认情况下，移动在两个方向上是均匀的，但我们可以通过“width”或“height”指定移动发生的方向。在这两个选项之间做出决定取决于对精度的要求程度以及点的数量：当你想突出点的相对密度而非单个点的精确值时，使用
    `geom_jitter()` 通常很有用。使用 `geom_jitter()` 时，最好如[第 2 章](02-drinking_from_a_fire_hose.html)介绍的那样设置种子，以确保可重复性。
- en: '[PRE25]'
  id: totrans-167
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: '*![](../Images/acbdeb9fb54adea08768e8af06d76fb6.png)'
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: '*![](../Images/acbdeb9fb54adea08768e8af06d76fb6.png)'
- en: (a) Changing the alpha setting
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: (a) 更改 alpha 设置
- en: '![](../Images/b8a02858a47ed693fcf55001827e8e82.png)'
  id: totrans-170
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/b8a02858a47ed693fcf55001827e8e82.png)'
- en: (b) Using jitter
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: (b) 使用抖动
- en: 'Figure 5.12: Relationship between inflation and GDP growth for Australia, Ethiopia,
    India, and the United States'
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5.12：澳大利亚、埃塞俄比亚、印度和美国的通货膨胀与 GDP 增长之间的关系
- en: We often use scatterplots to illustrate a relationship between two continuous
    variables. It can be useful to add a “summary” line using `geom_smooth()` ([Figure 5.13](#fig-scattorplottwo)).
    We can specify the relationship using “method”, change the color with “color”,
    and add or remove standard errors with “se”. A commonly used “method” is `lm`,
    which computes and plots a simple linear regression line similar to using the
    `lm()` function. Using `geom_smooth()` adds a layer to the graph, and so it inherits
    aesthetics from `ggplot()`. For instance, that is why we have one line for each
    country in [Figure 5.13 (a)](#fig-scattorplottwo-1) and [Figure 5.13 (b)](#fig-scattorplottwo-2).
    We could overwrite that by specifying a particular color ([Figure 5.13 (c)](#fig-scattorplottwo-3)).
    There are situation where other types of fitted lines such as splines might be
    preferred.
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 我们经常使用散点图来说明两个连续变量之间的关系。使用 `geom_smooth()` 添加一条“汇总”线会很有用（[图 5.13](#fig-scattorplottwo)）。我们可以使用“method”指定关系类型，用“color”更改颜色，并用“se”添加或移除标准误。一个常用的“method”是
    `lm`，它计算并绘制一条简单的线性回归线，类似于使用 `lm()` 函数。使用 `geom_smooth()` 会向图形添加一个图层，因此它会继承 `ggplot()`
    的美学属性。例如，这就是为什么在[图 5.13 (a)](#fig-scattorplottwo-1) 和[图 5.13 (b)](#fig-scattorplottwo-2)
    中每个国家都有一条线。我们可以通过指定特定颜色来覆盖这一点（[图 5.13 (c)](#fig-scattorplottwo-3)）。在某些情况下，可能更倾向于使用其他类型的拟合线，例如样条线。
- en: '[PRE26]'
  id: totrans-174
  prefs: []
  type: TYPE_PRE
  zh: '[PRE26]'
- en: '*![](../Images/0a1eebae05b9a3eb783bc50cd526bd18.png)'
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: '*![](../Images/0a1eebae05b9a3eb783bc50cd526bd18.png)'
- en: (a) Default line of best fit
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: (a) 默认的最佳拟合线
- en: '![](../Images/a6ac877a23621d6b7d06df525d04ba93.png)'
  id: totrans-177
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/a6ac877a23621d6b7d06df525d04ba93.png)'
- en: (b) Specifying a linear relationship
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: (b) 指定线性关系
- en: '![](../Images/7ba4571d0574f4371c0fb723ee127bb6.png)'
  id: totrans-179
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/7ba4571d0574f4371c0fb723ee127bb6.png)'
- en: (c) Specifying only one color
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: (c) 仅指定一种颜色
- en: 'Figure 5.13: Relationship between inflation and GDP growth for Australia, Ethiopia,
    India, and the United States********  ****### 5.2.3 Line plots'
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5.13：澳大利亚、埃塞俄比亚、印度和美国的通货膨胀与GDP增长之间的关系********  ****### 5.2.3 折线图
- en: We can use a line plot when we have variables that should be joined together,
    for instance, an economic time series. We will continue with the dataset from
    the World Bank and focus on GDP growth in the United States using `geom_line()`
    ([Figure 5.14 (a)](#fig-lineplot-1)). The source of the data can be added to the
    graph using “caption” within `labs()`.
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们拥有需要连接在一起的变量时，例如经济时间序列，我们可以使用折线图。我们将继续使用世界银行的数据集，并使用 `geom_line()` 来关注美国的GDP增长（[图
    5.14 (a)](#fig-lineplot-1)）。可以使用 `labs()` 中的“caption”将数据来源添加到图表中。
- en: '[PRE27]'
  id: totrans-183
  prefs: []
  type: TYPE_PRE
  zh: '[PRE27]'
- en: '*![](../Images/c9da66aa49a284a7c7f3cd4eda7bbcee.png)'
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: '*![](../Images/c9da66aa49a284a7c7f3cd4eda7bbcee.png)'
- en: (a) Using a line plot
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: (a) 使用折线图
- en: '![](../Images/16b714ae763782ddcd594c0cb80b4bc0.png)'
  id: totrans-186
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/16b714ae763782ddcd594c0cb80b4bc0.png)'
- en: (b) Using a stairstep line plot
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: (b) 使用阶梯状折线图
- en: 'Figure 5.14: United States GDP growth (1961-2020)'
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5.14：美国GDP增长（1961-2020）
- en: We can use `geom_step()`, a slight variant of `geom_line()`, to focus attention
    on the change from year to year ([Figure 5.14 (b)](#fig-lineplot-2)).
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以使用 `geom_step()`，这是 `geom_line()` 的一个轻微变体，来突出显示逐年变化（[图 5.14 (b)](#fig-lineplot-2)）。
- en: 'The Phillips curve is the name given to plot of the relationship between unemployment
    and inflation over time. An inverse relationship is sometimes found in the data,
    for instance in the United Kingdom between 1861 and 1957 ([Phillips 1958](99-references.html#ref-phillips1958relation)).
    We have a variety of ways to investigate this relationship in our data, including:'
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 菲利普斯曲线是指随时间描绘失业率与通货膨胀之间关系的图表。数据中有时会发现一种反向关系，例如英国在1861年至1957年间（[Phillips 1958](99-references.html#ref-phillips1958relation)）。我们有多种方法来研究我们数据中的这种关系，包括：
- en: Adding a second line to our graph. For instance, we could add inflation ([Figure 5.15
    (a)](#fig-notphillips-1)). This requires us to use `pivot_longer()`, which is
    discussed in [Online Appendix A](20-r_essentials.html), to ensure that the data
    are in a tidy format.
  id: totrans-191
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在我们的图表中添加第二条线。例如，我们可以添加通货膨胀数据（[图 5.15 (a)](#fig-notphillips-1)）。这要求我们使用 `pivot_longer()`（在[在线附录
    A](20-r_essentials.html) 中讨论），以确保数据处于整洁格式。
- en: Using `geom_path()` to link values in the order they appear in the dataset.
    In [Figure 5.15 (b)](#fig-notphillips-2) we show a Phillips curve for the United
    States between 1960 and 2020\. [Figure 5.15 (b)](#fig-notphillips-2) does not
    appear to show any clear relationship between unemployment and inflation.
  id: totrans-192
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 `geom_path()` 按照数据集中出现的顺序连接数值。在[图 5.15 (b)](#fig-notphillips-2) 中，我们展示了美国1960年至2020年间的菲利普斯曲线。[图
    5.15 (b)](#fig-notphillips-2) 似乎并未显示出失业率与通货膨胀之间存在任何明确的关系。
- en: '[PRE28]'
  id: totrans-193
  prefs: []
  type: TYPE_PRE
  zh: '[PRE28]'
- en: '*![](../Images/94fdf6c7a8a76afbdc38818d9d942363.png)'
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: '*![](../Images/94fdf6c7a8a76afbdc38818d9d942363.png)'
- en: (a) Comparing the two time series over time
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: (a) 随时间比较两个时间序列
- en: '![](../Images/3d88ab46e515f08ecc421c43374d18f1.png)'
  id: totrans-196
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/3d88ab46e515f08ecc421c43374d18f1.png)'
- en: (b) Plotting the two time series against each other
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: (b) 将两个时间序列相互对照绘制
- en: 'Figure 5.15: Unemployment and inflation for the United States (1960-2020)**  **###
    5.2.4 Histograms'
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5.15：美国失业率与通货膨胀（1960-2020）**  **### 5.2.4 直方图
- en: A histogram is useful to show the shape of the distribution of a continuous
    variable. The full range of the data values is split into intervals called “bins”
    and the histogram counts how many observations fall into which bin. In [Figure 5.16](#fig-hisogramone)
    we examine the distribution of GDP in Ethiopia.
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 直方图有助于显示连续变量分布的形状。数据值的整个范围被分割成称为“箱”的区间，直方图计算有多少观测值落入哪个箱。在[图 5.16](#fig-hisogramone)
    中，我们检查了埃塞俄比亚的GDP分布。
- en: '[PRE29]'
  id: totrans-200
  prefs: []
  type: TYPE_PRE
  zh: '[PRE29]'
- en: '*![](../Images/82d4310517a453478fbcb8338b0b095f.png)'
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: '*![](../Images/82d4310517a453478fbcb8338b0b095f.png)'
- en: 'Figure 5.16: Distribution of GDP growth in Ethiopia (1960-2020)*  *The key
    component that determines the shape of a histogram is the number of bins. This
    can be specified in one of two ways ([Figure 5.17](#fig-hisogrambins)):'
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5.16：埃塞俄比亚GDP增长分布（1960-2020）*  *决定直方图形状的关键组成部分是箱的数量。这可以通过以下两种方式之一来指定（[图 5.17](#fig-hisogrambins)）：
- en: specifying the number of “bins” to include; or
  id: totrans-203
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 指定要包含的“箱”的数量；或者
- en: specifying their “binwidth”.
  id: totrans-204
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 指定它们的“箱宽”。
- en: '[PRE30]'
  id: totrans-205
  prefs: []
  type: TYPE_PRE
  zh: '[PRE30]'
- en: '*![](../Images/9986f13fa26b89dbddb3fd7522175428.png)'
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: '*![](../Images/9986f13fa26b89dbddb3fd7522175428.png)'
- en: (a) Five bins
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: (a) 五个分组
- en: '![](../Images/d1aeb73a3f29fb72d63875cc05b6ad86.png)'
  id: totrans-208
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/d1aeb73a3f29fb72d63875cc05b6ad86.png)'
- en: (b) 20 bins
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: (b) 20 个分组
- en: '![](../Images/6367471591699b41c4dc5dd23083de2d.png)'
  id: totrans-210
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/6367471591699b41c4dc5dd23083de2d.png)'
- en: (c) Binwidth of two
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: (c) 组距为二
- en: '![](../Images/54ac6c06e10d4e2c2eb6ddb52684882d.png)'
  id: totrans-212
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/54ac6c06e10d4e2c2eb6ddb52684882d.png)'
- en: (d) Binwidth of five
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: (d) 组距为五
- en: 'Figure 5.17: Distribution of GDP growth in Ethiopia (1960-2020)'
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5.17：埃塞俄比亚 GDP 增长分布（1960-2020 年）
- en: Histograms can be thought of as locally averaging data, and the number of bins
    affects how much of this occurs. When there are only two bins then there is considerable
    smoothing, but we lose a lot of accuracy. Too few bins results in more bias, while
    too many bins results in more variance ([Wasserman 2005, 303](99-references.html#ref-wasserman)).
    Our decision as to the number of bins, or their width, is concerned with trying
    to balance bias and variance. This will depend on a variety of concerns including
    the subject matter and the goal ([Cleveland [1985] 1994, 135](99-references.html#ref-elementsofgraphingdata)).
    This is one of the reasons that Denby and Mallows ([2009](99-references.html#ref-Denby2009))
    consider histograms to be especially valuable as exploratory tools.
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: 直方图可被视为对数据进行局部平均，分组数量会影响这种平均的程度。当只有两个分组时，平滑程度相当高，但我们会损失大量准确性。分组过少会导致偏差增大，而分组过多则会导致方差增大（[Wasserman
    2005, 303](99-references.html#ref-wasserman)）。我们关于分组数量或其宽度的决策，旨在尝试平衡偏差和方差。这将取决于包括主题和目标在内的多种考量（[Cleveland
    [1985] 1994, 135](99-references.html#ref-elementsofgraphingdata)）。这也是 Denby 和
    Mallows（[2009](99-references.html#ref-Denby2009)）认为直方图作为探索性工具特别有价值的原因之一。
- en: 'Finally, while we can use “fill” to distinguish between different types of
    observations, it can get quite messy. It is usually better to:'
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，虽然我们可以使用“填充”来区分不同类型的观测值，但这可能会变得相当混乱。通常更好的做法是：
- en: trace the outline of the distribution with `geom_freqpoly()` ([Figure 5.18 (a)](#fig-different-obs-1))
  id: totrans-217
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 `geom_freqpoly()` 描绘分布的轮廓（[图 5.18 (a)](#fig-different-obs-1)）
- en: build stack of dots with `geom_dotplot()` ([Figure 5.18 (b)](#fig-different-obs-2));
    or
  id: totrans-218
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 `geom_dotplot()` 构建点堆叠图（[图 5.18 (b)](#fig-different-obs-2)）；或者
- en: add transparency, especially if the differences are more stark ([Figure 5.18
    (c)](#fig-different-obs-3)).
  id: totrans-219
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加透明度，尤其是在差异更为明显时（[图 5.18 (c)](#fig-different-obs-3)）。
- en: '[PRE31]'
  id: totrans-220
  prefs: []
  type: TYPE_PRE
  zh: '[PRE31]'
- en: '*![](../Images/02144b59c88b7acd71d13effeed19f50.png)'
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: '*![](../Images/02144b59c88b7acd71d13effeed19f50.png)'
- en: (a) Tracing the outline
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: (a) 描绘分布轮廓
- en: '![](../Images/5f6ba655ce86980c2e2c80fd707a347f.png)'
  id: totrans-223
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/5f6ba655ce86980c2e2c80fd707a347f.png)'
- en: (b) Using dots
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: (b) 使用点状图
- en: '![](../Images/81b9410addb57e4bc4185727763d2f5a.png)'
  id: totrans-225
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/81b9410addb57e4bc4185727763d2f5a.png)'
- en: (c) Adding transparency
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: (c) 添加透明度
- en: 'Figure 5.18: Distribution of GDP growth across various countries (1960-2020)'
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5.18：各国 GDP 增长分布（1960-2020 年）
- en: An interesting alternative to a histogram is the empirical cumulative distribution
    function (ECDF). The choice between this and a histogram is tends to be audience-specific.
    It may not appropriate for less-sophisticated audiences, but if the audience is
    quantitatively comfortable, then it can be a great choice because it does less
    smoothing than a histogram. We can build an ECDF with `stat_ecdf()`. For instance,
    [Figure 5.19](#fig-ecdfismyfavohidonthavefavs) shows an ECDF equivalent to [Figure 5.16](#fig-hisogramone).
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: 直方图一个有趣的替代方案是经验累积分布函数（ECDF）。在它与直方图之间的选择往往取决于受众。对于不太精通的受众可能不合适，但如果受众在数量分析上比较自如，那么
    ECDF 可能是一个绝佳选择，因为它比直方图进行的平滑处理更少。我们可以使用 `stat_ecdf()` 构建 ECDF。例如，[图 5.19](#fig-ecdfismyfavohidonthavefavs)
    展示了一个与 [图 5.16](#fig-hisogramone) 等价的 ECDF。
- en: '[PRE32]'
  id: totrans-229
  prefs: []
  type: TYPE_PRE
  zh: '[PRE32]'
- en: '*![](../Images/87477d4f0a237a2e468a957fb1e1b603.png)'
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: '*![](../Images/87477d4f0a237a2e468a957fb1e1b603.png)'
- en: 'Figure 5.19: Distribution of GDP growth in four countries (1960-2020)****  ***###
    5.2.5 Boxplots'
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5.19：四国 GDP 增长分布（1960-2020 年）****  ***### 5.2.5 箱线图
- en: 'A boxplot typically shows five aspects: 1) the median, 2) the 25th, and 3)
    75th percentiles. The fourth and fifth elements differ depending on specifics.
    One option is the minimum and maximum values. Another option is to determine the
    difference between the 75th and 25th percentiles, which is the interquartile range
    (IQR). The fourth and fifth elements are then the extreme observations within
    \(1.5\times\mbox{IQR}\) from the 25th and 75th percentiles. That latter approach
    is used, by default, in `geom_boxplot` from `ggplot2`. Spear ([1952, 166](99-references.html#ref-chartingstatistics))
    introduced the notion of a chart that focused on the range and various summary
    statistics including the median and the range, while Tukey ([1977](99-references.html#ref-tukeyeda))
    focused on which summary statistics and popularized it ([Wickham and Stryjewski
    2011](99-references.html#ref-anotherhadleyreferencelol)).'
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: 箱线图通常展示五个方面：1) 中位数，2) 第25百分位数，以及 3) 第75百分位数。第四和第五个元素根据具体情况而有所不同。一种选择是最小值和最大值。另一种选择是确定第75和第25百分位数之间的差值，即四分位距（IQR）。然后，第四和第五个元素是距离第25和第75百分位数
    \(1.5\times\mbox{IQR}\) 范围内的极端观测值。后一种方法是 `ggplot2` 中 `geom_boxplot` 的默认设置。Spear（[1952,
    166](99-references.html#ref-chartingstatistics)）引入了一种图表的理念，该图表侧重于范围和各种汇总统计量，包括中位数和范围，而
    Tukey（[1977](99-references.html#ref-tukeyeda)）则侧重于哪些汇总统计量并推广了它（[Wickham and Stryjewski
    2011](99-references.html#ref-anotherhadleyreferencelol)）。
- en: 'One reason for using graphs is that they help us understand and embrace how
    complex our data are, rather than trying to hide and smooth it away ([Armstrong
    2022](99-references.html#ref-armstrongembracecomplexity)). One appropriate use
    case for boxplots is to compare the summary statistics of many variables at once,
    such as in Bethlehem et al. ([2022](99-references.html#ref-Bethlehem2022)). But
    boxplots alone are rarely the best choice because they hide the distribution of
    data, rather than show it. The same boxplot can apply to very different distributions.
    To see this, consider some simulated data from the beta distribution of two types.
    The first contains draws from two beta distributions: one that is right skewed
    and another that is left skewed. The second contains draws from a beta distribution
    with no skew, noting that \(\mbox{Beta}(1, 1)\) is equivalent to \(\mbox{Uniform}(0,
    1)\).'
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: 使用图表的一个原因是它们能帮助我们理解和接纳数据的复杂性，而不是试图隐藏或平滑掉这种复杂性（[Armstrong 2022](99-references.html#ref-armstrongembracecomplexity)）。箱线图的一个合适用例是同时比较多变量的汇总统计量，例如
    Bethlehem 等人（[2022](99-references.html#ref-Bethlehem2022)）的研究。但仅使用箱线图很少是最佳选择，因为它们隐藏了数据的分布，而不是展示它。同一个箱线图可以适用于非常不同的数据分布。为了说明这一点，请考虑从两种类型的贝塔分布中模拟的一些数据。第一种包含来自两个贝塔分布的抽取：一个是右偏的，另一个是左偏的。第二种包含来自无偏贝塔分布的抽取，注意
    \(\mbox{Beta}(1, 1)\) 等价于 \(\mbox{Uniform}(0, 1)\)。
- en: '[PRE33]'
  id: totrans-234
  prefs: []
  type: TYPE_PRE
  zh: '[PRE33]'
- en: '*We can first compare the boxplots of the two series ([Figure 5.20 (a)](#fig-boxplotfirst-1)).
    But if we plot the actual data then we can see how different they are ([Figure 5.20
    (b)](#fig-boxplotfirst-2)).'
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: '*我们可以先比较两个序列的箱线图（[图 5.20 (a)](#fig-boxplotfirst-1)）。但如果我们绘制实际数据，就能看出它们有多么不同（[图
    5.20 (b)](#fig-boxplotfirst-2)）。'
- en: '[PRE34]'
  id: totrans-236
  prefs: []
  type: TYPE_PRE
  zh: '[PRE34]'
- en: '*![](../Images/7bf1c8209e394081cbf620abf946af3d.png)'
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: '*![](../Images/7bf1c8209e394081cbf620abf946af3d.png)'
- en: (a) Illustrated with a boxplot
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: (a) 使用箱线图说明
- en: '![](../Images/09fa40d0531cb1983a539fd07305bc0f.png)'
  id: totrans-239
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/09fa40d0531cb1983a539fd07305bc0f.png)'
- en: (b) Actual data
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: (b) 实际数据
- en: 'Figure 5.20: Data drawn from beta distributions with different parameters'
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5.20：从具有不同参数的贝塔分布中抽取的数据
- en: One way forward, if a boxplot is to be used, is to include the actual data as
    a layer on top of the boxplot. For instance, in [Figure 5.21](#fig-bloxplotandoverlay)
    we show the distribution of inflation across the four countries. The reason that
    this works well is that it shows the actual observations, as well as the summary
    statistics.
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: 如果要使用箱线图，一种改进方法是将实际数据作为一层叠加在箱线图之上。例如，在[图 5.21](#fig-bloxplotandoverlay) 中，我们展示了四个国家的通货膨胀分布。这种方法效果很好的原因是它既展示了实际观测值，也展示了汇总统计量。
- en: '[PRE35]'
  id: totrans-243
  prefs: []
  type: TYPE_PRE
  zh: '[PRE35]'
- en: '*![](../Images/b5bb77f40492482ccfed5ef8edf8b069.png)'
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: '*![](../Images/b5bb77f40492482ccfed5ef8edf8b069.png)'
- en: 'Figure 5.21: Distribution of inflation data for four countries (1960-2020)***  ***###
    5.2.6 Interactive graphs'
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5.21：四个国家的通货膨胀数据分布（1960-2020年）***  ***### 5.2.6 交互式图表
- en: '`shiny` ([Chang et al. 2021](99-references.html#ref-citeshiny)) is a way of
    making interactive web applications using R. It is fun, but can be a little fiddly.
    Here we are going to step through one way to take advantage of `shiny`, which
    is to quickly add some interactivity to our graphs. This sounds like a small thing,
    but a great example of why it is so powerful is provided by The Economist ([2022a](99-references.html#ref-theeconomistforecasts))
    where they show how their forecasts of the 2022 French Presidential Election changed
    over time.'
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: '`shiny`（[Chang et al. 2021](99-references.html#ref-citeshiny)）是一种使用 R 创建交互式网络应用程序的方法。它很有趣，但可能有点繁琐。这里我们将逐步介绍一种利用
    `shiny` 的方法，即为我们的图表快速添加一些交互性。这听起来是件小事，但《经济学人》（[2022a](99-references.html#ref-theeconomistforecasts)）提供了一个绝佳的例子来说明它为何如此强大，他们展示了其对
    2022 年法国总统选举的预测是如何随时间变化的。'
- en: We are going to make an interactive graph based on the “babynames” dataset from
    `babynames` ([Wickham 2021a](99-references.html#ref-citebabynames)). First, we
    will build a static version ([Figure 5.22](#fig-babynames)).
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将基于 `babynames` 包中的“babynames”数据集（[Wickham 2021a](99-references.html#ref-citebabynames)）创建一个交互式图表。首先，我们将构建一个静态版本（[图
    5.22](#fig-babynames)）。
- en: '[PRE36]'
  id: totrans-248
  prefs: []
  type: TYPE_PRE
  zh: '[PRE36]'
- en: '*![](../Images/c65cab153ddf2848b5ac046b4f75dced.png)'
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: '*![](../Images/c65cab153ddf2848b5ac046b4f75dced.png)'
- en: 'Figure 5.22: Popular baby names*  *One thing that we might be interested in
    is how the effect of the “bins” parameter shapes what we see. We might like to
    use interactivity to explore different values.'
  id: totrans-250
  prefs: []
  type: TYPE_NORMAL
  zh: '**图 5.22：受欢迎的婴儿名字** *我们可能感兴趣的一点是“分箱”参数的效果如何塑造我们所看到的内容。我们或许希望利用交互性来探索不同的数值。'
- en: To get started, create a new `shiny` app (“File” -> “New File” -> “Shiny Web
    App”). Give it a name, such as “not_my_first_shiny” and then leave all the other
    options as the default. A new file “app.R” will open and we click “Run app” to
    see what it looks like.
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，创建一个新的 `shiny` 应用（“文件” -> “新建文件” -> “Shiny Web 应用程序”）。为其命名，例如“not_my_first_shiny”，然后保留所有其他选项为默认设置。一个新文件“app.R”将打开，我们点击“运行应用”来查看其外观。
- en: Now replace the content in that file, “app.R”, with the content below, and then
    again click “Run app”.
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，用以下内容替换该文件“app.R”中的内容，然后再次点击“运行应用”。
- en: '[PRE37]'
  id: totrans-253
  prefs: []
  type: TYPE_PRE
  zh: '[PRE37]'
- en: '*We have just build an interactive graph where the number of bins can be changed.
    It should look like [Figure 5.23](#fig-shinyone).'
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
  zh: '*我们刚刚构建了一个可以更改分箱数量的交互式图表。它应该看起来像 [图 5.23](#fig-shinyone)。'
- en: '![](../Images/a8f2f2339dcde154ff14df52c4bdf5e7.png)'
  id: totrans-255
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/a8f2f2339dcde154ff14df52c4bdf5e7.png)'
- en: 'Figure 5.23: Example of Shiny app where the user controls the number of bins*************************  ****##
    5.3 Tables'
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: '**图 5.23：用户控制分箱数量的 Shiny 应用示例** *************************  ****## 5.3 表格'
- en: 'Tables are an important part of telling a compelling story. Tables can communicate
    less information than a graph, but they do so at a high fidelity. They are especially
    useful to highlight a few specific values ([Andersen and Armstrong 2021](99-references.html#ref-andersen2021presenting)).
    In this book, we primarily use tables in three ways:'
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
  zh: 表格是讲述引人入胜故事的重要组成部分。表格传达的信息可能比图表少，但其保真度更高。它们在突出显示少数特定数值时尤其有用（[Andersen and Armstrong
    2021](99-references.html#ref-andersen2021presenting)）。在本书中，我们主要通过三种方式使用表格：
- en: To show an extract of the dataset.
  id: totrans-258
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 用于展示数据集的摘录。
- en: To communicate summary statistics.
  id: totrans-259
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 用于传达汇总统计信息。
- en: To display regression results.
  id: totrans-260
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 用于展示回归结果。
- en: 5.3.1 Showing part of a dataset
  id: totrans-261
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 5.3.1 显示数据集的一部分
- en: We illustrate showing part of a dataset using `tt()` from `tinytable`. We use
    the World Bank dataset that we downloaded earlier and focus on inflation, GDP
    growth, and population as unemployment data are not available for every year for
    every country.
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: 我们使用 `tinytable` 包中的 `tt()` 函数来演示如何显示数据集的一部分。我们使用之前下载的世界银行数据集，并重点关注通货膨胀率、GDP
    增长率和人口，因为失业数据并非每年每个国家都有。
- en: '[PRE38]'
  id: totrans-263
  prefs: []
  type: TYPE_PRE
  zh: '[PRE38]'
- en: '*To begin, after installing and loading `tinytable`, we can display the first
    ten rows with the default `tt()` settings.'
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: '*首先，在安装并加载 `tinytable` 包后，我们可以使用默认的 `tt()` 设置显示前 10 行。'
- en: '[PRE39]'
  id: totrans-265
  prefs: []
  type: TYPE_PRE
  zh: '[PRE39]'
- en: '*| country | year | inflation | gdp_growth | population |'
  id: totrans-266
  prefs: []
  type: TYPE_NORMAL
  zh: '*| 国家 | 年份 | 通货膨胀率 | GDP 增长率 | 人口 |'
- en: '| --- | --- | --- | --- | --- |'
  id: totrans-267
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- | --- | --- |'
- en: '| Australia | 1960 | 3.7288136 | NA | 10276477 |'
  id: totrans-268
  prefs: []
  type: TYPE_TB
  zh: '| 澳大利亚 | 1960 | 3.7288136 | NA | 10276477 |'
- en: '| Australia | 1961 | 2.2875817 | 2.482656 | 10483000 |'
  id: totrans-269
  prefs: []
  type: TYPE_TB
  zh: '| 澳大利亚 | 1961 | 2.2875817 | 2.482656 | 10483000 |'
- en: '| Australia | 1962 | -0.3194888 | 1.294611 | 10742000 |'
  id: totrans-270
  prefs: []
  type: TYPE_TB
  zh: '| 澳大利亚 | 1962 | -0.3194888 | 1.294611 | 10742000 |'
- en: '| Australia | 1963 | 0.6410256 | 6.216107 | 10950000 |'
  id: totrans-271
  prefs: []
  type: TYPE_TB
  zh: '| 澳大利亚 | 1963 | 0.6410256 | 6.216107 | 10950000 |'
- en: '| Australia | 1964 | 2.8662420 | 6.980061 | 11167000 |'
  id: totrans-272
  prefs: []
  type: TYPE_TB
  zh: '| 澳大利亚 | 1964 | 2.8662420 | 6.980061 | 11167000 |'
- en: '| Australia | 1965 | 3.4055728 | 5.980438 | 11388000 |'
  id: totrans-273
  prefs: []
  type: TYPE_TB
  zh: '| 澳大利亚 | 1965 | 3.4055728 | 5.980438 | 11388000 |'
- en: '| Australia | 1966 | 3.2934132 | 2.379040 | 11651000 |'
  id: totrans-274
  prefs: []
  type: TYPE_TB
  zh: '| 澳大利亚 | 1966 | 3.2934132 | 2.379040 | 11,651,000 |'
- en: '| Australia | 1967 | 3.4782609 | 6.304945 | 11799000 |'
  id: totrans-275
  prefs: []
  type: TYPE_TB
  zh: '| 澳大利亚 | 1967 | 3.4782609 | 6.304945 | 11,799,000 |'
- en: '| Australia | 1968 | 2.5210084 | 5.094034 | 12009000 |'
  id: totrans-276
  prefs: []
  type: TYPE_TB
  zh: '| 澳大利亚 | 1968 | 2.5210084 | 5.094034 | 12,009,000 |'
- en: '| Australia | 1969 | 3.2786885 | 7.045584 | 12263000 |*  *To be able to cross-reference
    a table in the text, we need to add a table caption and label to the R chunk as
    shown in [Section 3.2.7](03-workflow.html#sec-quartocrossreferences) of [Chapter
    3](03-workflow.html). We can also make the column names more informative with
    `setNames` and specify the number of digits to be displayed ([Table 5.3](#tbl-gdpfirst)).'
  id: totrans-277
  prefs: []
  type: TYPE_NORMAL
  zh: '| 澳大利亚 | 1969 | 3.2786885 | 7.045584 | 12,263,000 |*  *为了能够在文本中交叉引用表格，我们需要按照[第
    3 章](03-workflow.html) [第 3.2.7 节](03-workflow.html#sec-quartocrossreferences)所示，为
    R 代码块添加表格标题和标签。我们还可以使用 `setNames` 使列名更具信息性，并指定要显示的小数位数（[表 5.3](#tbl-gdpfirst)）。'
- en: '[PRE40]{r}'
  id: totrans-278
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE40]{r}'
- en: '#| label: tbl-gdpfirst'
  id: totrans-279
  prefs: []
  type: TYPE_NORMAL
  zh: '#| label: tbl-gdpfirst'
- en: '#| message: false'
  id: totrans-280
  prefs: []
  type: TYPE_NORMAL
  zh: '#| message: false'
- en: '#| tbl-cap: "A dataset of economic indicators for four countries"'
  id: totrans-281
  prefs: []
  type: TYPE_NORMAL
  zh: '#| tbl-cap: "四国经济指标数据集"'
- en: world_bank_data |>
  id: totrans-282
  prefs: []
  type: TYPE_NORMAL
  zh: world_bank_data |>
- en: slice(1:10) |>
  id: totrans-283
  prefs: []
  type: TYPE_NORMAL
  zh: slice(1:10) |>
- en: tt() |>
  id: totrans-284
  prefs: []
  type: TYPE_NORMAL
  zh: tt() |>
- en: style_tt(j = 2:5, align = "r") |>
  id: totrans-285
  prefs: []
  type: TYPE_NORMAL
  zh: style_tt(j = 2:5, align = "r") |>
- en: format_tt(digits = 1, num_fmt = "decimal") |>
  id: totrans-286
  prefs: []
  type: TYPE_NORMAL
  zh: format_tt(digits = 1, num_fmt = "decimal") |>
- en: setNames(c("Country", "Year", "Inflation", "GDP growth", "Population"))
  id: totrans-287
  prefs: []
  type: TYPE_NORMAL
  zh: setNames(c("国家", "年份", "通货膨胀率", "GDP增长率", "人口"))
- en: '[PRE41]'
  id: totrans-288
  prefs: []
  type: TYPE_PRE
  zh: '[PRE41]'
- en: '*Table 5.3: A dataset of economic indicators for four countries'
  id: totrans-289
  prefs: []
  type: TYPE_NORMAL
  zh: '*表 5.3: 四国经济指标数据集'
- en: '| Country | Year | Inflation | GDP growth | Population |'
  id: totrans-290
  prefs: []
  type: TYPE_TB
  zh: '| 国家 | 年份 | 通货膨胀率 | GDP增长率 | 人口 |'
- en: '| --- | --- | --- | --- | --- |'
  id: totrans-291
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- | --- | --- |'
- en: '| Australia | 1960 | 3.7 |  | 10276477 |'
  id: totrans-292
  prefs: []
  type: TYPE_TB
  zh: '| 澳大利亚 | 1960 | 3.7 |  | 10,276,477 |'
- en: '| Australia | 1961 | 2.3 | 2.5 | 10483000 |'
  id: totrans-293
  prefs: []
  type: TYPE_TB
  zh: '| 澳大利亚 | 1961 | 2.3 | 2.5 | 10,483,000 |'
- en: '| Australia | 1962 | -0.3 | 1.3 | 10742000 |'
  id: totrans-294
  prefs: []
  type: TYPE_TB
  zh: '| 澳大利亚 | 1962 | -0.3 | 1.3 | 10,742,000 |'
- en: '| Australia | 1963 | 0.6 | 6.2 | 10950000 |'
  id: totrans-295
  prefs: []
  type: TYPE_TB
  zh: '| 澳大利亚 | 1963 | 0.6 | 6.2 | 10,950,000 |'
- en: '| Australia | 1964 | 2.9 | 7 | 11167000 |'
  id: totrans-296
  prefs: []
  type: TYPE_TB
  zh: '| 澳大利亚 | 1964 | 2.9 | 7 | 11,167,000 |'
- en: '| Australia | 1965 | 3.4 | 6 | 11388000 |'
  id: totrans-297
  prefs: []
  type: TYPE_TB
  zh: '| 澳大利亚 | 1965 | 3.4 | 6 | 11,388,000 |'
- en: '| Australia | 1966 | 3.3 | 2.4 | 11651000 |'
  id: totrans-298
  prefs: []
  type: TYPE_TB
  zh: '| 澳大利亚 | 1966 | 3.3 | 2.4 | 11,651,000 |'
- en: '| Australia | 1967 | 3.5 | 6.3 | 11799000 |'
  id: totrans-299
  prefs: []
  type: TYPE_TB
  zh: '| 澳大利亚 | 1967 | 3.5 | 6.3 | 11,799,000 |'
- en: '| Australia | 1968 | 2.5 | 5.1 | 12009000 |'
  id: totrans-300
  prefs: []
  type: TYPE_TB
  zh: '| 澳大利亚 | 1968 | 2.5 | 5.1 | 12,009,000 |'
- en: '| Australia | 1969 | 3.3 | 7 | 12263000 |***  ***### 5.3.2 Improving the formatting'
  id: totrans-301
  prefs: []
  type: TYPE_NORMAL
  zh: '| 澳大利亚 | 1969 | 3.3 | 7 | 12,263,000 |***  ***### 5.3.2 改进格式'
- en: We can specify the alignment of the columns using `style_tt()` and a character
    vector of “l” (left), “c” (center), and “r” (right) ([Table 5.4](#tbl-gdpalign)).
    We specify which columns this applies to by using `j` and specifying the column
    number. Additionally, we can change the formatting. For instance, we could specify
    groupings for numbers that are at least 1,000 using `num_mark_big = ","`.
  id: totrans-302
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以使用 `style_tt()` 和一个由“l”（左）、“c”（中）和“r”（右）组成的字符向量来指定列的对齐方式（[表 5.4](#tbl-gdpalign)）。我们通过使用
    `j` 并指定列号来指明此设置适用于哪些列。此外，我们还可以更改格式。例如，我们可以使用 `num_mark_big = ","` 为至少为 1,000 的数字指定分组。
- en: '[PRE42]'
  id: totrans-303
  prefs: []
  type: TYPE_PRE
  zh: '[PRE42]'
- en: '*Table 5.4: First ten rows of a dataset of economic indicators for Australia,
    Ethiopia, India, and the United States'
  id: totrans-304
  prefs: []
  type: TYPE_NORMAL
  zh: '*表 5.4: 澳大利亚、埃塞俄比亚、印度和美国经济指标数据集的前十行'
- en: '| Country | Year | Inflation | GDP growth | Population |'
  id: totrans-305
  prefs: []
  type: TYPE_TB
  zh: '| 国家 | 年份 | 通货膨胀率 | GDP增长率 | 人口 |'
- en: '| --- | --- | --- | --- | --- |'
  id: totrans-306
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- | --- | --- |'
- en: '| Australia | 1960 | 3.7 |  | 10,276,477 |'
  id: totrans-307
  prefs: []
  type: TYPE_TB
  zh: '| 澳大利亚 | 1960 | 3.7 |  | 10,276,477 |'
- en: '| Australia | 1961 | 2.3 | 2.5 | 10,483,000 |'
  id: totrans-308
  prefs: []
  type: TYPE_TB
  zh: '| 澳大利亚 | 1961 | 2.3 | 2.5 | 10,483,000 |'
- en: '| Australia | 1962 | -0.3 | 1.3 | 10,742,000 |'
  id: totrans-309
  prefs: []
  type: TYPE_TB
  zh: '| 澳大利亚 | 1962 | -0.3 | 1.3 | 10,742,000 |'
- en: '| Australia | 1963 | 0.6 | 6.2 | 10,950,000 |'
  id: totrans-310
  prefs: []
  type: TYPE_TB
  zh: '| 澳大利亚 | 1963 | 0.6 | 6.2 | 10,950,000 |'
- en: '| Australia | 1964 | 2.9 | 7 | 11,167,000 |'
  id: totrans-311
  prefs: []
  type: TYPE_TB
  zh: '| 澳大利亚 | 1964 | 2.9 | 7 | 11,167,000 |'
- en: '| Australia | 1965 | 3.4 | 6 | 11,388,000 |'
  id: totrans-312
  prefs: []
  type: TYPE_TB
  zh: '| 澳大利亚 | 1965 | 3.4 | 6 | 11,388,000 |'
- en: '| Australia | 1966 | 3.3 | 2.4 | 11,651,000 |'
  id: totrans-313
  prefs: []
  type: TYPE_TB
  zh: '| 澳大利亚 | 1966 | 3.3 | 2.4 | 11,651,000 |'
- en: '| Australia | 1967 | 3.5 | 6.3 | 11,799,000 |'
  id: totrans-314
  prefs: []
  type: TYPE_TB
  zh: '| 澳大利亚 | 1967 | 3.5 | 6.3 | 11,799,000 |'
- en: '| Australia | 1968 | 2.5 | 5.1 | 12,009,000 |'
  id: totrans-315
  prefs: []
  type: TYPE_TB
  zh: '| 澳大利亚 | 1968 | 2.5 | 5.1 | 12,009,000 |'
- en: '| Australia | 1969 | 3.3 | 7 | 12,263,000 |*  *### 5.3.3 Communicating summary
    statistics'
  id: totrans-316
  prefs: []
  type: TYPE_NORMAL
  zh: '| 澳大利亚 | 1969 | 3.3 | 7 | 12,263,000 |*  *### 5.3.3 传达汇总统计信息'
- en: After installing and loading `modelsummary` we can use `datasummary_skim()`
    to create tables of summary statistics from our dataset.
  id: totrans-317
  prefs: []
  type: TYPE_NORMAL
  zh: 安装并加载 `modelsummary` 后，我们可以使用 `datasummary_skim()` 从数据集中创建汇总统计表。
- en: We can use this to get a table such as [Table 5.5](#tbl-testdatasummarynormal).
    That might be useful for exploratory data analysis, which we cover in [Chapter
    11](11-eda.html). (Here we remove population to save space and do not include
    a histogram of each variable.)
  id: totrans-318
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以利用此功能生成诸如[表 5.5](#tbl-testdatasummarynormal) 的表格。这对于我们将在[第 11 章](11-eda.html)介绍的探索性数据分析可能很有用。（此处我们为节省空间移除了人口数据，且未包含每个变量的直方图。）
- en: '[PRE43]'
  id: totrans-319
  prefs: []
  type: TYPE_PRE
  zh: '[PRE43]'
- en: '*Table 5.5: Summary of economic indicator variables for four countries'
  id: totrans-320
  prefs: []
  type: TYPE_NORMAL
  zh: '*表 5.5：四个国家经济指标变量摘要'
- en: '|  | Unique | Missing Pct. | Mean | SD | Min | Median | Max |'
  id: totrans-321
  prefs: []
  type: TYPE_TB
  zh: '|  | 唯一值 | 缺失百分比 | 均值 | 标准差 | 最小值 | 中位数 | 最大值 |'
- en: '| --- | --- | --- | --- | --- | --- | --- | --- |'
  id: totrans-322
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- | --- | --- | --- | --- | --- |'
- en: '| year | 62 | 0 | 1990.5 | 17.9 | 1960.0 | 1990.5 | 2021.0 |'
  id: totrans-323
  prefs: []
  type: TYPE_TB
  zh: '| 年份 | 62 | 0 | 1990.5 | 17.9 | 1960.0 | 1990.5 | 2021.0 |'
- en: '| inflation | 243 | 2 | 6.1 | 6.5 | -9.8 | 4.3 | 44.4 |'
  id: totrans-324
  prefs: []
  type: TYPE_TB
  zh: '| inflation | 243 | 2 | 6.1 | 6.5 | -9.8 | 4.3 | 44.4 |'
- en: '| gdp_growth | 224 | 10 | 4.2 | 3.7 | -11.1 | 3.9 | 13.9 |'
  id: totrans-325
  prefs: []
  type: TYPE_TB
  zh: '| gdp_growth | 224 | 10 | 4.2 | 3.7 | -11.1 | 3.9 | 13.9 |'
- en: '| country | N | % |  |  |  |  |  |'
  id: totrans-326
  prefs: []
  type: TYPE_TB
  zh: '| 国家 | 数量 | 百分比 |  |  |  |  |  |'
- en: '| Australia | 62 | 25.0 |  |  |  |  |  |'
  id: totrans-327
  prefs: []
  type: TYPE_TB
  zh: '| 澳大利亚 | 62 | 25.0 |  |  |  |  |  |'
- en: '| Ethiopia | 62 | 25.0 |  |  |  |  |  |'
  id: totrans-328
  prefs: []
  type: TYPE_TB
  zh: '| 埃塞俄比亚 | 62 | 25.0 |  |  |  |  |  |'
- en: '| India | 62 | 25.0 |  |  |  |  |  |'
  id: totrans-329
  prefs: []
  type: TYPE_TB
  zh: '| 印度 | 62 | 25.0 |  |  |  |  |  |'
- en: '| United States | 62 | 25.0 |  |  |  |  |  |*  *By default, `datasummary_skim()`
    summarizes the numeric variables, but we can ask for the categorical variables
    ([Table 5.6](#tbl-testdatasummary)). Additionally we can add cross-references
    in the same way as `kable()`, that is, include a “tbl-cap” entry and then cross-reference
    the name of the R chunk.'
  id: totrans-330
  prefs: []
  type: TYPE_NORMAL
  zh: '| 美国 | 62 | 25.0 |  |  |  |  |  |*  *默认情况下，`datasummary_skim()` 会汇总数值变量，但我们也可以要求其汇总分类变量（[表
    5.6](#tbl-testdatasummary)）。此外，我们可以像使用 `kable()` 一样添加交叉引用，即包含一个“tbl-cap”条目，然后交叉引用
    R 代码块的名称。'
- en: '[PRE44]'
  id: totrans-331
  prefs: []
  type: TYPE_PRE
  zh: '[PRE44]'
- en: '*Table 5.6: Summary of categorical economic indicator variables for four countries'
  id: totrans-332
  prefs: []
  type: TYPE_NORMAL
  zh: '*表 5.6：四个国家分类经济指标变量摘要'
- en: '| country | N | % |'
  id: totrans-333
  prefs: []
  type: TYPE_TB
  zh: '| 国家 | 数量 | 百分比 |'
- en: '| --- | --- | --- |'
  id: totrans-334
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- |'
- en: '| Australia | 62 | 25.0 |'
  id: totrans-335
  prefs: []
  type: TYPE_TB
  zh: '| 澳大利亚 | 62 | 25.0 |'
- en: '| Ethiopia | 62 | 25.0 |'
  id: totrans-336
  prefs: []
  type: TYPE_TB
  zh: '| 埃塞俄比亚 | 62 | 25.0 |'
- en: '| India | 62 | 25.0 |'
  id: totrans-337
  prefs: []
  type: TYPE_TB
  zh: '| 印度 | 62 | 25.0 |'
- en: '| United States | 62 | 25.0 |*  *We can create a table that shows the correlation
    between variables using `datasummary_correlation()` ([Table 5.7](#tbl-correlationtable)).'
  id: totrans-338
  prefs: []
  type: TYPE_NORMAL
  zh: '| 美国 | 62 | 25.0 |*  *我们可以使用 `datasummary_correlation()` 创建一个显示变量间相关性的表格（[表
    5.7](#tbl-correlationtable)）。'
- en: '[PRE45]'
  id: totrans-339
  prefs: []
  type: TYPE_PRE
  zh: '[PRE45]'
- en: '*Table 5.7: Correlation between the economic indicator variables for four countries
    (Australia, Ethiopia, India, and the United States)'
  id: totrans-340
  prefs: []
  type: TYPE_NORMAL
  zh: '*表 5.7：四个国家（澳大利亚、埃塞俄比亚、印度和美国）经济指标变量之间的相关性'
- en: '|  | year | inflation | gdp_growth | population |'
  id: totrans-341
  prefs: []
  type: TYPE_TB
  zh: '|  | 年份 | inflation | gdp_growth | population |'
- en: '| --- | --- | --- | --- | --- |'
  id: totrans-342
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- | --- | --- |'
- en: '| year | 1 | . | . | . |'
  id: totrans-343
  prefs: []
  type: TYPE_TB
  zh: '| 年份 | 1 | . | . | . |'
- en: '| inflation | .03 | 1 | . | . |'
  id: totrans-344
  prefs: []
  type: TYPE_TB
  zh: '| inflation | .03 | 1 | . | . |'
- en: '| gdp_growth | .11 | .01 | 1 | . |'
  id: totrans-345
  prefs: []
  type: TYPE_TB
  zh: '| gdp_growth | .11 | .01 | 1 | . |'
- en: '| population | .25 | .06 | .16 | 1 |*  *We typically need a table of descriptive
    statistics that we could add to our paper ([Table 5.8](#tbl-descriptivestats)).
    This contrasts with [Table 5.6](#tbl-testdatasummary) which would likely not be
    included in the main section of a paper, and is more to help us understand the
    data. We can add a note about the source of the data using `notes`.'
  id: totrans-346
  prefs: []
  type: TYPE_NORMAL
  zh: '| population | .25 | .06 | .16 | 1 |*  *我们通常需要一个描述性统计表格，以便添加到论文中（[表 5.8](#tbl-descriptivestats)）。这与[表
    5.6](#tbl-testdatasummary) 形成对比，后者可能不会包含在论文的主体部分，更多是帮助我们理解数据。我们可以使用 `notes` 添加关于数据来源的注释。'
- en: '[PRE46]'
  id: totrans-347
  prefs: []
  type: TYPE_PRE
  zh: '[PRE46]'
- en: '*Table 5.8: Descriptive statistics for the inflation and GDP dataset'
  id: totrans-348
  prefs: []
  type: TYPE_NORMAL
  zh: '*表 5.8：通货膨胀与 GDP 数据集的描述性统计'
- en: '|  | Australia (N=62) | Ethiopia (N=62) |'
  id: totrans-349
  prefs: []
  type: TYPE_TB
  zh: '|  | 澳大利亚 (N=62) | 埃塞俄比亚 (N=62) |'
- en: '| :-: | :-: | :-: |'
  id: totrans-350
  prefs: []
  type: TYPE_TB
  zh: '| :-: | :-: | :-: |'
- en: '|  | Mean | Std. Dev. | Mean | Std. Dev. |'
  id: totrans-351
  prefs: []
  type: TYPE_TB
  zh: '|  | 均值 | 标准差 | 均值 | 标准差 |'
- en: '| --- | --- | --- | --- | --- |'
  id: totrans-352
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- | --- | --- |'
- en: '| Data source: World Bank. |'
  id: totrans-353
  prefs: []
  type: TYPE_TB
  zh: '| 数据来源：世界银行。 |'
- en: '| year | 1990.5 | 18.0 | 1990.5 | 18.0 |'
  id: totrans-354
  prefs: []
  type: TYPE_TB
  zh: '| 年份 | 1990.5 | 18.0 | 1990.5 | 18.0 |'
- en: '| inflation | 4.7 | 3.8 | 9.1 | 10.6 |'
  id: totrans-355
  prefs: []
  type: TYPE_TB
  zh: '| inflation | 4.7 | 3.8 | 9.1 | 10.6 |'
- en: '| gdp_growth | 3.4 | 1.8 | 5.9 | 6.4 |'
  id: totrans-356
  prefs: []
  type: TYPE_TB
  zh: '| gdp_growth | 3.4 | 1.8 | 5.9 | 6.4 |'
- en: '| population | 17351313.1 | 4407899.0 | 57185292.0 | 29328845.8 |****  ***###
    5.3.4 Display regression results'
  id: totrans-357
  prefs: []
  type: TYPE_NORMAL
  zh: '| population | 17351313.1 | 4407899.0 | 57185292.0 | 29328845.8 |****  ***###
    5.3.4 展示回归结果'
- en: We can report regression results using `modelsummary()` from `modelsummary`.
    For instance, we could display the estimates from a few different models ([Table 5.9](#tbl-twomodels)).
  id: totrans-358
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以使用 `modelsummary` 包中的 `modelsummary()` 来报告回归结果。例如，我们可以展示几个不同模型的估计值（[表 5.9](#tbl-twomodels)）。
- en: '[PRE47]'
  id: totrans-359
  prefs: []
  type: TYPE_PRE
  zh: '[PRE47]'
- en: '*Table 5.9: Explaining GDP as a function of inflation'
  id: totrans-360
  prefs: []
  type: TYPE_NORMAL
  zh: '*表 5.9：以通货膨胀为自变量解释 GDP'
- en: '|  | (1) | (2) | (3) |'
  id: totrans-361
  prefs: []
  type: TYPE_TB
  zh: '|  | (1) | (2) | (3) |'
- en: '| --- | --- | --- | --- |'
  id: totrans-362
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- | --- |'
- en: '| (Intercept) | 4.147 | 3.676 | 3.611 |'
  id: totrans-363
  prefs: []
  type: TYPE_TB
  zh: '| (Intercept) | 4.147 | 3.676 | 3.611 |'
- en: '|  | (0.343) | (0.484) | (0.482) |'
  id: totrans-364
  prefs: []
  type: TYPE_TB
  zh: '|  | (0.343) | (0.484) | (0.482) |'
- en: '| inflation | 0.006 | -0.068 | -0.065 |'
  id: totrans-365
  prefs: []
  type: TYPE_TB
  zh: '| inflation | 0.006 | -0.068 | -0.065 |'
- en: '|  | (0.039) | (0.040) | (0.039) |'
  id: totrans-366
  prefs: []
  type: TYPE_TB
  zh: '|  | (0.039) | (0.040) | (0.039) |'
- en: '| countryEthiopia |  | 2.896 | 2.716 |'
  id: totrans-367
  prefs: []
  type: TYPE_TB
  zh: '| countryEthiopia |  | 2.896 | 2.716 |'
- en: '|  |  | (0.740) | (0.740) |'
  id: totrans-368
  prefs: []
  type: TYPE_TB
  zh: '|  |  | (0.740) | (0.740) |'
- en: '| countryIndia |  | 1.916 | -0.730 |'
  id: totrans-369
  prefs: []
  type: TYPE_TB
  zh: '| countryIndia |  | 1.916 | -0.730 |'
- en: '|  |  | (0.642) | (1.465) |'
  id: totrans-370
  prefs: []
  type: TYPE_TB
  zh: '|  |  | (0.642) | (1.465) |'
- en: '| countryUnited States |  | -0.436 | -1.145 |'
  id: totrans-371
  prefs: []
  type: TYPE_TB
  zh: '| countryUnited States |  | -0.436 | -1.145 |'
- en: '|  |  | (0.633) | (0.722) |'
  id: totrans-372
  prefs: []
  type: TYPE_TB
  zh: '|  |  | (0.633) | (0.722) |'
- en: '| population |  |  | 0.000 |'
  id: totrans-373
  prefs: []
  type: TYPE_TB
  zh: '| population |  |  | 0.000 |'
- en: '|  |  |  | (0.000) |'
  id: totrans-374
  prefs: []
  type: TYPE_TB
  zh: '|  |  |  | (0.000) |'
- en: '| Num.Obs. | 223 | 223 | 223 |'
  id: totrans-375
  prefs: []
  type: TYPE_TB
  zh: '| Num.Obs. | 223 | 223 | 223 |'
- en: '| R2 | 0.000 | 0.111 | 0.127 |'
  id: totrans-376
  prefs: []
  type: TYPE_TB
  zh: '| R2 | 0.000 | 0.111 | 0.127 |'
- en: '| R2 Adj. | -0.004 | 0.095 | 0.107 |'
  id: totrans-377
  prefs: []
  type: TYPE_TB
  zh: '| R2 Adj. | -0.004 | 0.095 | 0.107 |'
- en: '| AIC | 1217.7 | 1197.5 | 1195.4 |'
  id: totrans-378
  prefs: []
  type: TYPE_TB
  zh: '| AIC | 1217.7 | 1197.5 | 1195.4 |'
- en: '| BIC | 1227.9 | 1217.9 | 1219.3 |'
  id: totrans-379
  prefs: []
  type: TYPE_TB
  zh: '| BIC | 1227.9 | 1217.9 | 1219.3 |'
- en: '| Log.Lik. | -605.861 | -592.752 | -590.704 |'
  id: totrans-380
  prefs: []
  type: TYPE_TB
  zh: '| Log.Lik. | -605.861 | -592.752 | -590.704 |'
- en: '| F | 0.024 | 6.806 |  |'
  id: totrans-381
  prefs: []
  type: TYPE_TB
  zh: '| F | 0.024 | 6.806 |  |'
- en: '| RMSE | 3.66 | 3.45 | 3.42 |*  *The number of significant digits can be adjusted
    with “fmt” ([Table 5.10](#tbl-twomodelstwo)). To help establish credibility you
    should generally not add as many significant digits as possible ([Howes 2022](99-references.html#ref-howes2022representing)).
    Instead, you should think carefully about the data-generating process and adjust
    based on that.'
  id: totrans-382
  prefs: []
  type: TYPE_NORMAL
  zh: '| RMSE | 3.66 | 3.45 | 3.42 |*  *有效数字的位数可以通过“fmt”进行调整（[表 5.10](#tbl-twomodelstwo)）。为了帮助建立可信度，通常不应添加尽可能多的有效数字（[Howes
    2022](99-references.html#ref-howes2022representing)）。相反，你应该仔细考虑数据生成过程并据此进行调整。'
- en: '[PRE48]'
  id: totrans-383
  prefs: []
  type: TYPE_PRE
  zh: '[PRE48]'
- en: '*Table 5.10: Three models of GDP as a function of inflation'
  id: totrans-384
  prefs: []
  type: TYPE_NORMAL
  zh: '*表 5.10：以通货膨胀为自变量的三个 GDP 模型'
- en: '|  | (1) | (2) | (3) |'
  id: totrans-385
  prefs: []
  type: TYPE_TB
  zh: '|  | (1) | (2) | (3) |'
- en: '| --- | --- | --- | --- |'
  id: totrans-386
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- | --- |'
- en: '| (Intercept) | 4.1 | 3.7 | 3.6 |'
  id: totrans-387
  prefs: []
  type: TYPE_TB
  zh: '| (Intercept) | 4.1 | 3.7 | 3.6 |'
- en: '|  | (0.3) | (0.5) | (0.5) |'
  id: totrans-388
  prefs: []
  type: TYPE_TB
  zh: '|  | (0.3) | (0.5) | (0.5) |'
- en: '| inflation | 0.0 | -0.1 | -0.1 |'
  id: totrans-389
  prefs: []
  type: TYPE_TB
  zh: '| inflation | 0.0 | -0.1 | -0.1 |'
- en: '|  | (0.0) | (0.0) | (0.0) |'
  id: totrans-390
  prefs: []
  type: TYPE_TB
  zh: '|  | (0.0) | (0.0) | (0.0) |'
- en: '| countryEthiopia |  | 2.9 | 2.7 |'
  id: totrans-391
  prefs: []
  type: TYPE_TB
  zh: '| countryEthiopia |  | 2.9 | 2.7 |'
- en: '|  |  | (0.7) | (0.7) |'
  id: totrans-392
  prefs: []
  type: TYPE_TB
  zh: '|  |  | (0.7) | (0.7) |'
- en: '| countryIndia |  | 1.9 | -0.7 |'
  id: totrans-393
  prefs: []
  type: TYPE_TB
  zh: '| countryIndia |  | 1.9 | -0.7 |'
- en: '|  |  | (0.6) | (1.5) |'
  id: totrans-394
  prefs: []
  type: TYPE_TB
  zh: '|  |  | (0.6) | (1.5) |'
- en: '| countryUnited States |  | -0.4 | -1.1 |'
  id: totrans-395
  prefs: []
  type: TYPE_TB
  zh: '| countryUnited States |  | -0.4 | -1.1 |'
- en: '|  |  | (0.6) | (0.7) |'
  id: totrans-396
  prefs: []
  type: TYPE_TB
  zh: '|  |  | (0.6) | (0.7) |'
- en: '| population |  |  | 0.0 |'
  id: totrans-397
  prefs: []
  type: TYPE_TB
  zh: '| population |  |  | 0.0 |'
- en: '|  |  |  | (0.0) |'
  id: totrans-398
  prefs: []
  type: TYPE_TB
  zh: '|  |  |  | (0.0) |'
- en: '| Num.Obs. | 223 | 223 | 223 |'
  id: totrans-399
  prefs: []
  type: TYPE_TB
  zh: '| Num.Obs. | 223 | 223 | 223 |'
- en: '| R2 | 0.000 | 0.111 | 0.127 |'
  id: totrans-400
  prefs: []
  type: TYPE_TB
  zh: '| R2 | 0.000 | 0.111 | 0.127 |'
- en: '| R2 Adj. | -0.004 | 0.095 | 0.107 |'
  id: totrans-401
  prefs: []
  type: TYPE_TB
  zh: '| R2 Adj. | -0.004 | 0.095 | 0.107 |'
- en: '| AIC | 1217.7 | 1197.5 | 1195.4 |'
  id: totrans-402
  prefs: []
  type: TYPE_TB
  zh: '| AIC | 1217.7 | 1197.5 | 1195.4 |'
- en: '| BIC | 1227.9 | 1217.9 | 1219.3 |'
  id: totrans-403
  prefs: []
  type: TYPE_TB
  zh: '| BIC | 1227.9 | 1217.9 | 1219.3 |'
- en: '| Log.Lik. | -605.861 | -592.752 | -590.704 |'
  id: totrans-404
  prefs: []
  type: TYPE_TB
  zh: '| Log.Lik. | -605.861 | -592.752 | -590.704 |'
- en: '| F | 0.024 | 6.806 |  |'
  id: totrans-405
  prefs: []
  type: TYPE_TB
  zh: '| F | 0.024 | 6.806 |  |'
- en: '| RMSE | 3.66 | 3.45 | 3.42 |*********  ***## 5.4 Maps'
  id: totrans-406
  prefs: []
  type: TYPE_NORMAL
  zh: '| RMSE | 3.66 | 3.45 | 3.42 |*********  ***## 5.4 地图'
- en: In many ways maps can be thought of as another type of graph, where the x-axis
    is latitude, the y-axis is longitude, and there is some outline or background
    image. It is possible that they are the oldest and best understood type of chart
    ([Karsten 1923, 1](99-references.html#ref-karsetn)). We can generate a map in
    a straight-forward manner. That said, it is not to be taken lightly; things quickly
    get complicated!
  id: totrans-407
  prefs: []
  type: TYPE_NORMAL
  zh: 在许多方面，地图可以被视为另一种类型的图表，其中x轴是纬度，y轴是经度，并且有一些轮廓或背景图像。它们可能是最古老且最被理解的图表类型（[Karsten
    1923, 1](99-references.html#ref-karsetn)）。我们可以用一种直接的方式生成地图。话虽如此，这并非易事；事情很快就会变得复杂起来！
- en: The first step is to get some data. There is some geographic data built into
    `ggplot2` that we can access with `map_data()`. There are additional variables
    in the `world.cities` dataset from `maps`.
  id: totrans-408
  prefs: []
  type: TYPE_NORMAL
  zh: 第一步是获取一些数据。`ggplot2` 内置了一些地理数据，我们可以通过 `map_data()` 访问。`maps` 包中的 `world.cities`
    数据集包含额外的变量。
- en: '[PRE49]'
  id: totrans-409
  prefs: []
  type: TYPE_PRE
  zh: '[PRE49]'
- en: '*[PRE50]'
  id: totrans-410
  prefs: []
  type: TYPE_NORMAL
  zh: '*[PRE50]'
- en: '[PRE51]'
  id: totrans-411
  prefs: []
  type: TYPE_PRE
  zh: '[PRE51]'
- en: '*[PRE52]**  **Using that information you can create a map of France that shows
    the larger cities ([Figure 5.24](#fig-heyitsfrance)). Use `geom_polygon()` from
    `ggplot2` to draw shapes by connecting points within groups. And `coord_map()`
    adjusts for the fact that we are making a 2D map to represent a world that is
    3D.'
  id: totrans-412
  prefs: []
  type: TYPE_NORMAL
  zh: '*[PRE52]**  **利用这些信息，你可以创建一张显示法国主要城市的地图（[图 5.24](#fig-heyitsfrance)）。使用 `ggplot2`
    中的 `geom_polygon()` 通过连接组内的点来绘制形状。而 `coord_map()` 则用于调整我们用二维地图表示三维世界这一事实。'
- en: '[PRE53]'
  id: totrans-413
  prefs: []
  type: TYPE_PRE
  zh: '[PRE53]'
- en: '*![](../Images/d8a5b96ca8dd4d58fec6e533131d4227.png)'
  id: totrans-414
  prefs: []
  type: TYPE_NORMAL
  zh: '*![](../Images/d8a5b96ca8dd4d58fec6e533131d4227.png)'
- en: 'Figure 5.24: Map of France showing the largest cities*  *As is often the case
    with R, there are many ways to get started creating static maps. We have seen
    how they can be built using only `ggplot2`, but `ggmap` brings additional functionality.'
  id: totrans-415
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5.24：显示法国最大城市的地图*  *正如在 R 中常见的情况一样，创建静态地图有很多种方法。我们已经看到了如何仅使用 `ggplot2` 来构建它们，但
    `ggmap` 带来了额外的功能。
- en: 'There are two essential components to a map:'
  id: totrans-416
  prefs: []
  type: TYPE_NORMAL
  zh: 地图有两个基本组成部分：
- en: a border or background image (sometimes called a tile); and
  id: totrans-417
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一个边界或背景图像（有时称为瓦片）；以及
- en: something of interest within that border, or on top of that tile.
  id: totrans-418
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 该边界内或该瓦片上的某些兴趣点。
- en: In `ggmap`, we use an open-source option for our tile, Stamen Maps. And we use
    plot points based on latitude and longitude.
  id: totrans-419
  prefs: []
  type: TYPE_NORMAL
  zh: 在 `ggmap` 中，我们使用开源选项 Stamen Maps 作为我们的瓦片。我们根据纬度和经度来绘制点。
- en: 5.4.1 Static maps
  id: totrans-420
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 5.4.1 静态地图
- en: 5.4.1.1 Australian polling places
  id: totrans-421
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 5.4.1.1 澳大利亚投票站
- en: In Australia, people have to go to “booths” in order to vote. Because the booths
    have coordinates (latitude and longitude), we can plot them. One reason we may
    like to do that is to notice spatial voting patterns.
  id: totrans-422
  prefs: []
  type: TYPE_NORMAL
  zh: 在澳大利亚，人们必须前往“投票站”才能投票。由于投票站有坐标（纬度和经度），我们可以将它们绘制出来。我们可能想这样做的一个原因是观察空间投票模式。
- en: To get started we need to get a tile. We are going to use `ggmap` to get a tile
    from Stamen Maps, which builds on [OpenStreetMap](openstreetmap.org). The main
    argument to this function is to specify a bounding box. A bounding box is the
    coordinates of the edges that you are interested in. This requires two latitudes
    and two longitudes.
  id: totrans-423
  prefs: []
  type: TYPE_NORMAL
  zh: 首先我们需要获取一个瓦片。我们将使用 `ggmap` 从 Stamen Maps 获取一个瓦片，它基于 [OpenStreetMap](openstreetmap.org)。该函数的主要参数是指定一个边界框。边界框是你感兴趣区域的边缘坐标，需要两个纬度和两个经度。
- en: It can be useful to use Google Maps, or other mapping platform, to find the
    coordinate values that you need. In this case we have provided it with coordinates
    such that it will be centered around Australia’s capital Canberra.
  id: totrans-424
  prefs: []
  type: TYPE_NORMAL
  zh: 使用谷歌地图或其他地图平台来查找你需要的坐标值会很有帮助。在本例中，我们提供了坐标，使其以澳大利亚首都堪培拉为中心。
- en: '[PRE54]'
  id: totrans-425
  prefs: []
  type: TYPE_PRE
  zh: '[PRE54]'
- en: '*It is free, but we need to register in order to get a map. To do this go to
    https://client.stadiamaps.com/signup/ and create an account. Then create a new
    property, then “Add API Key”. Copy the key and run (replacing PUT-KEY-HERE with
    the key) `register_stadiamaps(key = "PUT-KEY-HERE", write = TRUE)`. Then once
    you have defined the bounding box, the function `get_stadiamap()` will get the
    tiles in that area ([Figure 5.25](#fig-heyitscanberra)). The number of tiles that
    it needs depends on the zoom, and the type of tiles that it gets depends on the
    type of map. We have used “toner-lite”, which is black and white, but there are
    others including: “terrain”, “toner”, and “toner-lines”. We pass the tiles to
    `ggmap()` which will plot it. An internet connection is needed for this to work
    as `get_stadiamap()` downloads the tiles.'
  id: totrans-426
  prefs: []
  type: TYPE_NORMAL
  zh: '*它是免费的，但我们需要注册才能获取地图。为此，请访问 https://client.stadiamaps.com/signup/ 并创建一个账户。然后创建一个新属性，接着“添加
    API 密钥”。复制密钥并运行（将 PUT-KEY-HERE 替换为你的密钥）`register_stadiamaps(key = "PUT-KEY-HERE",
    write = TRUE)`。然后，一旦你定义了边界框，函数 `get_stadiamap()` 就会获取该区域的瓦片（[图 5.25](#fig-heyitscanberra)）。它所需的瓦片数量取决于缩放级别，而获取的瓦片类型则取决于地图类型。我们使用了黑白样式的“toner-lite”，但还有其他类型，包括：“terrain”、“toner”和“toner-lines”。我们将瓦片传递给
    `ggmap()` 进行绘制。这需要网络连接，因为 `get_stadiamap()` 会下载瓦片。'
- en: '[PRE55]'
  id: totrans-427
  prefs: []
  type: TYPE_PRE
  zh: '[PRE55]'
- en: '*![](../Images/3f0671de221e975e1e093d5814338ac9.png)'
  id: totrans-428
  prefs: []
  type: TYPE_NORMAL
  zh: '*![](../Images/3f0671de221e975e1e093d5814338ac9.png)'
- en: 'Figure 5.25: Map of Canberra, Australia*  *Once we have a map then we can use
    `ggmap()` to plot it. Now we want to get some data that we plot on top of our
    tiles. We will plot the location of the polling place based on its “division”.
    This is available [from the Australian Electoral Commission (AEC)](https://results.aec.gov.au/20499/Website/Downloads/HouseTppByPollingPlaceDownload-20499.csv).'
  id: totrans-429
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5.25：澳大利亚堪培拉地图*  *一旦我们有了地图，就可以使用 `ggmap()` 来绘制它。现在，我们想获取一些数据，将其绘制在我们的瓦片之上。我们将根据其“选区”来绘制投票站的位置。这些数据[可从澳大利亚选举委员会
    (AEC) 获取](https://results.aec.gov.au/20499/Website/Downloads/HouseTppByPollingPlaceDownload-20499.csv)。
- en: '[PRE56]'
  id: totrans-430
  prefs: []
  type: TYPE_PRE
  zh: '[PRE56]'
- en: '*This dataset is for the whole of Australia, but as we are only plotting the
    area around Canberra, we will filter the data to only booths with a geography
    close to Canberra.'
  id: totrans-431
  prefs: []
  type: TYPE_NORMAL
  zh: '*该数据集涵盖整个澳大利亚，但由于我们只绘制堪培拉周边区域，我们将过滤数据，仅保留地理位置靠近堪培拉的投票站。'
- en: '[PRE57]'
  id: totrans-432
  prefs: []
  type: TYPE_PRE
  zh: '[PRE57]'
- en: '*Now we can use `ggmap` in the same way as before to plot our underlying tiles,
    and then build on that using `geom_point()` to add our points of interest.'
  id: totrans-433
  prefs: []
  type: TYPE_NORMAL
  zh: '*现在我们可以像之前一样使用 `ggmap` 来绘制底图瓦片，然后在此基础上使用 `geom_point()` 来添加我们的兴趣点。'
- en: '[PRE58]'
  id: totrans-434
  prefs: []
  type: TYPE_PRE
  zh: '[PRE58]'
- en: '*![](../Images/aebca0b880bcba8f31bf34cc303c7c08.png)'
  id: totrans-435
  prefs: []
  type: TYPE_NORMAL
  zh: '*![](../Images/aebca0b880bcba8f31bf34cc303c7c08.png)'
- en: 'Figure 5.26: Map of Canberra, Australia, with polling places*  *We may like
    to save the map so that we do not have to create it every time, and we can do
    that in the same way as any other graph, using `ggsave()`.'
  id: totrans-436
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5.26：澳大利亚堪培拉地图，附投票地点*  *我们可能希望保存地图，这样就不必每次都重新创建，我们可以像保存其他图形一样使用 `ggsave()`
    来保存。
- en: '[PRE59]'
  id: totrans-437
  prefs: []
  type: TYPE_PRE
  zh: '[PRE59]'
- en: '*Finally, the reason that we used Stamen Maps and OpenStreetMap is because
    they are open source, but we could have also used Google Maps. This requires you
    to first register a credit card with Google, and specify a key, but with low usage
    the service should be free. Using Google Maps—by using `get_googlemap()` within
    `ggmap`—brings some advantages over `get_stadiamap()`. For instance it will attempt
    to find a place name rather than needing to specify a bounding box.******  ***####
    5.4.1.2 United States military bases'
  id: totrans-438
  prefs: []
  type: TYPE_NORMAL
  zh: '*最后，我们使用 Stamen Maps 和 OpenStreetMap 的原因是它们是开源的，但我们也可以使用谷歌地图。这需要你先用谷歌注册一张信用卡并指定一个密钥，但在使用量低的情况下，这项服务应该是免费的。使用谷歌地图——通过在
    `ggmap` 中使用 `get_googlemap()`——相比 `get_stadiamap()` 带来了一些优势。例如，它会尝试查找地名，而不需要指定边界框。******  ***####
    5.4.1.2 美军基地'
- en: To see another example of a static map we will plot some United States military
    bases after installing and loading `troopdata`. We can access data about United
    States overseas military bases back to the start of the Cold War using `get_basedata()`.
  id: totrans-439
  prefs: []
  type: TYPE_NORMAL
  zh: 为了查看静态地图的另一个示例，我们将在安装并加载 `troopdata` 后绘制一些美军基地。我们可以使用 `get_basedata()` 获取冷战开始以来美国海外军事基地的数据。
- en: '[PRE60]'
  id: totrans-440
  prefs: []
  type: TYPE_PRE
  zh: '[PRE60]'
- en: '*[PRE61]*  *We will look at the locations of United States military bases in
    Germany, Japan, and Australia. The `troopdata` dataset already has the latitude
    and longitude of each base, and we will use that as our item of interest. The
    first step is to define a bounding box for each country.'
  id: totrans-441
  prefs: []
  type: TYPE_NORMAL
  zh: '*[PRE61]*  *我们将查看美军在德国、日本和澳大利亚的基地位置。`troopdata` 数据集已经包含了每个基地的经纬度，我们将以此作为关注点。第一步是为每个国家定义一个边界框。'
- en: '[PRE62]'
  id: totrans-442
  prefs: []
  type: TYPE_PRE
  zh: '[PRE62]'
- en: '*Then we need to get the tiles using `get_stadiamap()` from `ggmap`.'
  id: totrans-443
  prefs: []
  type: TYPE_NORMAL
  zh: '*然后我们需要使用 `ggmap` 中的 `get_stadiamap()` 来获取图块。'
- en: '[PRE63]'
  id: totrans-444
  prefs: []
  type: TYPE_PRE
  zh: '[PRE63]'
- en: '*And finally, we can bring it all together with maps showing United States
    military bases in Germany ([Figure 5.27 (a)](#fig-mapbasesin-1)), Japan ([Figure 5.27
    (b)](#fig-mapbasesin-2)), and Australia ([Figure 5.27 (c)](#fig-mapbasesin-3)).'
  id: totrans-445
  prefs: []
  type: TYPE_NORMAL
  zh: '*最后，我们可以将所有内容整合到显示美军在德国（[图 5.27 (a)](#fig-mapbasesin-1)）、日本（[图 5.27 (b)](#fig-mapbasesin-2)）和澳大利亚（[图
    5.27 (c)](#fig-mapbasesin-3)）基地的地图中。'
- en: '[PRE64]'
  id: totrans-446
  prefs: []
  type: TYPE_PRE
  zh: '[PRE64]'
- en: '*![](../Images/95b757979cf41d8f472c88f4d5b5195a.png)'
  id: totrans-447
  prefs: []
  type: TYPE_NORMAL
  zh: '*![](../Images/95b757979cf41d8f472c88f4d5b5195a.png)'
- en: (a) Germany
  id: totrans-448
  prefs: []
  type: TYPE_NORMAL
  zh: (a) 德国
- en: '![](../Images/d669cc48db87bd986118097a5e26f746.png)'
  id: totrans-449
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/d669cc48db87bd986118097a5e26f746.png)'
- en: (b) Japan
  id: totrans-450
  prefs: []
  type: TYPE_NORMAL
  zh: (b) 日本
- en: '![](../Images/5d676b56bbe0aaca8d713e5a2fdfce00.png)'
  id: totrans-451
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/5d676b56bbe0aaca8d713e5a2fdfce00.png)'
- en: (c) Australia
  id: totrans-452
  prefs: []
  type: TYPE_NORMAL
  zh: (c) 澳大利亚
- en: 'Figure 5.27: Map of United States military bases in various parts of the world*******  ***###
    5.4.2 Geocoding'
  id: totrans-453
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5.27：世界各地美军基地地图*******  ***### 5.4.2 地理编码
- en: So far we have assumed that we already have geocoded data. This means that we
    have latitude and longitude coordinates for each place. But sometimes we only
    have place names, such as “Sydney, Australia”, “Toronto, Canada”, “Accra, Ghana”,
    and “Guayaquil, Ecuador”. Before we can plot them, we need to get the latitude
    and longitude coordinates for each case. The process of going from names to coordinates
    is called geocoding.
  id: totrans-454
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，我们假设已经拥有地理编码数据。这意味着我们拥有每个地点的经纬度坐标。但有时我们只有地名，例如“澳大利亚悉尼”、“加拿大多伦多”、“加纳阿克拉”和“厄瓜多尔瓜亚基尔”。在绘制它们之前，我们需要获取每个案例的经纬度坐标。从名称到坐标的过程称为地理编码。
- en: '*Oh, you think we have good data on that!* *While you almost surely know where
    you live, it can be surprisingly difficult to specifically define the boundaries
    of many places. And this is made especially difficult when different levels of
    government have different definitions. Bronner ([2021](99-references.html#ref-bronnerquantediting))
    illustrates this in the case of Atlanta, Georgia, where there are (at least) three
    official different definitions:'
  id: totrans-455
  prefs: []
  type: TYPE_NORMAL
  zh: '*哦，你以为我们在这方面有很好的数据！* *虽然你几乎肯定知道自己住在哪里，但要精确定义许多地方的边界却可能出奇地困难。当不同级别的政府有不同的定义时，这个问题就变得尤其棘手。Bronner
    ([2021](99-references.html#ref-bronnerquantediting)) 以佐治亚州亚特兰大市为例说明了这一点，那里（至少）存在三种不同的官方定义：'
- en: the metropolitan statistical area;
  id: totrans-456
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 大都市统计区；
- en: the urbanized area; and
  id: totrans-457
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 城市化区域；以及
- en: the census place.
  id: totrans-458
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 人口普查区。
- en: Which definition is used can have a substantial effect on the analysis, or even
    the data that are available, even though they are all “Atlanta”.*  *There are
    a range of options to geocode data in R, but `tidygeocoder` is especially useful.
    We first need a dataframe of locations.
  id: totrans-459
  prefs: []
  type: TYPE_NORMAL
  zh: 使用哪个定义可能会对分析甚至可用的数据产生重大影响，尽管它们都叫“亚特兰大”。*  *在 R 中有一系列地理编码数据的选项，但 `tidygeocoder`
    尤其有用。我们首先需要一个包含位置信息的数据框。
- en: '[PRE65]'
  id: totrans-460
  prefs: []
  type: TYPE_PRE
  zh: '[PRE65]'
- en: '*[PRE66]*  *[PRE67]'
  id: totrans-461
  prefs: []
  type: TYPE_NORMAL
  zh: '*[PRE66]*  *[PRE67]'
- en: '*[PRE68]*  *And we can now plot and label these cities ([Figure 5.28](#fig-mynicemap)).'
  id: totrans-462
  prefs: []
  type: TYPE_NORMAL
  zh: '*[PRE68]*  *现在我们可以绘制并标注这些城市（[图 5.28](#fig-mynicemap)）。'
- en: '[PRE69]'
  id: totrans-463
  prefs: []
  type: TYPE_PRE
  zh: '[PRE69]'
- en: '*![](../Images/3734132803b4f1d66297d784c0725f83.png)'
  id: totrans-464
  prefs: []
  type: TYPE_NORMAL
  zh: '*![](../Images/3734132803b4f1d66297d784c0725f83.png)'
- en: 'Figure 5.28: Map of Accra, Sydney, Toronto, and Guayaquil after geocoding to
    obtain their locations****  ****### 5.4.3 Interactive maps'
  id: totrans-465
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5.28：经过地理编码获取位置后的阿克拉、悉尼、多伦多和瓜亚基尔地图****  ****### 5.4.3 交互式地图
- en: The nice thing about interactive maps is that we can let our user decide what
    they are interested in. For instance, in the case of a map, some people will be
    interested in, say, Toronto, while others will be interested in Chennai or even
    Auckland. But it would be difficult to present a map that focused on all of those,
    so an interactive map is a way to allow users to focus on what they want.
  id: totrans-466
  prefs: []
  type: TYPE_NORMAL
  zh: 交互式地图的好处在于，我们可以让用户决定他们感兴趣的内容。例如，在地图的情况下，有些人可能对多伦多感兴趣，而另一些人可能对金奈甚至奥克兰感兴趣。但很难呈现一张同时聚焦所有这些地方的地图，因此交互式地图是一种让用户专注于他们想要内容的方式。
- en: 'That said, we should be cognizant of what we are doing when we build maps,
    and more broadly, what is being done at scale to enable us to be able to build
    our own maps. For instance, with regard to Google, McQuire ([2019](99-references.html#ref-mcquire2019one))
    says:'
  id: totrans-467
  prefs: []
  type: TYPE_NORMAL
  zh: 话虽如此，我们在构建地图时，应该意识到自己在做什么，更广泛地说，应该意识到为了实现我们能够构建自己的地图，大规模地进行了哪些工作。例如，关于 Google，McQuire
    ([2019](99-references.html#ref-mcquire2019one)) 说道：
- en: Google began life in 1998 as a company famously dedicated to organising the
    vast amounts of data on the Internet. But over the last two decades its ambitions
    have changed in a crucial way. Extracting data such as words and numbers from
    the physical world is now merely a stepping-stone towards apprehending and organizing
    the physical world as data. Perhaps this shift is not surprising at a moment when
    it has become possible to comprehend human identity as a form of (genetic) ‘code’.
    However, apprehending and organizing the world as data under current settings
    is likely to take us well beyond Heidegger’s ‘standing reserve’ in which modern
    technology enframed ‘nature’ as productive resource. In the 21st century, it is
    the stuff of human life itself—from genetics to bodily appearances, mobility,
    gestures, speech, and behaviour—that is being progressively rendered as productive
    resource that can not only be harvested continuously but subject to modulation
    over time.
  id: totrans-468
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: Google 于 1998 年诞生，最初是一家以组织互联网海量数据而闻名的公司。但在过去的二十年里，其雄心壮志发生了关键性的转变。从物理世界中提取文字和数字等数据，如今仅仅是迈向将物理世界本身理解和组织为数据的一个垫脚石。或许，在人类身份可以被理解为一种（基因）“代码”的时代，这种转变并不令人惊讶。然而，在当前环境下，将世界理解和组织为数据，很可能使我们远远超越海德格尔所说的“持存物”——即现代技术将“自然”框定为生产性资源。在
    21 世纪，人类生活本身的方方面面——从基因到身体外貌、移动性、姿态、言语和行为——正逐渐被转化为一种生产性资源，这种资源不仅可以被持续获取，还能随着时间的推移进行调节。
- en: Does this mean that we should not use or build interactive maps? Of course not.
    But it is important to be aware of the fact that this is a frontier, and the boundaries
    of appropriate use are still being determined. Indeed, the literal boundaries
    of the maps themselves are being consistently determined and updated. The move
    to digital maps, compared with physical printed maps, means that it is possible
    for different users to be presented with different realities. For instance, “…Google
    routinely takes sides in border disputes. Take, for instance, the representation
    of the border between Ukraine and Russia. In Russia, the Crimean Peninsula is
    represented with a hard-line border as Russian-controlled, whereas Ukrainians
    and others see a dotted-line border. The strategically important peninsula is
    claimed by both nations and was violently seized by Russia in 2014, one of many
    skirmishes over control” ([Bensinger 2020](99-references.html#ref-washingtonpostmaps)).
  id: totrans-469
  prefs: []
  type: TYPE_NORMAL
  zh: 这是否意味着我们不应该使用或构建交互式地图？当然不是。但重要的是要意识到这是一个前沿领域，其适当使用的边界仍在确定中。事实上，地图本身的字面边界也在不断地被确定和更新。与实体印刷地图相比，向数字地图的转变意味着不同的用户可能被呈现不同的现实。例如，“……谷歌在边境争端中经常选边站队。以乌克兰和俄罗斯之间的边界表示为例。在俄罗斯，克里米亚半岛被表示为由俄罗斯控制的实线边界，而乌克兰人和其他人看到的则是虚线边界。这个具有重要战略意义的半岛被两国都声称拥有主权，并于
    2014 年被俄罗斯武力夺取，这是众多控制权争夺战之一” ([Bensinger 2020](99-references.html#ref-washingtonpostmaps))。
- en: 5.4.3.1 Leaflet
  id: totrans-470
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 5.4.3.1 Leaflet
- en: We can use `leaflet` ([Cheng, Karambelkar, and Xie 2021](99-references.html#ref-ChengKarambelkarXie2017))
    to make interactive maps. The essentials are similar to `ggmap` ([Kahle and Wickham
    2013](99-references.html#ref-KahleWickham2013)), but there are many additional
    aspects beyond that. We can redo the US military deployments map from [Chapter
    5](#sec-static-communication) that used `troopdata` ([Flynn 2022](99-references.html#ref-troopdata)).
    The advantage with an interactive map is that we can plot all the bases and allow
    the user to focus on which area they want, in comparison with [Chapter 5](#sec-static-communication)
    where we just picked a few particular countries. A great example of why this might
    be useful is provided by The Economist ([2022b](99-references.html#ref-theeconomistmaps))
    where they are able to show 2022 French Presidential results for the entire country
    by commune.
  id: totrans-471
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以使用 `leaflet` ([Cheng, Karambelkar, and Xie 2021](99-references.html#ref-ChengKarambelkarXie2017))
    来制作交互式地图。其核心与 `ggmap` ([Kahle and Wickham 2013](99-references.html#ref-KahleWickham2013))
    类似，但除此之外还有许多额外的方面。我们可以重做 [第 5 章](#sec-static-communication) 中使用 `troopdata` ([Flynn
    2022](99-references.html#ref-troopdata)) 的美军部署地图。交互式地图的优势在于，我们可以绘制所有基地，并允许用户关注他们想要的区域，相比之下，[第
    5 章](#sec-static-communication) 中我们只选取了几个特定国家。《经济学人》([2022b](99-references.html#ref-theeconomistmaps))
    提供了一个很好的例子来说明为什么这可能有用，他们能够按市镇展示 2022 年法国总统选举的全国结果。
- en: In the same way as a graph in `ggplot2` begins with `ggplot()`, a map in `leaflet`
    begins with `leaflet()`. Here we can specify data, and other options such as width
    and height. After this, we add “layers” in the same way that we added them in
    `ggplot2`. The first layer that we add is a tile, using `addTiles()`. In this
    case, the default is from OpenStreeMap. After that we add markers with `addMarkers()`
    to show the location of each base ([Figure 5.29](#fig-canhasbase)).
  id: totrans-472
  prefs: []
  type: TYPE_NORMAL
  zh: 与 `ggplot2` 中的图表以 `ggplot()` 开始类似，`leaflet` 中的地图以 `leaflet()` 开始。在这里，我们可以指定数据以及其他选项，如宽度和高度。之后，我们以与在
    `ggplot2` 中添加图层相同的方式添加“图层”。我们添加的第一个图层是使用 `addTiles()` 添加的瓦片。在本例中，默认使用的是 OpenStreetMap。之后，我们使用
    `addMarkers()` 添加标记以显示每个基地的位置 ([图 5.29](#fig-canhasbase))。
- en: '[PRE70]'
  id: totrans-473
  prefs: []
  type: TYPE_PRE
  zh: '[PRE70]'
- en: '*Figure 5.29: Interactive map of US bases*  *There are two new arguments, compared
    with `ggmap`. The first is “popup”, which is the behavior that occurs when the
    user clicks on the marker. In this case, the name of the base is provided. The
    second is “label”, which is what happens when the user hovers on the marker. In
    this case it is the name of the country.'
  id: totrans-474
  prefs: []
  type: TYPE_NORMAL
  zh: '*图 5.29：美国基地交互式地图*  *与 `ggmap` 相比，这里有两个新参数。第一个是“popup”，即用户点击标记时发生的行为。在本例中，提供的是基地名称。第二个是“label”，即用户将鼠标悬停在标记上时发生的情况。在本例中，它是国家名称。'
- en: 'We can try another example, this time of the amount spent building those bases.
    We will introduce a different type of marker here, which is circles. This will
    allow us to use different colors for the outcomes of each type. There are four
    possible outcomes: “More than $100,000,000”, “More than $10,000,000”, “More than
    $1,000,000”, “$1,000,000 or less” [Figure 5.30](#fig-canhasbaseandmoney).'
  id: totrans-475
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以尝试另一个例子，这次是关于建设这些基地的支出金额。我们将在这里引入一种不同类型的标记，即圆形。这将允许我们为每种类型的结果使用不同的颜色。有四种可能的结果：“超过
    $100,000,000”、“超过 $10,000,000”、“超过 $1,000,000”、“$1,000,000 或更少”[图 5.30](#fig-canhasbaseandmoney)。
- en: '[PRE71]'
  id: totrans-476
  prefs: []
  type: TYPE_PRE
  zh: '[PRE71]'
- en: '*Figure 5.30: Interactive map of US bases with colored circules to indicate
    spend**  **#### 5.4.3.2 Mapdeck'
  id: totrans-477
  prefs: []
  type: TYPE_NORMAL
  zh: '*图 5.30：美国基地的交互式地图，使用彩色圆圈表示支出**  **#### 5.4.3.2 Mapdeck'
- en: '`mapdeck` ([Cooley 2020](99-references.html#ref-citemapdeck)) is based on WebGL.
    This means the web browser will do a lot of work for us. This enables us to accomplish
    things with `mapdeck` that `leaflet` struggles with, such as larger datasets.'
  id: totrans-478
  prefs: []
  type: TYPE_NORMAL
  zh: '`mapdeck` ([Cooley 2020](99-references.html#ref-citemapdeck)) 基于 WebGL。这意味着网络浏览器将为我们完成大量工作。这使我们能够实现一些
    `leaflet` 难以处理的任务，例如处理更大的数据集。'
- en: To this point we have used “stamen maps” as our underlying tile, but `mapdeck`
    uses [Mapbox](https://www.mapbox.com/). This requires registering an account and
    obtaining a token. This is free and only needs to be done once. Once we have that
    token we add it to our R environment (the details of this process are covered
    in [Chapter 7](07-gather.html)) by running `edit_r_environ()`, which will open
    a text file, which is where we should add our Mapbox secret token.
  id: totrans-479
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，我们一直使用“stamen maps”作为底层瓦片，但 `mapdeck` 使用 [Mapbox](https://www.mapbox.com/)。这需要注册一个账户并获取一个令牌。这是免费的，并且只需操作一次。一旦我们有了那个令牌，我们就可以通过运行
    `edit_r_environ()` 将其添加到我们的 R 环境中（此过程的细节在[第 7 章](07-gather.html)中介绍），这将打开一个文本文件，我们应该在此文件中添加我们的
    Mapbox 密钥令牌。
- en: '[PRE72]'
  id: totrans-480
  prefs: []
  type: TYPE_PRE
  zh: '[PRE72]'
- en: '*We then save this “.Renviron” file, and restart R (“Session” -> “Restart R”).'
  id: totrans-481
  prefs: []
  type: TYPE_NORMAL
  zh: '*然后我们保存这个“.Renviron”文件，并重启 R（“会话” -> “重启 R”）。'
- en: Having obtained a token, we can create a plot of our base spend data from earlier
    ([Figure 5.31](#fig-canhasbaseandmoneymapdeck)).
  id: totrans-482
  prefs: []
  type: TYPE_NORMAL
  zh: 获得令牌后，我们可以创建之前基地支出数据的图表（[图 5.31](#fig-canhasbaseandmoneymapdeck)）。
- en: '[PRE73]'
  id: totrans-483
  prefs: []
  type: TYPE_PRE
  zh: '[PRE73]'
- en: '*Figure 5.31: Interactive map of US bases using Mapdeck**************  ****##
    5.5 Concluding remarks'
  id: totrans-484
  prefs: []
  type: TYPE_NORMAL
  zh: '*图 5.31：使用 Mapdeck 的美国基地交互式地图**************  ****## 5.5 结束语'
- en: In this chapter we considered many ways of communicating data. We spent substantial
    time on graphs, because of their ability to convey a large amount of information
    in an efficient way. We then turned to tables because of how they can specifically
    convey information. Finally, we discussed maps, which allow us to display geographic
    information. The most important task is to show the observations to the full extent
    possible.
  id: totrans-485
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们探讨了许多传达数据的方式。我们在图表上花费了大量时间，因为它们能够以高效的方式传达大量信息。然后我们转向表格，因为它们可以具体地传达信息。最后，我们讨论了地图，它允许我们展示地理信息。最重要的任务是尽可能全面地展示观测结果。
- en: 5.6 Exercises
  id: totrans-486
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 5.6 练习
- en: Practice
  id: totrans-487
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 练习
- en: '*(Plan)* Consider the following scenario: *Three friends—Edward, Hugo, and
    Lucy—each measure the height of 20 of their friends. Each of the three use a slightly
    different approach to measurement and so make slightly different errors.* Please
    sketch what that dataset could look like and then sketch a graph that you could
    build to show all observations.'
  id: totrans-488
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '*（计划）* 考虑以下场景：*三位朋友——爱德华、雨果和露西——各自测量了他们 20 位朋友的身高。他们三人各自使用了略有不同的测量方法，因此产生了略有不同的误差。*
    请勾画出该数据集可能的样子，然后勾画出你可以构建的用于显示所有观测值的图表。'
- en: '*(Simulate)* Please further consider the scenario described and simulate the
    situation with every variable independent of each other. Please include three
    tests based on the simulated data.'
  id: totrans-489
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '*（模拟）* 请进一步考虑所描述的场景，并模拟每个变量彼此独立的情况。请基于模拟数据包含三项测试。'
- en: '*(Acquire)* Please specify a source of actual data about human height that
    you are interested in.'
  id: totrans-490
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '*（获取）* 请指定一个你感兴趣的关于人类身高的实际数据来源。'
- en: '*(Explore)* Build a graph and table using the simulated data.'
  id: totrans-491
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '*（探索）* 使用模拟数据构建图表和表格。'
- en: '*(Communicate)* Please write some text to accompany the graph and table, as
    if they reflected the actual situation. The exact details contained in the paragraphs
    do not have to be factual but they should be reasonable (i.e. you do not actually
    have to get the data nor create the graphs). Separate the code appropriately into
    `R` files and a Quarto doc. Submit a link to a GitHub repo with a README.'
  id: totrans-492
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '*（沟通）* 请写一些文字来配合图表和表格，就好像它们反映了实际情况一样。段落中包含的确切细节不必是事实，但应该是合理的（即，你实际上不必获取数据或创建图形）。请将代码适当地分成
    `R` 文件和一个 Quarto 文档。提交一个带有 README 的 GitHub 仓库链接。'
- en: Quiz
  id: totrans-493
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 测验
- en: What is the primary reason for always plotting data (pick one)?
  id: totrans-494
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 始终绘制数据的主要原因是什么（单选）？
- en: To better understand our data.
  id: totrans-495
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为了更好地理解我们的数据。
- en: To ensure the data are normal.
  id: totrans-496
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保数据是正态的。
- en: To check for missing values.
  id: totrans-497
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 检查缺失值。
- en: From Wickham, Çetinkaya-Rundel, and Grolemund ([[2016] 2023](99-references.html#ref-r4ds)),
    which of the following best describes tidy data (pick one)?
  id: totrans-498
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 根据 Wickham, Çetinkaya-Rundel 和 Grolemund ([[2016] 2023](99-references.html#ref-r4ds))，以下哪项最能描述整洁数据（单选）？
- en: Each variable is in its own column, and each observation in its own row.
  id: totrans-499
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 每个变量在其自己的列中，每个观测值在其自己的行中。
- en: All data in a single row.
  id: totrans-500
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 所有数据都在一行中。
- en: Multiple values per cell.
  id: totrans-501
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 每个单元格有多个值。
- en: Data are stored in one cell.
  id: totrans-502
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 数据存储在一个单元格中。
- en: From Healy ([2018](99-references.html#ref-healyviz)), what does `ggplot()` require
    as its first argument (pick one)?
  id: totrans-503
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 根据 Healy ([2018](99-references.html#ref-healyviz))，`ggplot()` 的第一个参数要求是什么（单选）？
- en: A dataframe.
  id: totrans-504
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一个数据框。
- en: A geom function.
  id: totrans-505
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一个几何对象函数。
- en: A legend.
  id: totrans-506
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一个图例。
- en: An aesthetic mapping.
  id: totrans-507
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一种美学映射。
- en: From Healy ([2018](99-references.html#ref-healyviz)), in `ggplot2`, what does
    the `+` operator do (pick one)?
  id: totrans-508
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 根据 Healy ([2018](99-references.html#ref-healyviz))，在 `ggplot2` 中，`+` 运算符的作用是什么（单选）？
- en: Saves the plot.
  id: totrans-509
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 保存图形。
- en: Adds data to the plot.
  id: totrans-510
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 向图形添加数据。
- en: Combines layers of the plot.
  id: totrans-511
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 组合图形的图层。
- en: Removes elements from the plot.
  id: totrans-512
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从图形中移除元素。
- en: From Wickham, Çetinkaya-Rundel, and Grolemund ([[2016] 2023](99-references.html#ref-r4ds)),
    what is an “aesthetic” in the context of `ggplot2` (pick one)?
  id: totrans-513
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 根据 Wickham, Çetinkaya-Rundel 和 Grolemund ([[2016] 2023](99-references.html#ref-r4ds))，在
    `ggplot2` 的上下文中，“aesthetic”（美学属性）是什么（单选）？
- en: The type of chart used.
  id: totrans-514
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用的图表类型。
- en: The axis labels.
  id: totrans-515
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 坐标轴标签。
- en: The color of the plot.
  id: totrans-516
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 图形的颜色。
- en: How variables in the dataset are mapped to visual properties.
  id: totrans-517
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 数据集中变量如何映射到视觉属性。
- en: From Wickham, Çetinkaya-Rundel, and Grolemund ([[2016] 2023](99-references.html#ref-r4ds)),
    in `ggplot2`, what is a “geom” (pick one)?
  id: totrans-518
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 根据 Wickham, Çetinkaya-Rundel 和 Grolemund ([[2016] 2023](99-references.html#ref-r4ds))，在
    `ggplot2` 中，“geom” 是什么（单选）？
- en: A data transformation function.
  id: totrans-519
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一个数据转换函数。
- en: The geometrical object that a plot uses to represent data.
  id: totrans-520
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 图形用来表示数据的几何对象。
- en: A plot title.
  id: totrans-521
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一个图形标题。
- en: A statistical transformation.
  id: totrans-522
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一种统计变换。
- en: Which geom should be used to make a scatter plot (pick one)?
  id: totrans-523
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 应该使用哪个几何对象来制作散点图（单选）？
- en: '`geom_dotplot()`'
  id: totrans-524
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`geom_dotplot()`'
- en: '`geom_bar()`'
  id: totrans-525
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`geom_bar()`'
- en: '`geom_smooth()`'
  id: totrans-526
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`geom_smooth()`'
- en: '`geom_point()`'
  id: totrans-527
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`geom_point()`'
- en: Which should be used to create bar charts (when you have already computed counts)
    (pick one)?
  id: totrans-528
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 应该使用哪个来创建条形图（当你已经计算了计数时）（单选）？
- en: '`geom_line()`'
  id: totrans-529
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`geom_line()`'
- en: '`geom_bar()`'
  id: totrans-530
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`geom_bar()`'
- en: '`geom_histogram()`'
  id: totrans-531
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`geom_histogram()`'
- en: '`geom_col()`'
  id: totrans-532
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`geom_col()`'
- en: Which `ggplot2` geom would you use to create a histogram (pick one)?
  id: totrans-533
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你会使用哪个 `ggplot2` 几何对象来创建直方图（单选）？
- en: '`geom_col()`'
  id: totrans-534
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`geom_col()`'
- en: '`geom_bar()`'
  id: totrans-535
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`geom_bar()`'
- en: '`geom_density()`'
  id: totrans-536
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`geom_density()`'
- en: '`geom_histogram()`'
  id: totrans-537
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`geom_histogram()`'
- en: Assume the `tidyverse` and `datasauRus` are installed and loaded. What would
    be the outcome of the following code (pick one)?
  id: totrans-538
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 假设 `tidyverse` 和 `datasauRus` 已安装并加载。以下代码的结果会是什么（单选）？
- en: Two vertical lines.
  id: totrans-539
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 两条垂直线。
- en: Three vertical lines.
  id: totrans-540
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 三条垂直线。
- en: Four vertical lines.
  id: totrans-541
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 四条垂直线。
- en: Five vertical lines.
  id: totrans-542
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 五条垂直线。
- en: '[PRE74]'
  id: totrans-543
  prefs: []
  type: TYPE_PRE
  zh: '[PRE74]'
- en: '*11.  From Wickham, Çetinkaya-Rundel, and Grolemund ([[2016] 2023](99-references.html#ref-r4ds)),
    what happens when you map a variable to the `color` aesthetic in `ggplot2` (select
    all that apply)?'
  id: totrans-544
  prefs: []
  type: TYPE_NORMAL
  zh: '*11.  根据 Wickham, Çetinkaya-Rundel 和 Grolemund ([[2016] 2023](99-references.html#ref-r4ds))，当你在
    `ggplot2` 中将一个变量映射到 `color` 美学属性时会发生什么（选择所有适用的选项）？'
- en: The points get different colors based on the variable.
  id: totrans-545
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点根据变量获得不同的颜色。
- en: A legend is automatically created.
  id: totrans-546
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 图例会自动创建。
- en: The size of points changes based on the variable.
  id: totrans-547
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点的大小根据变量而变化。
- en: From Healy ([2018](99-references.html#ref-healyviz)), what is the difference
    between `color` and `fill` aesthetics in `ggplot2` (pick one)?
  id: totrans-548
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 根据 Healy ([2018](99-references.html#ref-healyviz))，`ggplot2` 中 `color` 和 `fill`
    美学属性有什么区别（单选）？
- en: Both terms are used interchangeably.
  id: totrans-549
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 这两个术语可以互换使用。
- en: '`color` applies to points and lines, while `fill` applies to area elements.'
  id: totrans-550
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`color` 适用于点和线，而 `fill` 适用于面积元素。'
- en: '`color` controls font color, while `fill` controls plot title.'
  id: totrans-551
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`color` 控制字体颜色，而 `fill` 控制图形标题。'
- en: '`color` applies to the background, while `fill` applies to text.'
  id: totrans-552
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`color` 适用于背景，而 `fill` 适用于文本。'
- en: How do you add some transparency to the points when using `geom_point()` (pick
    one)?
  id: totrans-553
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 `geom_point()` 时，如何为点添加一些透明度（单选）？
- en: By setting `alpha` to a value between 0 and 1.
  id: totrans-554
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过将 `alpha` 设置为 0 到 1 之间的值。
- en: By removing `geom_point()` from the plot.
  id: totrans-555
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过从图形中移除 `geom_point()`。
- en: By using `color = NULL` in `aes()`
  id: totrans-556
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过在 `aes()` 中使用 `color = NULL`
- en: What does `labs()` do in `ggplot2` (pick one)?
  id: totrans-557
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 `ggplot2` 中，`labs()` 函数的作用是什么（单选）？
- en: Changes the background color of the plot.
  id: totrans-558
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 改变图形的背景颜色。
- en: Adds labels like legend and axis labels.
  id: totrans-559
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加如图例和坐标轴标签等标签。
- en: Adds a line of best fit.
  id: totrans-560
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加最佳拟合线。
- en: Modifies the plot layout.
  id: totrans-561
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修改图形布局。
- en: In the code below, what should be added to `labs()` to change the text of the
    legend (pick one)?
  id: totrans-562
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在下面的代码中，应向 `labs()` 添加什么以更改图例文本（单选）？
- en: '`scale = "Voted for"`'
  id: totrans-563
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`scale = "Voted for"`'
- en: '`legend = "Voted for"`'
  id: totrans-564
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`legend = "Voted for"`'
- en: '`color = "Voted for"`'
  id: totrans-565
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`color = "Voted for"`'
- en: '`fill = "Voted for"`'
  id: totrans-566
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`fill = "Voted for"`'
- en: '[PRE75]'
  id: totrans-567
  prefs: []
  type: TYPE_PRE
  zh: '[PRE75]'
- en: '*16.  Based on the help file for `scale_colour_brewer()` which palette diverges
    (pick one)?'
  id: totrans-568
  prefs: []
  type: TYPE_NORMAL
  zh: '*16.  根据 `scale_colour_brewer()` 的帮助文件，哪种调色板是发散的（单选）？'
- en: “GnBu”
  id: totrans-569
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: “GnBu”
- en: “Set1”
  id: totrans-570
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: “Set1”
- en: “Accent”
  id: totrans-571
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: “Accent”
- en: “RdBu”
  id: totrans-572
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: “RdBu”
- en: Which theme does not have solid lines along the x and y axes (pick one)?
  id: totrans-573
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 哪种主题没有沿 x 轴和 y 轴的实线（单选）？
- en: '`theme_minimal()`'
  id: totrans-574
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`theme_minimal()`'
- en: '`theme_classic()`'
  id: totrans-575
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`theme_classic()`'
- en: '`theme_bw()`'
  id: totrans-576
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`theme_bw()`'
- en: Which argument to `position` should be added to `geom_bar()` to make the bars
    be next to each other rather than on top of each other (pick one)?
  id: totrans-577
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 应向 `geom_bar()` 添加 `position` 的哪个参数以使条形并排而非堆叠（单选）？
- en: '`position = "adjacent"`'
  id: totrans-578
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`position = "adjacent"`'
- en: '`position = "side_by_side"`'
  id: totrans-579
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`position = "side_by_side"`'
- en: '`position = "closest"`'
  id: totrans-580
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`position = "closest"`'
- en: '`position = "dodge2"`'
  id: totrans-581
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`position = "dodge2"`'
- en: '[PRE76]'
  id: totrans-582
  prefs: []
  type: TYPE_PRE
  zh: '[PRE76]'
- en: '*19.  Based on Vanderplas, Cook, and Hofmann ([2020](99-references.html#ref-vanderplas2020testing)),
    which cognitive principle should be considered when creating graphs (pick one)?'
  id: totrans-583
  prefs: []
  type: TYPE_NORMAL
  zh: '*19.  根据 Vanderplas、Cook 和 Hofmann ([2020](99-references.html#ref-vanderplas2020testing))，创建图形时应考虑哪种认知原则（单选）？'
- en: Proximity.
  id: totrans-584
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 邻近性。
- en: Volume estimation.
  id: totrans-585
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 体积估计。
- en: Relative motion.
  id: totrans-586
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 相对运动。
- en: Axial positioning.
  id: totrans-587
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 轴向定位。
- en: Based on Vanderplas, Cook, and Hofmann ([2020](99-references.html#ref-vanderplas2020testing)),
    color can be used to (pick one)?
  id: totrans-588
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 根据 Vanderplas、Cook 和 Hofmann ([2020](99-references.html#ref-vanderplas2020testing))，颜色可用于（单选）？
- en: Improve chart design aesthetics.
  id: totrans-589
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 提升图表设计美感。
- en: Encode categorical and continuous variables and group plot elements.
  id: totrans-590
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 编码分类和连续变量并分组图形元素。
- en: Identify magnitude.
  id: totrans-591
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 识别量级。
- en: Which of these would result in the largest number of bins (pick one)?
  id: totrans-592
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 以下哪种情况会导致最多的分箱数（单选）？
- en: '`geom_histogram(binwidth = 2)`'
  id: totrans-593
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`geom_histogram(binwidth = 2)`'
- en: '`geom_histogram(binwidth = 5)`'
  id: totrans-594
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`geom_histogram(binwidth = 5)`'
- en: Suppose there is a dataset that contains the heights of 100 birds, each from
    one of three different species. If we are interested in understanding the distribution
    of these heights, then in a paragraph or two, please explain which type of graph
    should be used and why.
  id: totrans-595
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 假设有一个数据集包含 100 只鸟的身高，每只鸟来自三个不同物种之一。如果我们想了解这些身高的分布情况，请用一两段文字解释应使用哪种类型的图形及其原因。
- en: Would this code `data |> ggplot(aes(x = col_one)) |> geom_point()` work if we
    assume the libraries are loaded and the dataset and columns exist (pick one)?
  id: totrans-596
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果我们假设库已加载且数据集和列存在，这段代码 `data |> ggplot(aes(x = col_one)) |> geom_point()` 能运行吗（单选）？
- en: No.
  id: totrans-597
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 不能。
- en: Yes.
  id: totrans-598
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 能。
- en: In `ggplot2`, what is the purpose of using facets in a plot (pick one)?
  id: totrans-599
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 `ggplot2` 中，在图形中使用分面的目的是什么（单选）？
- en: To adjust the transparency of the points.
  id: totrans-600
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 调整点的透明度。
- en: To add labels to data points.
  id: totrans-601
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为数据点添加标签。
- en: To create multiple plots split by the values of one or more variables.
  id: totrans-602
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 用于创建按一个或多个变量的值分割的多个图形。
- en: To change the color scheme of the plot.
  id: totrans-603
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 改变图形的配色方案。
- en: When creating a bar chart with `ggplot2`, which aesthetic is typically mapped
    to a categorical variable to fill bars with different colors (pick one)?
  id: totrans-604
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 `ggplot2` 创建条形图时，通常将哪种美学映射到分类变量以为条形填充不同颜色（单选）？
- en: '`fill`'
  id: totrans-605
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`fill`'
- en: '`x`'
  id: totrans-606
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`x`'
- en: '`y`'
  id: totrans-607
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`y`'
- en: '`size`'
  id: totrans-608
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`size`'
- en: What is the effect of adding `position = "dodge"` or `position = "dodge2"` to
    a `geom_bar()` in `ggplot2` (pick one)?
  id: totrans-609
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 `ggplot2` 中，向 `geom_bar()` 添加 `position = "dodge"` 或 `position = "dodge2"`
    会产生什么效果（单选）？
- en: It adds transparency to the bars.
  id: totrans-610
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 它为条形添加透明度。
- en: It places the bars side by side for each group.
  id: totrans-611
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 它为每个组将条形并排放置。
- en: It stacks the bars on top of each other.
  id: totrans-612
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 它将条形堆叠在一起。
- en: It changes the bar colors to grayscale.
  id: totrans-613
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 它将条形颜色更改为灰度。
- en: In the context of `ggplot2`, what is the primary difference between `geom_point()`
    and `geom_jitter()` (pick one)?
  id: totrans-614
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 `ggplot2` 的语境中，`geom_point()` 和 `geom_jitter()` 的主要区别是什么（选择一个）？
- en: '`geom_jitter()` adds random noise to points to reduce overplotting.'
  id: totrans-615
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`geom_jitter()` 向点添加随机噪声以减少过度绘制。'
- en: '`geom_jitter()` is used for continuous data, `geom_point()` for categorical
    data.'
  id: totrans-616
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`geom_jitter()` 用于连续数据，`geom_point()` 用于分类数据。'
- en: '`geom_point()` adds transparency, `geom_jitter()` does not.'
  id: totrans-617
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`geom_point()` 添加透明度，`geom_jitter()` 不添加。'
- en: '`geom_point()` plots points, `geom_jitter()` plots lines.'
  id: totrans-618
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`geom_point()` 绘制点，`geom_jitter()` 绘制线。'
- en: Which `ggplot2` geom would you use to add a line of best fit to a scatterplot
    (pick one)?
  id: totrans-619
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你会使用哪个 `ggplot2` 几何对象来为散点图添加最佳拟合线（选择一个）？
- en: '`geom_histogram()`'
  id: totrans-620
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`geom_histogram()`'
- en: '`geom_smooth()`'
  id: totrans-621
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`geom_smooth()`'
- en: '`geom_bar()`'
  id: totrans-622
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`geom_bar()`'
- en: '`geom_line()`'
  id: totrans-623
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`geom_line()`'
- en: What argument would you use in geom_smooth() to specify a linear model without
    standard errors (pick one)?
  id: totrans-624
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你会在 `geom_smooth()` 中使用哪个参数来指定一个不带标准误差的线性模型（选择一个）？
- en: '`fit = lm, show_se = FALSE`'
  id: totrans-625
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`fit = lm, show_se = FALSE`'
- en: '`type = "linear", ci = FALSE`'
  id: totrans-626
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`type = "linear", ci = FALSE`'
- en: '`model = linear, error = FALSE`'
  id: totrans-627
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`model = linear, error = FALSE`'
- en: '`method = lm, se = FALSE`'
  id: totrans-628
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`method = lm, se = FALSE`'
- en: What does adjusting the number of bins, or changing the binwidth, affect for
    a histogram (pick one)?
  id: totrans-629
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 调整箱数或更改箱宽会影响直方图的哪个方面（选择一个）？
- en: The labels on the x-axis.
  id: totrans-630
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: x轴上的标签。
- en: The size of the data points.
  id: totrans-631
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 数据点的大小。
- en: The colors used in the plot.
  id: totrans-632
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 图中使用的颜色。
- en: How smooth the distribution will appear.
  id: totrans-633
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 分布显示的平滑程度。
- en: What is one disadvantage of using boxplots (pick one)?
  id: totrans-634
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用箱线图的一个缺点是什么（选择一个）？
- en: They cannot show outliers.
  id: totrans-635
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 它们无法显示异常值。
- en: They take too long to compute.
  id: totrans-636
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 它们计算时间太长。
- en: They hide the underlying distribution of the data.
  id: totrans-637
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 它们隐藏了数据的底层分布。
- en: They are too colorful.
  id: totrans-638
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 它们颜色太花哨。
- en: How can you deal with that disadvantage (pick one)?
  id: totrans-639
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你如何处理那个缺点（选择一个）？
- en: Remove the whiskers from the boxplot.
  id: totrans-640
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 移除箱线图的须线。
- en: Add colors for each category.
  id: totrans-641
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为每个类别添加颜色。
- en: Overlay the actual data points using `geom_jitter()`.
  id: totrans-642
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 `geom_jitter()` 叠加实际数据点。
- en: Increase the box width.
  id: totrans-643
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增加箱体宽度。
- en: What does `stat_ecdf()` compute (pick one)?
  id: totrans-644
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`stat_ecdf()` 计算什么（选择一个）？'
- en: A cumulative distribution function.
  id: totrans-645
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 累积分布函数。
- en: A scatterplot with error bars.
  id: totrans-646
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 带误差条的散点图。
- en: A boxplot.
  id: totrans-647
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 箱线图。
- en: A histogram.
  id: totrans-648
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 直方图。
- en: Which function from `modelsummary` could we use to create a table of descriptive
    statistics (pick one)?
  id: totrans-649
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们可以使用 `modelsummary` 中的哪个函数来创建描述性统计表（选择一个）？
- en: '`datasummary_balance()`'
  id: totrans-650
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`datasummary_balance()`'
- en: '`datasummary_skim()`'
  id: totrans-651
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`datasummary_skim()`'
- en: '`datasummary_descriptive()`'
  id: totrans-652
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`datasummary_descriptive()`'
- en: '`datasummary_crosstab()`'
  id: totrans-653
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`datasummary_crosstab()`'
- en: What is geocoding (pick one)?
  id: totrans-654
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 什么是地理编码（选择一个）？
- en: Converting latitude and longitude into place names.
  id: totrans-655
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将经纬度转换为地名。
- en: Drawing map boundaries.
  id: totrans-656
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 绘制地图边界。
- en: Picking a map projection.
  id: totrans-657
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择地图投影。
- en: Converting place names into latitude and longitude.
  id: totrans-658
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将地名转换为经纬度。
- en: From Lovelace, Nowosad, and Muenchow ([2019](99-references.html#ref-lovelace2019geocomputation)),
    please explain in a paragraph or two, what is the difference between vector data
    and raster data in the context of geographic data?
  id: totrans-659
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 根据 Lovelace、Nowosad 和 Muenchow ([2019](99-references.html#ref-lovelace2019geocomputation))
    的论述，请用一两段话解释在地理数据背景下，矢量数据和栅格数据之间的区别是什么？
- en: Which argument to `addMarkers()` is used to specify the behavior that occurs
    after a marker is clicked (pick one)?
  id: totrans-660
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`addMarkers()` 的哪个参数用于指定点击标记后发生的行为（选择一个）？'
- en: '`layerId`'
  id: totrans-661
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`layerId`'
- en: '`icon`'
  id: totrans-662
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`icon`'
- en: '`popup`'
  id: totrans-663
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`popup`'
- en: '`label`***  ***### Class activities'
  id: totrans-664
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`label`***  ***### 课堂活动'
- en: Use the [starter folder](https://github.com/RohanAlexander/starter_folder) and
    create a new repo. Add a link to the GitHub repo in the class’s shared Google
    Doc. Do all the following in `paper.qmd`.
  id: totrans-665
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用[起始文件夹](https://github.com/RohanAlexander/starter_folder)并创建一个新的代码仓库。在班级共享的
    Google 文档中添加该 GitHub 仓库的链接。在 `paper.qmd` 中完成以下所有操作。
- en: The following produces a scatterplot showing the level, in feet, of Lake Huron
    between 1875 and 1972\. Please improve it.
  id: totrans-666
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 以下代码生成了一张散点图，显示了休伦湖在1875年至1972年间的水位（以英尺为单位）。请改进它。
- en: '[PRE77]'
  id: totrans-667
  prefs: []
  type: TYPE_PRE
  zh: '[PRE77]'
- en: '**   The following produces a bar chart of the height of 31 Black Cherry Trees.
    Please improve it.'
  id: totrans-668
  prefs: []
  type: TYPE_NORMAL
  zh: '**   以下代码生成了一张31棵黑樱桃树高度的条形图。请改进它。'
- en: '[PRE78]'
  id: totrans-669
  prefs: []
  type: TYPE_PRE
  zh: '[PRE78]'
- en: '**   The following produces a line plot showing the weight of chicks, in grams,
    by how many days old they were. Please improve it.'
  id: totrans-670
  prefs: []
  type: TYPE_NORMAL
  zh: '**   以下代码生成了一张折线图，显示了雏鸡体重（以克为单位）随日龄的变化。请改进它。'
- en: '[PRE79]'
  id: totrans-671
  prefs: []
  type: TYPE_PRE
  zh: '[PRE79]'
- en: '**   The following produces a histogram showing the annual number of sunspots
    between 1700 and 1988\. Please improve it.'
  id: totrans-672
  prefs: []
  type: TYPE_NORMAL
  zh: '**   以下代码生成一个直方图，显示 1700 年至 1988 年间的太阳黑子年数量。请改进它。'
- en: '[PRE80]'
  id: totrans-673
  prefs: []
  type: TYPE_PRE
  zh: '[PRE80]'
- en: '**   Please follow [this code](https://github.com/saloni-nd/misc/blob/main/Mortality%20rates%20by%20age%20-%20HMD.R)
    from Saloni Dattani, and make a graph for two countries of interest to you.'
  id: totrans-674
  prefs: []
  type: TYPE_NORMAL
  zh: '**   请遵循 Saloni Dattani 的[此代码](https://github.com/saloni-nd/misc/blob/main/Mortality%20rates%20by%20age%20-%20HMD.R)，为你感兴趣的两个国家制作图表。'
- en: The following code, taken from the `palmerpenguins` [vignette](https://allisonhorst.github.io/palmerpenguins/articles/examples.html),
    produces a beautiful graph. Please modify it to create the ugliest graph that
    you can.[¹](#fn1)
  id: totrans-675
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 以下代码取自 `palmerpenguins` [示例文档](https://allisonhorst.github.io/palmerpenguins/articles/examples.html)，它生成了一个漂亮的图表。请修改它以创建你能想到的最丑的图表。[¹](#fn1)
- en: '[PRE81]'
  id: totrans-676
  prefs: []
  type: TYPE_PRE
  zh: '[PRE81]'
- en: '**   The following code provides estimates for the speed of light, from three
    experiments, each of 20 runs. Please create an average speed of light, per experiment,
    then use `knitr::kable()` to create a cross-referenced table, with specified column
    names, and no significant digits.'
  id: totrans-677
  prefs: []
  type: TYPE_NORMAL
  zh: '**   以下代码提供了来自三个实验的光速估计值，每个实验有 20 次运行。请计算每个实验的平均光速，然后使用 `knitr::kable()` 创建一个带有指定列名且无有效数字的交叉引用表格。'
- en: '[PRE82]*****  ***### Task I'
  id: totrans-678
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE82]*****  ***### 任务一'
- en: Please create a graph using `ggplot2` and a map using `ggmap` and add explanatory
    text to accompany both. Be sure to include cross-references and captions, etc.
    Each of these should take about a page.
  id: totrans-679
  prefs: []
  type: TYPE_NORMAL
  zh: 请使用 `ggplot2` 创建一个图表，并使用 `ggmap` 创建一张地图，并为两者添加说明文字。务必包含交叉引用和标题等。每项内容应占约一页篇幅。
- en: Then, with regard the graph you created, please reflect on Vanderplas, Cook,
    and Hofmann ([2020](99-references.html#ref-vanderplas2020testing)). Add a few
    paragraphs about the different options that you considered to make the graph more
    effective.
  id: totrans-680
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，关于你创建的图表，请思考 Vanderplas、Cook 和 Hofmann ([2020](99-references.html#ref-vanderplas2020testing))。添加几段关于你为使图表更有效而考虑的不同选项。
- en: 'And finally, with regard to the map that you created, please reflect on the
    following quote from Heather Krause, founder of [We All Count](https://weallcount.com):
    “maps only show people who aren’t invisible to the makers” as well as Chapter
    3 from D’Ignazio and Klein ([2020](99-references.html#ref-datafeminism2020)) and
    add a few paragraphs related to this.'
  id: totrans-681
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，关于你创建的地图，请思考 [We All Count](https://weallcount.com) 创始人 Heather Krause 的以下引述：“地图只显示对制作者而言不隐形的人”，以及
    D’Ignazio 和 Klein ([2020](99-references.html#ref-datafeminism2020)) 的第三章，并添加几段与此相关的内容。
- en: Submit a link to a high-quality GitHub repo.
  id: totrans-682
  prefs: []
  type: TYPE_NORMAL
  zh: 提交一个高质量 GitHub 仓库的链接。
- en: Task II
  id: totrans-683
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 任务二
- en: Please obtain data on the ethnic origins and number of Holocaust victims killed
    at Auschwitz concentration camp. Then use `shiny` to create an interactive graph
    and an interactive table. These should show the number of people murdered by nationality/category
    and should allow the user to specify the groups they are interested in seeing
    data for. Publish them using the free tier of shinyapps.io.
  id: totrans-684
  prefs: []
  type: TYPE_NORMAL
  zh: 请获取关于奥斯威辛集中营大屠杀受害者的族裔来源和数量的数据。然后使用 `shiny` 创建一个交互式图表和一个交互式表格。这些应显示按国籍/类别划分的被谋杀人数，并应允许用户指定他们感兴趣查看数据的群体。使用
    shinyapps.io 的免费层发布它们。
- en: Then, based on the themes brought up in Bouie ([2022](99-references.html#ref-americaslavery)),
    discuss your work in at least two pages. The expectation is that, similar to Healy
    ([2020](99-references.html#ref-kieranskitchen)), you use your work as a foundation
    to build on and discuss what it means to use data about such a horror.
  id: totrans-685
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，基于 Bouie ([2022](99-references.html#ref-americaslavery)) 中提出的主题，用至少两页的篇幅讨论你的工作。期望是，类似于
    Healy ([2020](99-references.html#ref-kieranskitchen))，你以你的工作为基础进行构建，并讨论使用关于如此恐怖事件的数据意味着什么。
- en: Use the starter folder, and submit a PDF created using the Quarto doc provided
    there. Ensure that your essay contains links to both your app and the GitHub repo
    that contains all code and data. As well as extensive citations to relevant literature
    that you reflected on.
  id: totrans-686
  prefs: []
  type: TYPE_NORMAL
  zh: 使用起始文件夹，并提交使用其中提供的 Quarto 文档创建的 PDF。确保你的文章包含指向你的应用程序以及包含所有代码和数据的 GitHub 仓库的链接。同时，广泛引用你思考过的相关文献。
- en: Paper
  id: totrans-687
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 论文
- en: At about this point the *Mawson* Paper from [Online Appendix F](25-papers.html)
    would be appropriate.
  id: totrans-688
  prefs: []
  type: TYPE_NORMAL
  zh: 大约在此处，[在线附录 F](25-papers.html) 中的 *Mawson* 论文将是合适的。
- en: 'Andersen, Robert, and David Armstrong. 2021\. *Presenting Statistical Results
    Effectively*. London: Sage.Arel-Bundock, Vincent. 2021\. *WDI: World Development
    Indicators and Other World Bank Data*. [https://CRAN.R-project.org/package=WDI](https://CRAN.R-project.org/package=WDI).———.
    2022\. “modelsummary: Data and Model Summaries in R.” *Journal of Statistical
    Software* 103 (1): 1–23\. [https://doi.org/10.18637/jss.v103.i01](https://doi.org/10.18637/jss.v103.i01).———.
    2024\. *tinytable: Simple and Configurable Tables in “HTML,” “LaTeX,” “Markdown,”
    “Word,” “PNG,” “PDF,” and “Typst” Formats*. [https://vincentarelbundock.github.io/tinytable/](https://vincentarelbundock.github.io/tinytable/).Armstrong,
    Zan. 2022\. “Stop Aggregating Away the Signal in Your Data.” *The Overflow*, March.
    [https://stackoverflow.blog/2022/03/03/stop-aggregating-away-the-signal-in-your-data/](https://stackoverflow.blog/2022/03/03/stop-aggregating-away-the-signal-in-your-data/).Arnold,
    Jeffrey. 2021\. *ggthemes: Extra Themes, Scales and Geoms for “ggplot2”*. [https://CRAN.R-project.org/package=ggthemes](https://CRAN.R-project.org/package=ggthemes).Becker,
    Richard, Allan Wilks, Ray Brownrigg, Thomas Minka, and Alex Deckmyn. 2022\. *maps:
    Draw Geographical Maps*. [https://CRAN.R-project.org/package=maps](https://CRAN.R-project.org/package=maps).Bensinger,
    Greg. 2020\. “Google Redraws the Borders on Maps Depending on Who’s Looking.”
    *The Washington Post*, February. [https://www.washingtonpost.com/technology/2020/02/14/google-maps-political-borders/](https://www.washingtonpost.com/technology/2020/02/14/google-maps-political-borders/).Bethlehem,
    R. A. I., J. Seidlitz, S. R. White, J. W. Vogel, K. M. Anderson, C. Adamson, S.
    Adler, et al. 2022\. “Brain Charts for the Human Lifespan.” *Nature* 604 (7906):
    525–33\. [https://doi.org/10.1038/s41586-022-04554-y](https://doi.org/10.1038/s41586-022-04554-y).Bouie,
    Jamelle. 2022\. “We Still Can’t See American Slavery for What It Was.” *The New
    York Times*, January. [https://www.nytimes.com/2022/01/28/opinion/slavery-voyages-data-sets.html](https://www.nytimes.com/2022/01/28/opinion/slavery-voyages-data-sets.html).Brewer,
    Cynthia. 2015\. *Designing Better Maps: A Guide for GIS Users*. 2nd ed.Bronner,
    Laura. 2021\. “Quantitative Editing.” *YouTube*, June. [https://youtu.be/LI5m9RzJgWc](https://youtu.be/LI5m9RzJgWc).Cambon,
    Jesse, and Christopher Belanger. 2021\. “tidygeocoder: Geocoding Made Easy.” Zenodo.
    [https://doi.org/10.5281/zenodo.3981510](https://doi.org/10.5281/zenodo.3981510).Chang,
    Winston, Joe Cheng, JJ Allaire, Carson Sievert, Barret Schloerke, Yihui Xie, Jeff
    Allen, Jonathan McPherson, Alan Dipert, and Barbara Borges. 2021\. *shiny: Web
    Application Framework for R*. [https://CRAN.R-project.org/package=shiny](https://CRAN.R-project.org/package=shiny).Chase,
    William. 2020\. “The Glamour of Graphics.” *RStudio Conference*, January. [https://posit.co/resources/videos/the-glamour-of-graphics/](https://posit.co/resources/videos/the-glamour-of-graphics/).Cheng,
    Joe, Bhaskar Karambelkar, and Yihui Xie. 2021\. *leaflet: Create Interactive Web
    Maps with the JavaScript “Leaflet” Library*. [https://CRAN.R-project.org/package=leaflet](https://CRAN.R-project.org/package=leaflet).Cleveland,
    William. (1985) 1994\. *The Elements of Graphing Data*. 2nd ed. New Jersey: Hobart
    Press.Cooley, David. 2020\. *mapdeck: Interactive Maps Using “Mapbox GL JS” and
    “Deck.gl”*. [https://CRAN.R-project.org/package=mapdeck](https://CRAN.R-project.org/package=mapdeck).D’Ignazio,
    Catherine, and Lauren Klein. 2020\. *Data Feminism*. Massachusetts: The MIT Press.
    [https://data-feminism.mitpress.mit.edu](https://data-feminism.mitpress.mit.edu).Davies,
    Rhian, Steph Locke, and Lucy D’Agostino McGowan. 2022\. *datasauRus: Datasets
    from the Datasaurus Dozen*. [https://CRAN.R-project.org/package=datasauRus](https://CRAN.R-project.org/package=datasauRus).Denby,
    Lorraine, and Colin Mallows. 2009\. “Variations on the Histogram.” *Journal of
    Computational and Graphical Statistics* 18 (1): 21–31\. [https://doi.org/10.1198/jcgs.2009.0002](https://doi.org/10.1198/jcgs.2009.0002).Firke,
    Sam. 2023\. *janitor: Simple Tools for Examining and Cleaning Dirty Data*. [https://CRAN.R-project.org/package=janitor](https://CRAN.R-project.org/package=janitor).Flynn,
    Michael. 2022\. *troopdata: Tools for Analyzing Cross-National Military Deployment
    and Basing Data*. [https://CRAN.R-project.org/package=troopdata](https://CRAN.R-project.org/package=troopdata).Fox,
    John, and Robert Andersen. 2006\. “Effect Displays for Multinomial and Proportional-Odds
    Logit Models.” *Sociological Methodology* 36 (1): 225–55\. [https://doi.org/10.1111/j.1467-9531.2006.00180](https://doi.org/10.1111/j.1467-9531.2006.00180).Fox,
    John, Sanford Weisberg, and Brad Price. 2022\. *carData: Companion to Applied
    Regression Data Sets*. [https://CRAN.R-project.org/package=carData](https://CRAN.R-project.org/package=carData).Franconeri,
    Steven, Lace Padilla, Priti Shah, Jeffrey Zacks, and Jessica Hullman. 2021\. “The
    Science of Visual Data Communication: What Works.” *Psychological Science in the
    Public Interest* 22 (3): 110–61\. [https://doi.org/10.1177/15291006211051956](https://doi.org/10.1177/15291006211051956).Friendly,
    Michael, and Howard Wainer. 2021\. *A History of Data Visualization and Graphic
    Communication*. 1st ed. Massachusetts: Harvard University Press.Funkhouser, Gray.
    1937\. “Historical Development of the Graphical Representation of Statistical
    Data.” *Osiris* 3: 269–404\. [https://doi.org/10.1086/368480](https://doi.org/10.1086/368480).Garnier,
    Simon, Noam Ross, Robert Rudis, Antônio Camargo, Marco Sciaini, and Cédric Scherer.
    2021\. *viridis – Colorblind-Friendly Color Maps for R*. [https://doi.org/10.5281/zenodo.4679424](https://doi.org/10.5281/zenodo.4679424).Gelfand,
    Sharla. 2022\. *opendatatoronto: Access the City of Toronto Open Data Portal*.
    [https://CRAN.R-project.org/package=opendatatoronto](https://CRAN.R-project.org/package=opendatatoronto).Healy,
    Kieran. 2018\. *Data Visualization*. New Jersey: Princeton University Press. [https://socviz.co](https://socviz.co).———.
    2020\. “The Kitchen Counter Observatory,” May. [https://kieranhealy.org/blog/archives/2020/05/21/the-kitchen-counter-observatory/](https://kieranhealy.org/blog/archives/2020/05/21/the-kitchen-counter-observatory/).Howes,
    Adam. 2022\. “Representing Uncertainty Using Significant Figures,” April. [https://athowes.github.io/posts/2022-04-24-representing-uncertainty-using-significant-figures/](https://athowes.github.io/posts/2022-04-24-representing-uncertainty-using-significant-figures/).Kahle,
    David, and Hadley Wickham. 2013\. “ggmap: Spatial Visualization with ggplot2.”
    *The R Journal* 5 (1): 144–61\. [http://journal.r-project.org/archive/2013-1/kahle-wickham.pdf](http://journal.r-project.org/archive/2013-1/kahle-wickham.pdf).Karsten,
    Karl. 1923\. *Charts and Graphs*. New York: Prentice-Hall.Kuznets, Simon, Lillian
    Epstein, and Elizabeth Jenks. 1941\. *National Income and Its Composition, 1919-1938*.
    National Bureau of Economic Research.Lovelace, Robin, Jakub Nowosad, and Jannes
    Muenchow. 2019\. *Geocomputation with R*. 1st ed. Chapman; Hall/CRC. [https://geocompr.robinlovelace.net](https://geocompr.robinlovelace.net).McIlroy,
    Doug, Ray Brownrigg, Thomas Minka, and Roger Bivand. 2023\. *mapproj: Map Projections*.
    [https://CRAN.R-project.org/package=mapproj](https://CRAN.R-project.org/package=mapproj).McQuire,
    Scott. 2019\. “One Map to Rule Them All? Google Maps as Digital Technical Object.”
    *Communication and the Public* 4 (2): 150–65\. [https://doi.org/10.1177/2057047319850192](https://doi.org/10.1177/2057047319850192).Miller,
    Greg. 2014\. “The Cartographer Who’s Transforming Map Design.” *Wired*, October.
    [https://www.wired.com/2014/10/cindy-brewer-map-design/](https://www.wired.com/2014/10/cindy-brewer-map-design/).Moyer,
    Brian, and Abe Dunn. 2020\. “Measuring the Gross Domestic Product (GDP): The Ultimate
    Data Science Project.” *Harvard Data Science Review* 2 (1). [https://doi.org/10.1162/99608f92.414caadb](https://doi.org/10.1162/99608f92.414caadb).Neuwirth,
    Erich. 2022\. *RColorBrewer: ColorBrewer Palettes*. [https://CRAN.R-project.org/package=RColorBrewer](https://CRAN.R-project.org/package=RColorBrewer).OECD.
    2014\. “The Essential Macroeconomic Aggregates.” In *Understanding National Accounts*,
    13–46\. OECD. [https://doi.org/10.1787/9789264214637-2-en](https://doi.org/10.1787/9789264214637-2-en).Pedersen,
    Thomas Lin. 2022\. *patchwork: The Composer of Plots*. [https://CRAN.R-project.org/package=patchwork](https://CRAN.R-project.org/package=patchwork).Phillips,
    Alban. 1958\. “The Relation Between Unemployment and the Rate of Change of Money
    Wage Rates in the United Kingdom, 1861-1957.” *Economica* 25 (100): 283–99\. [https://doi.org/10.1111/j.1468-0335.1958.tb00003.x](https://doi.org/10.1111/j.1468-0335.1958.tb00003.x).R
    Core Team. 2024\. *R: A Language and Environment for Statistical Computing*. Vienna,
    Austria: R Foundation for Statistical Computing. [https://www.R-project.org/](https://www.R-project.org/).Rudis,
    Bob. 2020\. *hrbrthemes: Additional Themes, Theme Components and Utilities for
    “ggplot2”*. [https://CRAN.R-project.org/package=hrbrthemes](https://CRAN.R-project.org/package=hrbrthemes).Spear,
    Mary Eleanor. 1952\. *Charting Statistics*. [https://archive.org/details/ChartingStatistics_201801/](https://archive.org/details/ChartingStatistics_201801/).The
    Economist. 2022a. “Will Emmanuel Macron Win a Second Term?” April. [https://www.economist.com/interactive/france-2022/forecast](https://www.economist.com/interactive/france-2022/forecast).———.
    2022b. “France’s Presidential Election: The Second Round in Detail,” April. [https://www.economist.com/interactive/france-2022/results-round-two](https://www.economist.com/interactive/france-2022/results-round-two).Tukey,
    John. 1977\. *Exploratory Data Analysis*.Vanderplas, Susan, Dianne Cook, and Heike
    Hofmann. 2020\. “Testing Statistical Charts: What Makes a Good Graph?” *Annual
    Review of Statistics and Its Application* 7: 61–88\. [https://doi.org/10.1146/annurev-statistics-031219-041252](https://doi.org/10.1146/annurev-statistics-031219-041252).Wasserman,
    Larry. 2005\. *All of Statistics*. Springer.Wei, Eugene. 2017\. *Remove the Legend
    to Become One*. [https://www.eugenewei.com/blog/2017/11/13/remove-the-legend](https://www.eugenewei.com/blog/2017/11/13/remove-the-legend).Weissgerber,
    Tracey, Natasa Milic, Stacey Winham, and Vesna Garovic. 2015\. “Beyond Bar and
    Line Graphs: Time for a New Data Presentation Paradigm.” *PLoS Biology* 13 (4):
    e1002128\. [https://doi.org/10.1371/journal.pbio.1002128](https://doi.org/10.1371/journal.pbio.1002128).Wickham,
    Hadley. 2021a. *babynames: US Baby Names 1880-2017*. [https://CRAN.R-project.org/package=babynames](https://CRAN.R-project.org/package=babynames).———.
    2021b. *Mastering Shiny*. 1st ed. O’Reilly Media. [https://mastering-shiny.org](https://mastering-shiny.org).Wickham,
    Hadley, Mara Averick, Jenny Bryan, Winston Chang, Lucy D’Agostino McGowan, Romain
    François, Garrett Grolemund, et al. 2019\. “Welcome to the Tidyverse.” *Journal
    of Open Source Software* 4 (43): 1686\. [https://doi.org/10.21105/joss.01686](https://doi.org/10.21105/joss.01686).Wickham,
    Hadley, Jennifer Bryan, and Malcolm Barrett. 2022\. *usethis: Automate Package
    and Project Setup*. [https://CRAN.R-project.org/package=usethis](https://CRAN.R-project.org/package=usethis).Wickham,
    Hadley, Mine Çetinkaya-Rundel, and Garrett Grolemund. (2016) 2023\. *R for Data
    Science*. 2nd ed. O’Reilly Media. [https://r4ds.hadley.nz](https://r4ds.hadley.nz).Wickham,
    Hadley, and Lisa Stryjewski. 2011\. “40 Years of Boxplots,” November. [https://vita.had.co.nz/papers/boxplots.pdf](https://vita.had.co.nz/papers/boxplots.pdf).Wilkinson,
    Leland. 2005\. *The Grammar of Graphics*. 2nd ed. Springer.Xie, Yihui. 2023\.
    *knitr: A General-Purpose Package for Dynamic Report Generation in R*. [https://yihui.org/knitr/](https://yihui.org/knitr/).******
    **** * *'
  id: totrans-689
  prefs: []
  type: TYPE_NORMAL
  zh: 'Andersen, Robert, and David Armstrong. 2021\. *有效呈现统计结果*。伦敦：Sage出版社。Arel-Bundock,
    Vincent. 2021\. *WDI：世界发展指标及其他世界银行数据*。[https://CRAN.R-project.org/package=WDI](https://CRAN.R-project.org/package=WDI)。———.
    2022\. “modelsummary：R语言中的数据与模型摘要。” *统计软件杂志* 103 (1): 1–23\. [https://doi.org/10.18637/jss.v103.i01](https://doi.org/10.18637/jss.v103.i01)。———.
    2024\. *tinytable：支持“HTML”、“LaTeX”、“Markdown”、“Word”、“PNG”、“PDF”和“Typst”格式的简单可配置表格*。[https://vincentarelbundock.github.io/tinytable/](https://vincentarelbundock.github.io/tinytable/)。Armstrong,
    Zan. 2022\. “停止在数据聚合中丢失信号。” *The Overflow*，三月。[https://stackoverflow.blog/2022/03/03/stop-aggregating-away-the-signal-in-your-data/](https://stackoverflow.blog/2022/03/03/stop-aggregating-away-the-signal-in-your-data/)。Arnold,
    Jeffrey. 2021\. *ggthemes：“ggplot2”的额外主题、比例尺和几何对象*。[https://CRAN.R-project.org/package=ggthemes](https://CRAN.R-project.org/package=ggthemes)。Becker,
    Richard, Allan Wilks, Ray Brownrigg, Thomas Minka, and Alex Deckmyn. 2022\. *maps：绘制地理地图*。[https://CRAN.R-project.org/package=maps](https://CRAN.R-project.org/package=maps)。Bensinger,
    Greg. 2020\. “谷歌根据查看者重绘地图边界。” *华盛顿邮报*，二月。[https://www.washingtonpost.com/technology/2020/02/14/google-maps-political-borders/](https://www.washingtonpost.com/technology/2020/02/14/google-maps-political-borders/)。Bethlehem,
    R. A. I., J. Seidlitz, S. R. White, J. W. Vogel, K. M. Anderson, C. Adamson, S.
    Adler, et al. 2022\. “人类全生命周期的脑图谱。” *自然* 604 (7906): 525–33\. [https://doi.org/10.1038/s41586-022-04554-y](https://doi.org/10.1038/s41586-022-04554-y)。Bouie,
    Jamelle. 2022\. “我们仍未能看清美国奴隶制的本质。” *纽约时报*，一月。[https://www.nytimes.com/2022/01/28/opinion/slavery-voyages-data-sets.html](https://www.nytimes.com/2022/01/28/opinion/slavery-voyages-data-sets.html)。Brewer,
    Cynthia. 2015\. *设计更好的地图：GIS用户指南*。第二版。Bronner, Laura. 2021\. “量化编辑。” *YouTube*，六月。[https://youtu.be/LI5m9RzJgWc](https://youtu.be/LI5m9RzJgWc)。Cambon,
    Jesse, and Christopher Belanger. 2021\. “tidygeocoder：轻松地理编码。” Zenodo。[https://doi.org/10.5281/zenodo.3981510](https://doi.org/10.5281/zenodo.3981510)。Chang,
    Winston, Joe Cheng, JJ Allaire, Carson Sievert, Barret Schloerke, Yihui Xie, Jeff
    Allen, Jonathan McPherson, Alan Dipert, and Barbara Borges. 2021\. *shiny：R语言的Web应用框架*。[https://CRAN.R-project.org/package=shiny](https://CRAN.R-project.org/package=shiny)。Chase,
    William. 2020\. “图形的魅力。” *RStudio大会*，一月。[https://posit.co/resources/videos/the-glamour-of-graphics/](https://posit.co/resources/videos/the-glamour-of-graphics/)。Cheng,
    Joe, Bhaskar Karambelkar, and Yihui Xie. 2021\. *leaflet：使用JavaScript“Leaflet”库创建交互式网络地图*。[https://CRAN.R-project.org/package=leaflet](https://CRAN.R-project.org/package=leaflet)。Cleveland,
    William. (1985) 1994\. *数据图形化要素*。第二版。新泽西：Hobart出版社。Cooley, David. 2020\. *mapdeck：使用“Mapbox
    GL JS”和“Deck.gl”的交互式地图*。[https://CRAN.R-project.org/package=mapdeck](https://CRAN.R-project.org/package=mapdeck)。D’Ignazio,
    Catherine, and Lauren Klein. 2020\. *数据女性主义*。马萨诸塞州：麻省理工学院出版社。[https://data-feminism.mitpress.mit.edu](https://data-feminism.mitpress.mit.edu)。Davies,
    Rhian, Steph Locke, and Lucy D’Agostino McGowan. 2022\. *datasauRus：Datasaurus
    Dozen数据集*。[https://CRAN.R-project.org/package=datasauRus](https://CRAN.R-project.org/package=datasauRus)。Denby,
    Lorraine, and Colin Mallows. 2009\. “直方图的变体。” *计算与图形统计杂志* 18 (1): 21–31\. [https://doi.org/10.1198/jcgs.2009.0002](https://doi.org/10.1198/jcgs.2009.0002)。Firke,
    Sam. 2023\. *janitor：用于检查和清理脏数据的简单工具*。[https://CRAN.R-project.org/package=janitor](https://CRAN.R-project.org/package=janitor)。Flynn,
    Michael. 2022\. *troopdata：分析跨国军事部署与基地数据的工具*。[https://CRAN.R-project.org/package=troopdata](https://CRAN.R-project.org/package=troopdata)。Fox,
    John, and Robert Andersen. 2006\. “多项和比例优势Logit模型的效应展示。” *社会学方法论* 36 (1): 225–55\.
    [https://doi.org/10.1111/j.1467-9531.2006.00180](https://doi.org/10.1111/j.1467-9531.2006.00180)。Fox,
    John, Sanford Weisberg, and Brad Price. 2022\. *carData：应用回归数据集的配套数据*。[https://CRAN.R-project.org/package=carData](https://CRAN.R-project.org/package=carData)。Franconeri,
    Steven, Lace Padilla, Priti Shah, Jeffrey Zacks, and Jessica Hullman. 2021\. “视觉数据传播的科学：什么有效。”
    *公共利益中的心理科学* 22 (3): 110–61\. [https://doi.org/10.1177/15291006211051956](https://doi.org/10.1177/15291006211051956)。Friendly,
    Michael, and Howard Wainer. 2021\. *数据可视化与图形传播史*。第一版。马萨诸塞州：哈佛大学出版社。Funkhouser,
    Gray. 1937\. “统计数据图形表示的历史发展。” *Osiris* 3: 269–404\. [https://doi.org/10.1086/368480](https://doi.org/10.1086/368480)。Garnier,
    Simon, Noam Ross, Robert Rudis, Antônio Camargo, Marco Sciaini, and Cédric Scherer.
    2021\. *viridis – R语言的色盲友好配色方案*。[https://doi.org/10.5281/zenodo.4679424](https://doi.org/10.5281/zenodo.4679424)。Gelfand,
    Sharla. 2022\. *opendatatoronto：访问多伦多市开放数据门户*。[https://CRAN.R-project.org/package=opendatatoronto](https://CRAN.R-project.org/package=opendatatoronto)。Healy,
    Kieran. 2018\. *数据可视化*。新泽西：普林斯顿大学出版社。[https://socviz.co](https://socviz.co)。———.
    2020\. “厨房柜台观测站”，五月。[https://kieranhealy.org/blog/archives/2020/05/21/the-kitchen-counter-observatory/](https://kieranhealy.org/blog/archives/2020/05/21/the-kitchen-counter-observatory/)。Howes,
    Adam. 2022\. “使用有效数字表示不确定性”，四月。[https://athowes.github.io/posts/2022-04-24-representing-uncertainty-using-significant-figures/](https://athowes.github.io/posts/2022-04-24-representing-uncertainty-using-significant-figures/)。Kahle,
    David, and Hadley Wickham. 2013\. “ggmap：使用ggplot2进行空间可视化。” *R期刊* 5 (1): 144–61\.
    [http://journal.r-project.org/archive/2013-1/kahle-wickham.pdf](http://journal.r-project.org/archive/2013-1/kahle-wickham.pdf)。Karsten,
    Karl. 1923\. *图表与图形*。纽约：Prentice-Hall出版社。Kuznets, Simon, Lillian Epstein, and
    Elizabeth Jenks. 1941\. *国民收入及其构成，1919-1938年*。国家经济研究局。Lovelace, Robin, Jakub Nowosad,
    and Jannes Muenchow. 2019\. *R语言地理计算*。第一版。Chapman; Hall/CRC出版社。[https://geocompr.robinlovelace.net](https://geocompr.robinlovelace.net)。McIlroy,
    Doug, Ray Brownrigg, Thomas Minka, and Roger Bivand. 2023\. *mapproj：地图投影*。[https://CRAN.R-project.org/package=mapproj](https://CRAN.R-project.org/package=mapproj)。McQuire,
    Scott. 2019\. “一图统天下？作为数字技术对象的谷歌地图。” *传播与公共* 4 (2): 150–65\. [https://doi.org/10.1177/2057047319850192](https://doi.org/10.1177/2057047319850192)。Miller,
    Greg. 2014\. “正在改变地图设计的制图师。” *Wired*，十月。[https://www.wired.com/2014/10/cindy-brewer-map-design/](https://www.wired.com/2014/10/cindy-brewer-map-design/)。Moyer,
    Brian, and Abe Dunn. 2020\. “衡量国内生产总值（GDP）：终极数据科学项目。” *哈佛数据科学评论* 2 (1)。[https://doi.org/10.1162/99608f92.414caadb](https://doi.org/10.1162/99608f92.414caadb)。Neuwirth,
    Erich. 2022\. *RColorBrewer：ColorBrewer配色方案*。[https://CRAN.R-project.org/package=RColorBrewer](https://CRAN.R-project.org/package=RColorBrewer)。OECD.
    2014\. “基本宏观经济总量。” 载于《理解国民账户》，13–46页。经合组织。[https://doi.org/10.1787/9789264214637-2-en](https://doi.org/10.1787/9789264214637-2-en)。Pedersen,
    Thomas Lin. 2022\. *patchwork：图形组合器*。[https://CRAN.R-project.org/package=patchwork](https://CRAN.R-project.org/package=patchwork)。Phillips,
    Alban. 1958\. “英国失业率与货币工资率变化率之间的关系，1861-1957年。” *Economica* 25 (100): 283–99\.
    [https://doi.org/10.1111/j.1468-0335.1958.tb00003.x](https://doi.org/10.1111/j.1468-0335.1958.tb00003.x)。R
    Core Team. 2024\. *R：统计计算的语言与环境*。奥地利维也纳：R统计计算基金会。[https://www.R-project.org/](https://www.R-project.org/)。Rudis,
    Bob. 2020\. *hrbrthemes：“ggplot2”的额外主题、主题组件和实用工具*。[https://CRAN.R-project.org/package=hrbrthemes](https://CRAN.R-project.org/package=hrbrthemes)。Spear,
    Mary Eleanor. 1952\. *统计制图*。[https://archive.org/details/ChartingStatistics_201801/](https://archive.org/details/ChartingStatistics_201801/)。The
    Economist. 2022a. “埃马纽埃尔·马克龙会赢得第二个任期吗？” 四月。[https://www.economist.com/interactive/france-2022/forecast](https://www.economist.com/interactive/france-2022/forecast)。———.
    2022b. “法国总统选举：第二轮投票详情”，四月。[https://www.economist.com/interactive/france-2022/results-round-two](https://www.economist.com/interactive/france-2022/results-round-two)。Tukey,
    John. 1977\. *探索性数据分析*。Vanderplas, Susan, Dianne Cook, and Heike Hofmann. 2020\.
    “测试统计图表：什么造就了好图表？” *统计及其应用年度评论* 7: 61–88\. [https://doi.org/10.1146/annurev-statistics-031219-041252](https://doi.org/10.1146/annurev-statistics-031219-041252)。Wasserman,
    Larry. 2005\. *统计学全览*。Springer出版社。Wei, Eugene. 2017\. *移除图例，成为传奇*。[https://www.eugenewei.com/blog/2017/11/13/remove-the-legend](https://www.eugenewei.com/blog/2017/11/13/remove-the-legend)。Weissgerber,
    Tracey, Natasa Milic, Stacey Winham, and Vesna Garovic. 2015\. “超越条形图和折线图：数据呈现新范式的时代。”
    *PLoS Biology* 13 (4): e1002128\. [https://doi.org/10.1371/journal.pbio.1002128](https://doi.org/10.1371/journal.pbio.1002128)。Wickham,
    Hadley. 2021a. *babynames：美国婴儿名字 1880-2017*。[https://CRAN.R-project.org/package=babynames](https://CRAN.R-project.org/package=babynames)。———.
    2021b. *精通Shiny*。第一版。O’Reilly Media出版社。[https://mastering-shiny.org](https://mastering-shiny.org)。Wickham,
    Hadley, Mara Averick, Jenny Bryan, Winston Chang, Lucy D’Agostino McGowan, Romain
    François, Garrett Grolemund, et al. 2019\. “欢迎来到Tidyverse。” *开源软件杂志* 4 (43): 1686\.
    [https://doi.org/10.21105/joss.01686](https://doi.org/10.21105/joss.01686)。Wickham,
    Hadley, Jennifer Bryan, and Malcolm Barrett. 2022\. *usethis：自动化包和项目设置*。[https://CRAN.R-project.org/package=usethis](https://CRAN.R-project.org/package=usethis)。Wickham,
    Hadley, Mine Çetinkaya-Rundel, and Garrett Grolemund. (2016) 2023\. *R数据科学*。第二版。O’Reilly
    Media出版社。[https://r4ds.hadley.nz](https://r4ds.hadley.nz)。Wickham, Hadley, and
    Lisa Stryjewski. 2011\. “箱线图40年”，十一月。[https://vita.had.co.nz/papers/boxplots.pdf](https://vita.had.co.nz/papers/boxplots.pdf)。Wilkinson,
    Leland. 2005\. *图形语法*。第二版。Springer出版社。Xie, Yihui. 2023\. *knitr：R语言中动态报告生成的通用包*。[https://yihui.org/knitr/](https://yihui.org/knitr/)。'
- en: The idea for this exercise is from Liza Bolton.[↩︎](#fnref1)****************
  id: totrans-690
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 这个练习的想法来自莉莎·博尔顿。[↩︎](#fnref1)
