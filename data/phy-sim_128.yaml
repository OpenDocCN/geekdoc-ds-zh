- en: Subspace Simulation
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 子空间模拟
- en: 原文：[https://phys-sim-book.github.io/lec25.2-subspace_sim.html](https://phys-sim-book.github.io/lec25.2-subspace_sim.html)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://phys-sim-book.github.io/lec25.2-subspace_sim.html](https://phys-sim-book.github.io/lec25.2-subspace_sim.html)
- en: <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
- en: In this subsection, we derive a constrained version of the rigid body dynamics
    equations using a subspace optimization approach. This formulation connects rigid
    body dynamics to the Incremental Potential Contact (IPC) method, as will be further
    elaborated in subsequent sections.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 在本小节中，我们使用子空间优化方法推导出刚体动力学方程的约束版本。这种公式将刚体动力学与增量势能接触（IPC）方法联系起来，这将在后续章节中进一步阐述。
- en: 'Recall that in IPC, the simulation problem is posed as the following optimization:
    xn+1where E(x)​=xargmin​E(x)=21​∥x−x~n∥+Δt2P(x).​​'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 回想一下，在IPC中，模拟问题被表述为以下优化问题：xn+1where E(x)​=xargmin​E(x)=21​∥x−x~n∥+Δt2P(x).​​
- en: Here, E(x) is the incremental potential, x denotes the particle position to
    be solved.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，E(x)是增量势能，x表示待求解的粒子位置。
- en: 'Let x be a particle position on a rigid body, parameterized by the body''s
    rotation matrix Q and translation q. The rigid body kinematics impose the constraint
    x=Qxˉ+q, where xˉ is the particle''s position in the body-local frame. In the
    stacked form, this becomes:'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 设x为刚体上的一个粒子位置，由刚体的旋转矩阵Q和平移量q参数化。刚体运动学强加约束x=Qxˉ+q，其中xˉ是粒子在局部坐标系中的位置。以堆叠形式表示，则为：
- en: x=xˉQ+Sˉq,
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: x=xˉQ+Sˉq,
- en: where xˉ and Sˉ are constant matrices independent of Q and q as they only rely
    on the local particle positions in the body frame.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 其中，xˉ和Sˉ是独立于Q和q的常数矩阵，因为它们只依赖于刚体局部坐标系中的局部粒子位置。
- en: 'Substituting into the IPC formulation, we obtain the constrained optimization
    problem:'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 将其代入IPC公式，我们得到以下约束优化问题：
- en: Qn+1,qn+1whereE(Q,q)​=Q,qargmin​E(Q,q)s.t.f(Q)=0,=21​​xˉQ+Sˉq−x~n​2+Δt2P(xˉQ+Sˉq),​​
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: Qn+1,qn+1whereE(Q,q)​=Q,qargmin​E(Q,q)s.t.f(Q)=0,=21​​xˉQ+Sˉq−x~n​2+Δt2P(xˉQ+Sˉq),​​
- en: where the constraint f(Q)=0 enforces rigidity of the rotation matrices Qi​ for
    each rigid body i i.e. QiT​Qi​−I3​=0.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 其中约束f(Q)=0强制每个刚体i的旋转矩阵Qi的刚性，即QiT​Qi​−I3​=0。
- en: 'Applying the method of Lagrange multipliers, we introduce the Lagrangian:'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 应用拉格朗日乘数法，我们引入拉格朗日量：
- en: G=E(Q,q)+λ⊤f(Q),
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: G=E(Q,q)+λ⊤f(Q),
- en: 'and derive the stationarity conditions: ∇q​G∇Q​G∇λ​G​=0,=0,=0.​​'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 并推导出驻定条件：∇q​G∇Q​G∇λ​G​=0,=0,=0.​​
- en: 'This leads to the following constrained rigid body dynamics equations:'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 这导致以下约束刚体动力学方程：
- en: xˉ⊤M(xˉQ+Sˉq)+Δt2xˉ⊤∇P(xˉQ+Sˉq)+(∇f(Q))⊤λSˉ⊤M(xˉQ+Sˉq)+Δt2Sˉ⊤∇P(xˉQ+Sˉq)f(Q)​=0,=0,=0.​​(25.2.1)
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: xˉ⊤M(xˉQ+Sˉq)+Δt2xˉ⊤∇P(xˉQ+Sˉq)+(∇f(Q))⊤λSˉ⊤M(xˉQ+Sˉq)+Δt2Sˉ⊤∇P(xˉQ+Sˉq)f(Q)​=0,=0,=0.​​(25.2.1)
- en: These equations define the motion of rigid bodies under subspace-constrained
    dynamics, while satisfying both energy consistency and rigidity constraints.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 这些方程定义了在子空间约束动力学下的刚体运动，同时满足能量一致性和刚性约束。
