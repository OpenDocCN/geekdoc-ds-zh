- en: Linear Triangle Elements
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 线性三角形元素
- en: 原文：[https://phys-sim-book.github.io/lec15.1-linear_tri_elem.html](https://phys-sim-book.github.io/lec15.1-linear_tri_elem.html)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://phys-sim-book.github.io/lec15.1-linear_tri_elem.html](https://phys-sim-book.github.io/lec15.1-linear_tri_elem.html)
- en: <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
- en: In previous discussions, we learned to calculate Ψ and its derivatives with
    respect to F. For simulation, however, we require ∂x∂Ψ​ and ∂x2∂2Ψ​. This necessitates
    a clear understanding of F(x), as it allows us to employ the chain rule to derive
    these derivatives with respect to x effectively.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 在之前的讨论中，我们学习了如何计算 Ψ 及其对 F 的导数。然而，对于模拟，我们需要 ∂x/∂Ψ 和 ∂x2/∂2Ψ。这需要我们清楚地理解 F(x)，因为它允许我们使用链式法则有效地推导出这些关于
    x 的导数。
- en: 'In 2D simulations, we often divide the solid domain into non-degenerate triangular
    elements. Assume the mapping x=ϕ(X) is linear within each triangle, thus keeping
    the deformation gradient F constant. Referencing [Example 12.2.1](lec12.2-deformation.html#exp:lec12:deformation_gradient),
    for a triangle defined by vertices X1​X2​X3​, we have the equations: x2​−x1​=F(X2​−X1​)andx3​−x1​=F(X3​−X1​),
    where xi​ denotes the world-space coordinates of the triangle vertices. This relationship
    leads to the expression for F: F=[x2​−x1​,x3​−x1​][X2​−X1​,X3​−X1​]−1.(15.1.1)
    Equation [(15.1.1)](#eq:lec15:compute_F) shows that F, derived here, maps any
    segment within the triangle to its world-space counterpart through linear combinations
    of the triangle edges X2​−X1​ and X3​−X1​. A more general and rigorous derivation
    of this formula will be presented in subsequent chapters.'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 在二维模拟中，我们通常将固体域划分为非退化的三角形元素。假设映射 x=ϕ(X) 在每个三角形内是线性的，从而保持变形梯度 F 恒定。参考[示例 12.2.1](lec12.2-deformation.html#exp:lec12:deformation_gradient)，对于一个由顶点
    X1、X2、X3 定义的三角形，我们得到以下方程：x2−x1=F(X2−X1)和x3−x1=F(X3−X1)，其中 xi 表示三角形顶点的世界空间坐标。这种关系导致
    F 的表达式：F=[x2−x1,x3−x1][X2−X1,X3−X1]−1。(15.1.1) 方程 [(15.1.1)](#eq:lec15:compute_F)
    显示，这里推导出的 F，通过三角形边 X2−X1 和 X3−X1 的线性组合将三角形内的任何线段映射到其世界空间对应物。这个公式的更一般和严格的推导将在后续章节中给出。
- en: 'Once F(x) is established, we can calculate its derivative with respect to x
    for each triangle as follows: ∂[x1T​,x2T​,x3T​]T∂[F11​,F21​,F12​,F22​]T​=​−B11​−B21​0−B12​−B22​0​0−B11​−B21​0−B12​−B22​​B11​0B12​0​0B11​0B12​​B21​0B22​0​0B21​0B22​​​,
    where B=[X2​−X1​,X3​−X1​]−1 represents the inverse of the matrix formed by subtracting
    the first vertex from the second and third vertices. This matrix B can be precomputed
    at initialization along with other properties such as the volume and Lame parameters
    of each triangle:'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦建立了 F(x)，我们就可以计算每个三角形关于 x 的导数，如下所示：∂[x1T,x2T,x3T]T/∂[F11,F21,F12,F22]T=−B11−B21
    0−B12−B22 0 0−B11−B21 0−B12−B22 B11 0B12 0 0B11 0B12 B21 0B22 0 0B21 0B22 ，其中
    B=[X2−X1,X3−X1]−1 表示由从第二个顶点减去第一个顶点和第三个顶点形成的矩阵的逆。这个矩阵 B 可以在初始化时与其他属性（如每个三角形的体积和Lame参数）一起预计算。
- en: '**Implementation 15.1.1 (Precomputation of element information, simulator.py).**'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: '**实现 15.1.1（元素信息预计算，simulator.py）。**'
- en: '[PRE0]'
  id: totrans-7
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'The Young''s modulus and Poisson''s ratio:'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 杨氏模量和泊松比：
- en: '[PRE1]'
  id: totrans-9
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Here, `e` no longer stores all edge elements as in mass-spring models but represents
    all triangle elements, which can be generated by modifying the meshing code as
    follows:'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，`e` 不再存储所有边元素，如质量-弹簧模型中那样，而是代表所有三角形元素，这些元素可以通过修改网格代码生成，如下所示：
- en: '**Implementation 15.1.2 (Assembling per-triangle vertex indices, square_mesh.py).**'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: '**实现 15.1.2（按三角形顶点索引组装，square_mesh.py）。**'
- en: '[PRE2]'
  id: totrans-12
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'Triangles are arranged in a symmetric pattern and can be rendered by drawing
    the three edges:'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 三角形以对称模式排列，可以通过绘制三条边来渲染：
- en: '**Implementation 15.1.3 (Draw triangles, simulator.py).**'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: '**实现 15.1.3（绘制三角形，simulator.py）。**'
- en: '[PRE3]'
  id: totrans-15
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
