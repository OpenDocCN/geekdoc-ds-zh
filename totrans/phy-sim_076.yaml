- en: Linear Triangle Elements
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://phys-sim-book.github.io/lec15.1-linear_tri_elem.html](https://phys-sim-book.github.io/lec15.1-linear_tri_elem.html)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
  prefs: []
  type: TYPE_NORMAL
- en: In previous discussions, we learned to calculate Ψ and its derivatives with
    respect to F. For simulation, however, we require ∂x∂Ψ​ and ∂x2∂2Ψ​. This necessitates
    a clear understanding of F(x), as it allows us to employ the chain rule to derive
    these derivatives with respect to x effectively.
  prefs: []
  type: TYPE_NORMAL
- en: 'In 2D simulations, we often divide the solid domain into non-degenerate triangular
    elements. Assume the mapping x=ϕ(X) is linear within each triangle, thus keeping
    the deformation gradient F constant. Referencing [Example 12.2.1](lec12.2-deformation.html#exp:lec12:deformation_gradient),
    for a triangle defined by vertices X1​X2​X3​, we have the equations: x2​−x1​=F(X2​−X1​)andx3​−x1​=F(X3​−X1​),
    where xi​ denotes the world-space coordinates of the triangle vertices. This relationship
    leads to the expression for F: F=[x2​−x1​,x3​−x1​][X2​−X1​,X3​−X1​]−1.(15.1.1)
    Equation [(15.1.1)](#eq:lec15:compute_F) shows that F, derived here, maps any
    segment within the triangle to its world-space counterpart through linear combinations
    of the triangle edges X2​−X1​ and X3​−X1​. A more general and rigorous derivation
    of this formula will be presented in subsequent chapters.'
  prefs: []
  type: TYPE_NORMAL
- en: 'Once F(x) is established, we can calculate its derivative with respect to x
    for each triangle as follows: ∂[x1T​,x2T​,x3T​]T∂[F11​,F21​,F12​,F22​]T​=​−B11​−B21​0−B12​−B22​0​0−B11​−B21​0−B12​−B22​​B11​0B12​0​0B11​0B12​​B21​0B22​0​0B21​0B22​​​,
    where B=[X2​−X1​,X3​−X1​]−1 represents the inverse of the matrix formed by subtracting
    the first vertex from the second and third vertices. This matrix B can be precomputed
    at initialization along with other properties such as the volume and Lame parameters
    of each triangle:'
  prefs: []
  type: TYPE_NORMAL
- en: '**Implementation 15.1.1 (Precomputation of element information, simulator.py).**'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: 'The Young''s modulus and Poisson''s ratio:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: 'Here, `e` no longer stores all edge elements as in mass-spring models but represents
    all triangle elements, which can be generated by modifying the meshing code as
    follows:'
  prefs: []
  type: TYPE_NORMAL
- en: '**Implementation 15.1.2 (Assembling per-triangle vertex indices, square_mesh.py).**'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: 'Triangles are arranged in a symmetric pattern and can be rendered by drawing
    the three edges:'
  prefs: []
  type: TYPE_NORMAL
- en: '**Implementation 15.1.3 (Draw triangles, simulator.py).**'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
