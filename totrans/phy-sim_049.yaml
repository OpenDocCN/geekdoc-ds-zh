- en: Smooth Dynamic-Static Transition
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://phys-sim-book.github.io/lec9.1-smooth_fric.html](https://phys-sim-book.github.io/lec9.1-smooth_fric.html)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
  prefs: []
  type: TYPE_NORMAL
- en: To model frictional contact, local frictional forces Fk​ can be added for every
    active contact point pair k. For each such pair k, at the current state {x,v},
    a consistently oriented sliding basis Tk​(x)∈Rdm×d can be constructed, where m
    is the total number of simulated nodes and d is the dimension of space, such that
    vk​=Tk​(x)Tv∈Rd provides the local relative sliding velocity that is orthogonal
    to the distance gradient in the normal direction nk​(x).
  prefs: []
  type: TYPE_NORMAL
- en: '****Example 9.1.1 (Particle Sliding on Sphere).**** For a particle with velocity
    vp​∈R3 moving on the surface of a sphere with velocity vs​∈R3 (no rotation), the
    relative sliding velocity vk​ here can be calculated as vk​=(vp​−vs​)−nk​⋅(vp​−vs​)nk​=(I3​−nk​nkT​)(vp​−vs​).
    If we stack the velocity of the particle and the sphere for this system to obtain
    v=[vpT​,vsT​]T∈R6, we now know that Tk​ is simply Tk​(x)=[I3​−nk​(x)nk​(x)Tnk​(x)nk​(x)T−I3​​]∈R6×3.
    For more general cases like mesh-mesh contact, the form of Tk​ only varies in
    how the relative velocity at the contact point pair k is related to the velocity
    at the simulated nodes.'
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Maximizing dissipation rate subject to the Coulomb constraint defines friction
    forces variationally Fk​(x)=Tk​(x) argβ∈Rdmin​βTvk​s.t.∥β∥≤μλk​  and  β⋅nk​=0,(9.1.1)
    where λk​=−wk​∂dk​∂b​ is the contact force magnitude and μ is the local friction
    coefficient. This is equivalent to Fk​(x)=−μλk​Tk​(x)f(∥vk​∥)s(vk​),(9.1.2) with
    s(vk​)=∥vk​∥vk​​ when ∥vk​∥>0, while s(vk​) takes any unit vector orthogonal to
    nk​ when ∥vk​∥=0. In addition, the friction scaling function, f, is also nonsmooth
    with respect to vk​ since f(∥vk​∥)=1 when ∥vk​∥>0, and f(∥vk​∥)∈[0,1] when ∥vk​∥=0.
    These non-smoothness would severely slow down and even break convergence of gradient-based
    optimization.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/a8c3f07f99d3d3e6383ac94f881c0e36.png)'
  prefs: []
  type: TYPE_IMG
- en: '**Figure 9.1.1.** An illustration of Tk​, vk​, nk​, and Fk​ when a point slides
    on a sphere.'
  prefs: []
  type: TYPE_NORMAL
- en: '***Remark 9.1.1 (Contact Force Magnitude).*** λk​=−wk​∂dk​∂b​ is the contact
    force magnitude because at node k, the contact force is −wk​∇xk​​b(dk​(x))=−wk​∂dk​∂b​∇xk​​dk​(x).
    Therefore, λk​=∥−wk​∂dk​∂b​∇xk​​dk​(x)∥=−wk​∂dk​∂b​ since ∂dk​∂b​<0 and ∥∇xk​​dk​(x)∥=1.'
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: To enable efficient and stable optimization, the friction-velocity relation
    in the transition to static friction can be mollified by replacing f with a smoothly
    approximated function. Following IPC, we use f1​(y)={−ϵv2​y2​+ϵv​2y​,1,​y∈[0,ϵv​)y≥ϵv​,​​(9.1.3)​
    where f1′​(ϵv​)=0 and a velocity magnitude bound ϵv​ (in units of m/s) below which
    sliding velocities vk​ are treated as static is defined for bounded approximation
    error ([Figure 9.1.2](#fig:lec9:friction_plot)).
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/58f639631e73fbbb8b287797d4ce82ef.png)'
  prefs: []
  type: TYPE_IMG
- en: '**Figure 9.1.2.** A 1D illustration of the smoothed relation between friction
    force and sliding velocity. Decreasing ϵv​ asymptotically matches the discontinuous
    Coulomb friction model.'
  prefs: []
  type: TYPE_NORMAL
