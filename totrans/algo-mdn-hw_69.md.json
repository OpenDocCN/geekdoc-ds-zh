["```cpp\nconst int N = (1<<12); int a[N];   int popcnt() {  int res = 0; for (int i = 0; i < N; i++) res += __builtin_popcount(a[i]); return res; } \n```", "```cpp\nint popcnt_ll() {  long long *b = (long long*) a; int res = 0; for (int i = 0; i < N / 2; i++) res += __builtin_popcountl(b[i]); return res; } \n```", "```cpp\n__attribute__ (( optimize(\"no-tree-vectorize\") )) int popcnt() {  int res = 0; for (int i = 0; i < N; i++) for (int l = 0; l < 32; l++) res += (a[i] >> l & 1); return res; } \n```", "```cpp\nstruct Precalc {  alignas(64) char counts[256];   constexpr Precalc() : counts{} { for (int m = 0; m < 256; m++) for (int i = 0; i < 8; i++) counts[m] += (m >> i & 1); } };   constexpr Precalc P;   int popcnt() {  auto b = (unsigned char*) a; // careful: plain \"char\" is signed int res = 0; for (int i = 0; i < 4 * N; i++) res += P.counts[b[i]]; return res; } \n```", "```cpp\nconst reg lookup = _mm256_setr_epi8(  /* 0 */ 0, /* 1 */ 1, /* 2 */ 1, /* 3 */ 2, /* 4 */ 1, /* 5 */ 2, /* 6 */ 2, /* 7 */ 3, /* 8 */ 1, /* 9 */ 2, /* a */ 2, /* b */ 3, /* c */ 2, /* d */ 3, /* e */ 3, /* f */ 4,   /* 0 */ 0, /* 1 */ 1, /* 2 */ 1, /* 3 */ 2, /* 4 */ 1, /* 5 */ 2, /* 6 */ 2, /* 7 */ 3, /* 8 */ 1, /* 9 */ 2, /* a */ 2, /* b */ 3, /* c */ 2, /* d */ 3, /* e */ 3, /* f */ 4 ); \n```", "```cpp\nconst reg low_mask = _mm256_set1_epi8(0x0f);   int popcnt() {  int k = 0;   reg t = _mm256_setzero_si256();   for (; k + 15 < N; k += 15) { reg s = _mm256_setzero_si256();  for (int i = 0; i < 15; i += 8) { reg x = _mm256_load_si256( (reg*) &a[k + i] );  reg l = _mm256_and_si256(x, low_mask); reg h = _mm256_and_si256(_mm256_srli_epi16(x, 4), low_mask);   reg pl = _mm256_shuffle_epi8(lookup, l); reg ph = _mm256_shuffle_epi8(lookup, h);   s = _mm256_add_epi8(s, pl); s = _mm256_add_epi8(s, ph); }   t = _mm256_add_epi64(t, _mm256_sad_epu8(s, _mm256_setzero_si256())); }   int res = hsum(t);   while (k < N) res += __builtin_popcount(a[k++]);   return res; } \n```", "```cpp\nint a[N], b[N];   int filter() {  int k = 0;   for (int i = 0; i < N; i++) if (a[i] < P) b[k++] = a[i];   return k; } \n```", "```cpp\nstruct Precalc {  alignas(64) int permutation[256][8];   constexpr Precalc() : permutation{} { for (int m = 0; m < 256; m++) { int k = 0; for (int i = 0; i < 8; i++) if (m >> i & 1) permutation[m][k++] = i; } } };   constexpr Precalc T; \n```", "```cpp\nconst reg p = _mm256_set1_epi32(P);   int filter() {  int k = 0;   for (int i = 0; i < N; i += 8) { reg x = _mm256_load_si256( (reg*) &a[i] );  reg m = _mm256_cmpgt_epi32(p, x); int mask = _mm256_movemask_ps((__m256) m); reg permutation = _mm256_load_si256( (reg*) &T.permutation[mask] );  x = _mm256_permutevar8x32_epi32(x, permutation); _mm256_storeu_si256((reg*) &b[k], x);  k += __builtin_popcount(mask); }   return k; } \n```"]