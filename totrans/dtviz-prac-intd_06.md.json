["```r\nrel_by_region <-  gss_sm %>%\n group_by(bigregion, religion) %>%\n summarize(N = n()) %>%\n mutate(freq = N /  sum(N),\n pct = round((freq*100), 0))\n```", "```r\nrel_by_region\n```", "```r\n## # A tibble: 24 x 5\n## # Groups:   bigregion [4]\n##    bigregion religion       N    freq   pct\n##    <fct>     <fct>      <int>   <dbl> <dbl>\n##  1 Northeast Protestant   158 0.324   32.0 \n##  2 Northeast Catholic     162 0.332   33.0 \n##  3 Northeast Jewish        27 0.0553   6.00\n##  4 Northeast None         112 0.230   23.0 \n##  5 Northeast Other         28 0.0574   6.00\n##  6 Northeast <NA>           1 0.00205  0   \n##  7 Midwest   Protestant   325 0.468   47.0 \n##  8 Midwest   Catholic     172 0.247   25.0 \n##  9 Midwest   Jewish         3 0.00432  0   \n## 10 Midwest   None         157 0.226   23.0 \n## # ... with 14 more rows\n```", "```r\nrel_by_region %>%  group_by(bigregion) %>%\n summarize(total = sum(pct))\n```", "```r\n## # A tibble: 4 x 2\n##   bigregion total\n##   <fct>     <dbl>\n## 1 Northeast   100\n## 2 Midwest     101\n## 3 South       100\n## 4 West        101\n```", "```r\np <-  ggplot(rel_by_region, aes(x = bigregion, y = pct, fill = religion))\np +  geom_col(position = \"dodge2\") +\n labs(x = \"Region\",y = \"Percent\", fill = \"Religion\") +\n theme(legend.position = \"top\")\n```", "```r\np <-  ggplot(rel_by_region, aes(x = religion, y = pct, fill = religion))\np +  geom_col(position = \"dodge2\") +\n labs(x = NULL, y = \"Percent\", fill = \"Religion\") +\n guides(fill = FALSE) + \n coord_flip() + \n facet_grid(~  bigregion)\n```", "```r\norgandata %>%  select(1:6) %>%  sample_n(size = 10)\n```", "```r\n## # A tibble: 10 x 6\n##    country        year       donors   pop pop_dens   gdp\n##    <chr>          <date>      <dbl> <int>    <dbl> <int>\n##  1 Switzerland    NA           NA      NA    NA       NA\n##  2 Switzerland    1997-01-01   14.3  7089    17.2  27675\n##  3 United Kingdom 1997-01-01   13.4 58283    24.0  22442\n##  4 Sweden         NA           NA    8559     1.90 18660\n##  5 Ireland        2002-01-01   21.0  3932     5.60 32571\n##  6 Germany        1998-01-01   13.4 82047    23.0  23283\n##  7 Italy          NA           NA   56719    18.8  17430\n##  8 Italy          2001-01-01   17.1 57894    19.2  25359\n##  9 France         1998-01-01   16.5 58398    10.6  24044\n## 10 Spain          1995-01-01   27.0 39223     7.75 15720\n```", "```r\np <-  ggplot(data = organdata,\n mapping = aes(x = year, y = donors))\np +  geom_point()\n```", "```r\n## Warning: Removed 34 rows containing missing values\n## (geom_point).\n```", "```r\np <-  ggplot(data = organdata,\n mapping = aes(x = year, y = donors))\np +  geom_line(aes(group = country)) +  facet_wrap(~  country)\n```", "```r\np <-  ggplot(data = organdata,\n mapping = aes(x = country, y = donors))\np +  geom_boxplot()\n```", "```r\np <-  ggplot(data = organdata,\n mapping = aes(x = country, y = donors))\np +  geom_boxplot() +  coord_flip()\n```", "```r\np <-  ggplot(data = organdata,\n mapping = aes(x = reorder(country, donors, na.rm=TRUE),\n y = donors))\np +  geom_boxplot() +\n labs(x=NULL) +\n coord_flip()\n```", "```r\np <-  ggplot(data = organdata,\n mapping = aes(x = reorder(country, donors, na.rm=TRUE),\n y = donors, fill = world))\np +  geom_boxplot() +  labs(x=NULL) +\n coord_flip() +  theme(legend.position = \"top\")\n```", "```r\np <-  ggplot(data = organdata,\n mapping = aes(x = reorder(country, donors, na.rm=TRUE),\n y = donors, color = world))\np +  geom_point() +  labs(x=NULL) +\n coord_flip() +  theme(legend.position = \"top\")\n```", "```r\np <-  ggplot(data = organdata,\n mapping = aes(x = reorder(country, donors, na.rm=TRUE),\n y = donors, color = world))\np +  geom_jitter() +  labs(x=NULL) +\n coord_flip() +  theme(legend.position = \"top\")\n```", "```r\np <-  ggplot(data = organdata,\n mapping = aes(x = reorder(country, donors, na.rm=TRUE),\n y = donors, color = world))\np +  geom_jitter(position = position_jitter(width=0.15)) +\n labs(x=NULL) +  coord_flip() +  theme(legend.position = \"top\")\n```", "```r\nby_country <-  organdata %>%  group_by(consent_law, country) %>%\n summarize(donors_mean= mean(donors, na.rm = TRUE),\n donors_sd = sd(donors, na.rm = TRUE),\n gdp_mean = mean(gdp, na.rm = TRUE),\n health_mean = mean(health, na.rm = TRUE),\n roads_mean = mean(roads, na.rm = TRUE),\n cerebvas_mean = mean(cerebvas, na.rm = TRUE))\n```", "```r\nby_country\n```", "```r\n## # A tibble: 17 x 8\n## # Groups:   consent_law [?]\n##    consent_law country        donors_mean donors_sd gdp_mean health_mean roads_mean cerebvas_mean\n##    <chr>       <chr>                <dbl>     <dbl>    <dbl>       <dbl>      <dbl>         <dbl>\n##  1 Informed    Australia             10.6     1.14     22179        1958      105             558\n##  2 Informed    Canada                14.0     0.751    23711        2272      109             422\n##  3 Informed    Denmark               13.1     1.47     23722        2054      102             641\n##  4 Informed    Germany               13.0     0.611    22163        2349      113             707\n##  5 Informed    Ireland               19.8     2.48     20824        1480      118             705\n##  6 Informed    Netherlands           13.7     1.55     23013        1993       76.1           585\n##  7 Informed    United Kingdom        13.5     0.775    21359        1561       67.9           708\n##  8 Informed    United States         20.0     1.33     29212        3988      155             444\n##  9 Presumed    Austria               23.5     2.42     23876        1875      150             769\n## 10 Presumed    Belgium               21.9     1.94     22500        1958      155             594\n## 11 Presumed    Finland               18.4     1.53     21019        1615       93.6           771\n## 12 Presumed    France                16.8     1.60     22603        2160      156             433\n## 13 Presumed    Italy                 11.1     4.28     21554        1757      122             712\n## 14 Presumed    Norway                15.4     1.11     26448        2217       70.0           662\n## 15 Presumed    Spain                 28.1     4.96     16933        1289      161             655\n## 16 Presumed    Sweden                13.1     1.75     22415        1951       72.3           595\n## 17 Presumed    Switzerland           14.2     1.71     27233        2776       96.4           424\n```", "```r\nby_country <-  organdata %>%  group_by(consent_law, country) %>%\n summarize_if(is.numeric, funs(mean, sd), na.rm = TRUE) %>%\n ungroup()\n```", "```r\nby_country \n```", "```r\n## # A tibble: 17 x 28\n##    consent_law country        donors_mean pop_mean pop_dens_mean gdp_mean gdp_lag_mean health_mean\n##    <chr>       <chr>                <dbl>    <dbl>         <dbl>    <dbl>        <dbl>       <dbl>\n##  1 Informed    Australia             10.6    18318         0.237    22179        21779        1958\n##  2 Informed    Canada                14.0    29608         0.297    23711        23353        2272\n##  3 Informed    Denmark               13.1     5257        12.2      23722        23275        2054\n##  4 Informed    Germany               13.0    80255        22.5      22163        21938        2349\n##  5 Informed    Ireland               19.8     3674         5.23     20824        20154        1480\n##  6 Informed    Netherlands           13.7    15548        37.4      23013        22554        1993\n##  7 Informed    United Kingdom        13.5    58187        24.0      21359        20962        1561\n##  8 Informed    United States         20.0   269330         2.80     29212        28699        3988\n##  9 Presumed    Austria               23.5     7927         9.45     23876        23415        1875\n## 10 Presumed    Belgium               21.9    10153        30.7      22500        22096        1958\n## 11 Presumed    Finland               18.4     5112         1.51     21019        20763        1615\n## 12 Presumed    France                16.8    58056        10.5      22603        22211        2160\n## 13 Presumed    Italy                 11.1    57360        19.0      21554        21195        1757\n## 14 Presumed    Norway                15.4     4386         1.35     26448        25769        2217\n## 15 Presumed    Spain                 28.1    39666         7.84     16933        16584        1289\n## 16 Presumed    Sweden                13.1     8789         1.95     22415        22094        1951\n## 17 Presumed    Switzerland           14.2     7037        17.0      27233        26931        2776\n## # ... with 20 more variables: health_lag_mean <dbl>, pubhealth_mean <dbl>, roads_mean <dbl>,\n## #   cerebvas_mean <dbl>, assault_mean <dbl>, external_mean <dbl>, txp_pop_mean <dbl>,\n## #   donors_sd <dbl>, pop_sd <dbl>, pop_dens_sd <dbl>, gdp_sd <dbl>, gdp_lag_sd <dbl>,\n## #   health_sd <dbl>, health_lag_sd <dbl>, pubhealth_sd <dbl>, roads_sd <dbl>, cerebvas_sd <dbl>,\n## #   assault_sd <dbl>, external_sd <dbl>, txp_pop_sd <dbl>\n```", "```r\np <-  ggplot(data = by_country,\n mapping = aes(x = donors_mean, y = reorder(country, donors_mean),\n color = consent_law))\np +  geom_point(size=3) +\n labs(x = \"Donor Procurement Rate\",\n y = \"\", color = \"Consent Law\") +\n theme(legend.position=\"top\")\n```", "```r\np <-  ggplot(data = by_country,\n mapping = aes(x = donors_mean,\n y = reorder(country, donors_mean)))\n\np +  geom_point(size=3) +\n facet_wrap(~  consent_law, scales = \"free_y\", ncol = 1) +\n labs(x= \"Donor Procurement Rate\",\n y= \"\") \n```", "```r\np <-  ggplot(data = by_country, mapping = aes(x = reorder(country,\n donors_mean), y = donors_mean))\n\np +  geom_pointrange(mapping = aes(ymin = donors_mean -  donors_sd,\n ymax = donors_mean +  donors_sd)) +\n labs(x= \"\", y= \"Donor Procurement Rate\") +  coord_flip()\n```", "```r\np <-  ggplot(data = by_country,\n mapping = aes(x = roads_mean, y = donors_mean))\np +  geom_point() +  geom_text(mapping = aes(label = country))\n```", "```r\np <-  ggplot(data = by_country,\n mapping = aes(x = roads_mean, y = donors_mean))\n\np +  geom_point() +  geom_text(mapping = aes(label = country), hjust = 0)\n```", "```r\nlibrary(ggrepel)\n```", "```r\nelections_historic %>%  select(2:7) \n```", "```r\n## # A tibble: 49 x 6\n##     year winner                 win_party ec_pct popular_pct popular_margin\n##    <int> <chr>                  <chr>      <dbl>       <dbl>          <dbl>\n##  1  1824 John Quincy Adams      D.-R.      0.322       0.309        -0.104 \n##  2  1828 Andrew Jackson         Dem.       0.682       0.559         0.122 \n##  3  1832 Andrew Jackson         Dem.       0.766       0.547         0.178 \n##  4  1836 Martin Van Buren       Dem.       0.578       0.508         0.142 \n##  5  1840 William Henry Harrison Whig       0.796       0.529         0.0605\n##  6  1844 James Polk             Dem.       0.618       0.495         0.0145\n##  7  1848 Zachary Taylor         Whig       0.562       0.473         0.0479\n##  8  1852 Franklin Pierce        Dem.       0.858       0.508         0.0695\n##  9  1856 James Buchanan         Dem.       0.588       0.453         0.122 \n## 10  1860 Abraham Lincoln        Rep.       0.594       0.396         0.101 \n## # ... with 39 more rows\n```", "```r\np_title <- \"Presidential Elections: Popular & Electoral College Margins\"\np_subtitle <- \"1824-2016\"\np_caption <- \"Data for 2016 are provisional.\"\nx_label <- \"Winner's share of Popular Vote\"\ny_label <- \"Winner's share of Electoral College Votes\"\n\np <-  ggplot(elections_historic, aes(x = popular_pct, y = ec_pct,\n label = winner_label))\n\np +  geom_hline(yintercept = 0.5, size = 1.4, color = \"gray80\") +\n geom_vline(xintercept = 0.5, size = 1.4, color = \"gray80\") +\n geom_point() +\n geom_text_repel() +\n scale_x_continuous(labels = scales::percent) +\n scale_y_continuous(labels = scales::percent) +\n labs(x = x_label, y = y_label, title = p_title, subtitle = p_subtitle,\n caption = p_caption)\n```", "```r\np <-  ggplot(data = by_country,\n mapping = aes(x = gdp_mean, y = health_mean))\n\np +  geom_point() +\n geom_text_repel(data = subset(by_country, gdp_mean >  25000),\n mapping = aes(label = country))\n\np <-  ggplot(data = by_country,\n mapping = aes(x = gdp_mean, y = health_mean))\n\np +  geom_point() +\n geom_text_repel(data = subset(by_country,\n gdp_mean >  25000 |  health_mean <  1500 |\n country %in% \"Belgium\"),\n mapping = aes(label = country))\n```", "```r\norgandata$ind <-  organdata$ccode %in%  c(\"Ita\", \"Spa\") &\n organdata$year >  1998\n\np <-  ggplot(data = organdata,\n mapping = aes(x = roads,\n y = donors, color = ind))\np +  geom_point() +\n geom_text_repel(data = subset(organdata, ind),\n mapping = aes(label = ccode)) +\n guides(label = FALSE, color = FALSE)\n```", "```r\np <-  ggplot(data = organdata, mapping = aes(x = roads, y = donors))\np +  geom_point() +  annotate(geom = \"text\", x = 91, y = 33,\n label = \"A surprisingly high \\n recovery rate.\",\n hjust = 0)\n```", "```r\np <-  ggplot(data = organdata,\n mapping = aes(x = roads, y = donors))\np +  geom_point() +\n annotate(geom = \"rect\", xmin = 125, xmax = 155,\n ymin = 30, ymax = 35, fill = \"red\", alpha = 0.2) + \n annotate(geom = \"text\", x = 157, y = 33,\n label = \"A surprisingly high \\n recovery rate.\", hjust = 0)\n```", "```r\np <-  ggplot(data = organdata,\n mapping = aes(x = roads,\n y = donors,\n color = world))\np +  geom_point()\n```", "```r\np <-  ggplot(data = organdata,\n mapping = aes(x = roads,\n y = donors,\n color = world))\np +  geom_point() +\n scale_x_log10() +\n scale_y_continuous(breaks = c(5, 15, 25),\n labels = c(\"Five\", \"Fifteen\", \"Twenty Five\"))\n```", "```r\np <-  ggplot(data = organdata,\n mapping = aes(x = roads,\n y = donors,\n color = world))\np +  geom_point() +\n scale_color_discrete(labels =\n c(\"Corporatist\", \"Liberal\",\n \"Social Democratic\", \"Unclassified\")) +\n labs(x = \"Road Deaths\",\n y = \"Donor Procurement\",\n color = \"Welfare State\")\n```", "```r\np <-  ggplot(data = organdata,\n mapping = aes(x = roads,\n y = donors,\n color = world))\np +  geom_point() +\n labs(x = \"Road Deaths\",\n y = \"Donor Procurement\") +\n guides(color = FALSE)\n```", "```r\ngss_sm %>%  group_by(race, degree) %>%\n summarize(N = n()) %>%\n mutate(pct = round(N /  sum(N)*100, 0)) \n```", "```r\n## # A tibble: 18 x 4\n## # Groups:   race [3]\n##    race  degree             N   pct\n##    <fct> <fct>          <int> <dbl>\n##  1 White Lt High School   197  9.00\n##  2 White High School     1057 50.0 \n##  3 White Junior College   166  8.00\n##  4 White Bachelor         426 20.0 \n##  5 White Graduate         250 12.0 \n##  6 White <NA>               4  0   \n##  7 Black Lt High School    60 12.0 \n##  8 Black High School      292 60.0 \n##  9 Black Junior College    33  7.00\n## 10 Black Bachelor          71 14.0 \n## 11 Black Graduate          31  6.00\n## 12 Black <NA>               3  1.00\n## 13 Other Lt High School    71 26.0 \n## 14 Other High School      112 40.0 \n## 15 Other Junior College    17  6.00\n## 16 Other Bachelor          39 14.0 \n## 17 Other Graduate          37 13.0 \n## 18 Other <NA>               1  0\n```", "```r\nrel_by_region <-  gss_sm %>%\n group_by(bigregion, religion) %>%\n summarize(N = n()) %>%\n mutate(freq = N /  sum(N),\n pct = round((freq*100), 0))\n```", "```r\nrel_by_region\n```", "```r\n## # A tibble: 24 x 5\n## # Groups:   bigregion [4]\n##    bigregion religion       N    freq   pct\n##    <fct>     <fct>      <int>   <dbl> <dbl>\n##  1 Northeast Protestant   158 0.324   32.0 \n##  2 Northeast Catholic     162 0.332   33.0 \n##  3 Northeast Jewish        27 0.0553   6.00\n##  4 Northeast None         112 0.230   23.0 \n##  5 Northeast Other         28 0.0574   6.00\n##  6 Northeast <NA>           1 0.00205  0   \n##  7 Midwest   Protestant   325 0.468   47.0 \n##  8 Midwest   Catholic     172 0.247   25.0 \n##  9 Midwest   Jewish         3 0.00432  0   \n## 10 Midwest   None         157 0.226   23.0 \n## # ... with 14 more rows\n```", "```r\nrel_by_region %>%  group_by(bigregion) %>%\n summarize(total = sum(pct))\n```", "```r\n## # A tibble: 4 x 2\n##   bigregion total\n##   <fct>     <dbl>\n## 1 Northeast   100\n## 2 Midwest     101\n## 3 South       100\n## 4 West        101\n```", "```r\np <-  ggplot(rel_by_region, aes(x = bigregion, y = pct, fill = religion))\np +  geom_col(position = \"dodge2\") +\n labs(x = \"Region\",y = \"Percent\", fill = \"Religion\") +\n theme(legend.position = \"top\")\n```", "```r\np <-  ggplot(rel_by_region, aes(x = religion, y = pct, fill = religion))\np +  geom_col(position = \"dodge2\") +\n labs(x = NULL, y = \"Percent\", fill = \"Religion\") +\n guides(fill = FALSE) + \n coord_flip() + \n facet_grid(~  bigregion)\n```", "```r\norgandata %>%  select(1:6) %>%  sample_n(size = 10)\n```", "```r\n## # A tibble: 10 x 6\n##    country        year       donors   pop pop_dens   gdp\n##    <chr>          <date>      <dbl> <int>    <dbl> <int>\n##  1 Switzerland    NA           NA      NA    NA       NA\n##  2 Switzerland    1997-01-01   14.3  7089    17.2  27675\n##  3 United Kingdom 1997-01-01   13.4 58283    24.0  22442\n##  4 Sweden         NA           NA    8559     1.90 18660\n##  5 Ireland        2002-01-01   21.0  3932     5.60 32571\n##  6 Germany        1998-01-01   13.4 82047    23.0  23283\n##  7 Italy          NA           NA   56719    18.8  17430\n##  8 Italy          2001-01-01   17.1 57894    19.2  25359\n##  9 France         1998-01-01   16.5 58398    10.6  24044\n## 10 Spain          1995-01-01   27.0 39223     7.75 15720\n```", "```r\np <-  ggplot(data = organdata,\n mapping = aes(x = year, y = donors))\np +  geom_point()\n```", "```r\n## Warning: Removed 34 rows containing missing values\n## (geom_point).\n```", "```r\np <-  ggplot(data = organdata,\n mapping = aes(x = year, y = donors))\np +  geom_line(aes(group = country)) +  facet_wrap(~  country)\n```", "```r\np <-  ggplot(data = organdata,\n mapping = aes(x = country, y = donors))\np +  geom_boxplot()\n```", "```r\np <-  ggplot(data = organdata,\n mapping = aes(x = country, y = donors))\np +  geom_boxplot() +  coord_flip()\n```", "```r\np <-  ggplot(data = organdata,\n mapping = aes(x = reorder(country, donors, na.rm=TRUE),\n y = donors))\np +  geom_boxplot() +\n labs(x=NULL) +\n coord_flip()\n```", "```r\np <-  ggplot(data = organdata,\n mapping = aes(x = reorder(country, donors, na.rm=TRUE),\n y = donors, fill = world))\np +  geom_boxplot() +  labs(x=NULL) +\n coord_flip() +  theme(legend.position = \"top\")\n```", "```r\np <-  ggplot(data = organdata,\n mapping = aes(x = reorder(country, donors, na.rm=TRUE),\n y = donors, color = world))\np +  geom_point() +  labs(x=NULL) +\n coord_flip() +  theme(legend.position = \"top\")\n```", "```r\np <-  ggplot(data = organdata,\n mapping = aes(x = reorder(country, donors, na.rm=TRUE),\n y = donors, color = world))\np +  geom_jitter() +  labs(x=NULL) +\n coord_flip() +  theme(legend.position = \"top\")\n```", "```r\np <-  ggplot(data = organdata,\n mapping = aes(x = reorder(country, donors, na.rm=TRUE),\n y = donors, color = world))\np +  geom_jitter(position = position_jitter(width=0.15)) +\n labs(x=NULL) +  coord_flip() +  theme(legend.position = \"top\")\n```", "```r\nby_country <-  organdata %>%  group_by(consent_law, country) %>%\n summarize(donors_mean= mean(donors, na.rm = TRUE),\n donors_sd = sd(donors, na.rm = TRUE),\n gdp_mean = mean(gdp, na.rm = TRUE),\n health_mean = mean(health, na.rm = TRUE),\n roads_mean = mean(roads, na.rm = TRUE),\n cerebvas_mean = mean(cerebvas, na.rm = TRUE))\n```", "```r\nby_country\n```", "```r\n## # A tibble: 17 x 8\n## # Groups:   consent_law [?]\n##    consent_law country        donors_mean donors_sd gdp_mean health_mean roads_mean cerebvas_mean\n##    <chr>       <chr>                <dbl>     <dbl>    <dbl>       <dbl>      <dbl>         <dbl>\n##  1 Informed    Australia             10.6     1.14     22179        1958      105             558\n##  2 Informed    Canada                14.0     0.751    23711        2272      109             422\n##  3 Informed    Denmark               13.1     1.47     23722        2054      102             641\n##  4 Informed    Germany               13.0     0.611    22163        2349      113             707\n##  5 Informed    Ireland               19.8     2.48     20824        1480      118             705\n##  6 Informed    Netherlands           13.7     1.55     23013        1993       76.1           585\n##  7 Informed    United Kingdom        13.5     0.775    21359        1561       67.9           708\n##  8 Informed    United States         20.0     1.33     29212        3988      155             444\n##  9 Presumed    Austria               23.5     2.42     23876        1875      150             769\n## 10 Presumed    Belgium               21.9     1.94     22500        1958      155             594\n## 11 Presumed    Finland               18.4     1.53     21019        1615       93.6           771\n## 12 Presumed    France                16.8     1.60     22603        2160      156             433\n## 13 Presumed    Italy                 11.1     4.28     21554        1757      122             712\n## 14 Presumed    Norway                15.4     1.11     26448        2217       70.0           662\n## 15 Presumed    Spain                 28.1     4.96     16933        1289      161             655\n## 16 Presumed    Sweden                13.1     1.75     22415        1951       72.3           595\n## 17 Presumed    Switzerland           14.2     1.71     27233        2776       96.4           424\n```", "```r\nby_country <-  organdata %>%  group_by(consent_law, country) %>%\n summarize_if(is.numeric, funs(mean, sd), na.rm = TRUE) %>%\n ungroup()\n```", "```r\nby_country \n```", "```r\n## # A tibble: 17 x 28\n##    consent_law country        donors_mean pop_mean pop_dens_mean gdp_mean gdp_lag_mean health_mean\n##    <chr>       <chr>                <dbl>    <dbl>         <dbl>    <dbl>        <dbl>       <dbl>\n##  1 Informed    Australia             10.6    18318         0.237    22179        21779        1958\n##  2 Informed    Canada                14.0    29608         0.297    23711        23353        2272\n##  3 Informed    Denmark               13.1     5257        12.2      23722        23275        2054\n##  4 Informed    Germany               13.0    80255        22.5      22163        21938        2349\n##  5 Informed    Ireland               19.8     3674         5.23     20824        20154        1480\n##  6 Informed    Netherlands           13.7    15548        37.4      23013        22554        1993\n##  7 Informed    United Kingdom        13.5    58187        24.0      21359        20962        1561\n##  8 Informed    United States         20.0   269330         2.80     29212        28699        3988\n##  9 Presumed    Austria               23.5     7927         9.45     23876        23415        1875\n## 10 Presumed    Belgium               21.9    10153        30.7      22500        22096        1958\n## 11 Presumed    Finland               18.4     5112         1.51     21019        20763        1615\n## 12 Presumed    France                16.8    58056        10.5      22603        22211        2160\n## 13 Presumed    Italy                 11.1    57360        19.0      21554        21195        1757\n## 14 Presumed    Norway                15.4     4386         1.35     26448        25769        2217\n## 15 Presumed    Spain                 28.1    39666         7.84     16933        16584        1289\n## 16 Presumed    Sweden                13.1     8789         1.95     22415        22094        1951\n## 17 Presumed    Switzerland           14.2     7037        17.0      27233        26931        2776\n## # ... with 20 more variables: health_lag_mean <dbl>, pubhealth_mean <dbl>, roads_mean <dbl>,\n## #   cerebvas_mean <dbl>, assault_mean <dbl>, external_mean <dbl>, txp_pop_mean <dbl>,\n## #   donors_sd <dbl>, pop_sd <dbl>, pop_dens_sd <dbl>, gdp_sd <dbl>, gdp_lag_sd <dbl>,\n## #   health_sd <dbl>, health_lag_sd <dbl>, pubhealth_sd <dbl>, roads_sd <dbl>, cerebvas_sd <dbl>,\n## #   assault_sd <dbl>, external_sd <dbl>, txp_pop_sd <dbl>\n```", "```r\np <-  ggplot(data = by_country,\n mapping = aes(x = donors_mean, y = reorder(country, donors_mean),\n color = consent_law))\np +  geom_point(size=3) +\n labs(x = \"Donor Procurement Rate\",\n y = \"\", color = \"Consent Law\") +\n theme(legend.position=\"top\")\n```", "```r\np <-  ggplot(data = by_country,\n mapping = aes(x = donors_mean,\n y = reorder(country, donors_mean)))\n\np +  geom_point(size=3) +\n facet_wrap(~  consent_law, scales = \"free_y\", ncol = 1) +\n labs(x= \"Donor Procurement Rate\",\n y= \"\") \n```", "```r\np <-  ggplot(data = by_country, mapping = aes(x = reorder(country,\n donors_mean), y = donors_mean))\n\np +  geom_pointrange(mapping = aes(ymin = donors_mean -  donors_sd,\n ymax = donors_mean +  donors_sd)) +\n labs(x= \"\", y= \"Donor Procurement Rate\") +  coord_flip()\n```", "```r\np <-  ggplot(data = by_country,\n mapping = aes(x = roads_mean, y = donors_mean))\np +  geom_point() +  geom_text(mapping = aes(label = country))\n```", "```r\np <-  ggplot(data = by_country,\n mapping = aes(x = roads_mean, y = donors_mean))\n\np +  geom_point() +  geom_text(mapping = aes(label = country), hjust = 0)\n```", "```r\nlibrary(ggrepel)\n```", "```r\nelections_historic %>%  select(2:7) \n```", "```r\n## # A tibble: 49 x 6\n##     year winner                 win_party ec_pct popular_pct popular_margin\n##    <int> <chr>                  <chr>      <dbl>       <dbl>          <dbl>\n##  1  1824 John Quincy Adams      D.-R.      0.322       0.309        -0.104 \n##  2  1828 Andrew Jackson         Dem.       0.682       0.559         0.122 \n##  3  1832 Andrew Jackson         Dem.       0.766       0.547         0.178 \n##  4  1836 Martin Van Buren       Dem.       0.578       0.508         0.142 \n##  5  1840 William Henry Harrison Whig       0.796       0.529         0.0605\n##  6  1844 James Polk             Dem.       0.618       0.495         0.0145\n##  7  1848 Zachary Taylor         Whig       0.562       0.473         0.0479\n##  8  1852 Franklin Pierce        Dem.       0.858       0.508         0.0695\n##  9  1856 James Buchanan         Dem.       0.588       0.453         0.122 \n## 10  1860 Abraham Lincoln        Rep.       0.594       0.396         0.101 \n## # ... with 39 more rows\n```", "```r\np_title <- \"Presidential Elections: Popular & Electoral College Margins\"\np_subtitle <- \"1824-2016\"\np_caption <- \"Data for 2016 are provisional.\"\nx_label <- \"Winner's share of Popular Vote\"\ny_label <- \"Winner's share of Electoral College Votes\"\n\np <-  ggplot(elections_historic, aes(x = popular_pct, y = ec_pct,\n label = winner_label))\n\np +  geom_hline(yintercept = 0.5, size = 1.4, color = \"gray80\") +\n geom_vline(xintercept = 0.5, size = 1.4, color = \"gray80\") +\n geom_point() +\n geom_text_repel() +\n scale_x_continuous(labels = scales::percent) +\n scale_y_continuous(labels = scales::percent) +\n labs(x = x_label, y = y_label, title = p_title, subtitle = p_subtitle,\n caption = p_caption)\n```", "```r\np <-  ggplot(data = by_country,\n mapping = aes(x = gdp_mean, y = health_mean))\n\np +  geom_point() +\n geom_text_repel(data = subset(by_country, gdp_mean >  25000),\n mapping = aes(label = country))\n\np <-  ggplot(data = by_country,\n mapping = aes(x = gdp_mean, y = health_mean))\n\np +  geom_point() +\n geom_text_repel(data = subset(by_country,\n gdp_mean >  25000 |  health_mean <  1500 |\n country %in% \"Belgium\"),\n mapping = aes(label = country))\n```", "```r\norgandata$ind <-  organdata$ccode %in%  c(\"Ita\", \"Spa\") &\n organdata$year >  1998\n\np <-  ggplot(data = organdata,\n mapping = aes(x = roads,\n y = donors, color = ind))\np +  geom_point() +\n geom_text_repel(data = subset(organdata, ind),\n mapping = aes(label = ccode)) +\n guides(label = FALSE, color = FALSE)\n```", "```r\np <-  ggplot(data = organdata, mapping = aes(x = roads, y = donors))\np +  geom_point() +  annotate(geom = \"text\", x = 91, y = 33,\n label = \"A surprisingly high \\n recovery rate.\",\n hjust = 0)\n```", "```r\np <-  ggplot(data = organdata,\n mapping = aes(x = roads, y = donors))\np +  geom_point() +\n annotate(geom = \"rect\", xmin = 125, xmax = 155,\n ymin = 30, ymax = 35, fill = \"red\", alpha = 0.2) + \n annotate(geom = \"text\", x = 157, y = 33,\n label = \"A surprisingly high \\n recovery rate.\", hjust = 0)\n```", "```r\np <-  ggplot(data = organdata,\n mapping = aes(x = roads,\n y = donors,\n color = world))\np +  geom_point()\n```", "```r\np <-  ggplot(data = organdata,\n mapping = aes(x = roads,\n y = donors,\n color = world))\np +  geom_point() +\n scale_x_log10() +\n scale_y_continuous(breaks = c(5, 15, 25),\n labels = c(\"Five\", \"Fifteen\", \"Twenty Five\"))\n```", "```r\np <-  ggplot(data = organdata,\n mapping = aes(x = roads,\n y = donors,\n color = world))\np +  geom_point() +\n scale_color_discrete(labels =\n c(\"Corporatist\", \"Liberal\",\n \"Social Democratic\", \"Unclassified\")) +\n labs(x = \"Road Deaths\",\n y = \"Donor Procurement\",\n color = \"Welfare State\")\n```", "```r\np <-  ggplot(data = organdata,\n mapping = aes(x = roads,\n y = donors,\n color = world))\np +  geom_point() +\n labs(x = \"Road Deaths\",\n y = \"Donor Procurement\") +\n guides(color = FALSE)\n```", "```r\ngss_sm %>%  group_by(race, degree) %>%\n summarize(N = n()) %>%\n mutate(pct = round(N /  sum(N)*100, 0)) \n```", "```r\n## # A tibble: 18 x 4\n## # Groups:   race [3]\n##    race  degree             N   pct\n##    <fct> <fct>          <int> <dbl>\n##  1 White Lt High School   197  9.00\n##  2 White High School     1057 50.0 \n##  3 White Junior College   166  8.00\n##  4 White Bachelor         426 20.0 \n##  5 White Graduate         250 12.0 \n##  6 White <NA>               4  0   \n##  7 Black Lt High School    60 12.0 \n##  8 Black High School      292 60.0 \n##  9 Black Junior College    33  7.00\n## 10 Black Bachelor          71 14.0 \n## 11 Black Graduate          31  6.00\n## 12 Black <NA>               3  1.00\n## 13 Other Lt High School    71 26.0 \n## 14 Other High School      112 40.0 \n## 15 Other Junior College    17  6.00\n## 16 Other Bachelor          39 14.0 \n## 17 Other Graduate          37 13.0 \n## 18 Other <NA>               1  0\n```"]