- en: Core Framework
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://phys-sim-book.github.io/lec31.2-core_framework.html](https://phys-sim-book.github.io/lec31.2-core_framework.html)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
  prefs: []
  type: TYPE_NORMAL
- en: 'The PBD framework simulates a physical object by discretizing it into a set
    of N particles and defining its behavior through M geometric constraints (relationships).
    The central idea is to treat the system as a set of particles and constraints.
    At each time step, particle positions are first predicted using an explicit integration
    scheme, after which an iterative solver adjusts these predicted positions to satisfy
    all geometric constraints. We can formally define such a system as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: '****Definition 32.2.1 (PBD System).**** A PBD system is a tuple consisting
    of a set of N particles and a set of M constraints.'
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: ''
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Each **particle** i∈{1,…,N} is characterized by its position pi​∈R3, velocity
    vi​∈R3, and mass mi​. For convenience, we define the inverse mass wi​=1/mi​, where
    wi​=0 for infinitely massive (i.e., static or kinematically controlled) particles.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: ''
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: The dynamic behavior is governed by a **set of constraints**. Each constraint
    j∈{1,…M} is defined by a scalar-valued function Cj​(p1​,…,pnj​​) which operates
    on a subset of nj​ particles. The constraint is satisfied if Cj​=0 for an *equality*
    constraint, or Cj​≥0 for an *inequality* constraint.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: The simulation proceeds in discrete time steps of size Δt. The central loop
    of the PBD algorithm can be described as follows.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/08062c68929416fa2bffc52db0cf8a5e.png)'
  prefs: []
  type: TYPE_IMG
- en: '**Figure 32.2.1 (PBD Main Algorithm).** The core of the loop is a multi-phase
    process: velocity and position prediction, constraint construction, constraint
    solving, and state update.'
  prefs: []
  type: TYPE_NORMAL
- en: Note that since the algorithm simulates a system which is 2nd order in t, we
    need to specify both positions and velocities before the simulation loop starts.
    This loop structure ensures that velocities are implicitly updated based on the
    geometric corrections performed by the solver, producing the correct behavior
    for a 2nd-order dynamical system.
  prefs: []
  type: TYPE_NORMAL
