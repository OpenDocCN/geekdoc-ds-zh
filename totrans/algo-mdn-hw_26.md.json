["```cpp\nvalgrind --tool=cachegrind --branch-sim=yes ./run #       also simulate branch prediction ^   ^ any command, not necessarily one process \n```", "```cpp\nI   refs:      483,664,426\nI1  misses:          1,858\nLLi misses:          1,788\nI1  miss rate:        0.00%\nLLi miss rate:        0.00%\n\nD   refs:      115,204,359  (88,016,970 rd   + 27,187,389 wr)\nD1  misses:      9,722,664  ( 9,656,463 rd   +     66,201 wr)\nLLd misses:         72,587  (     8,496 rd   +     64,091 wr)\nD1  miss rate:         8.4% (      11.0%     +        0.2%  )\nLLd miss rate:         0.1% (       0.0%     +        0.2%  )\n\nLL refs:         9,724,522  ( 9,658,321 rd   +     66,201 wr)\nLL misses:          74,375  (    10,284 rd   +     64,091 wr)\nLL miss rate:          0.0% (       0.0%     +        0.2%  )\n\nBranches:       90,575,071  (88,569,738 cond +  2,005,333 ind)\nMispredicts:    19,922,564  (19,921,919 cond +        645 ind)\nMispred rate:         22.0% (      22.5%     +        0.0%   ) \n```", "```cpp\ncg_annotate cachegrind.out.4159404 --show=Dr,D1mr,DLmr,Bc,Bcm #                                    ^ we are only interested in data reads and branches \n```", "```cpp\nI1 cache:         32768 B, 64 B, 8-way associative\nD1 cache:         32768 B, 64 B, 8-way associative\nLL cache:         8388608 B, 64 B, direct-mapped \n```", "```cpp\nDr         D1mr      DLmr Bc         Bcm         file:function\n--------------------------------------------------------------------------------\n19,951,476 8,985,458    3 41,902,938 11,005,530  ???:query()\n24,832,125   585,982   65 24,712,356  7,689,480  ???:void std::__introsort_loop<...>\n16,000,000        60    3  9,935,484    129,044  ???:random_r\n18,000,000         2    1  6,000,000          1  ???:random\n 4,690,248    61,999   17  5,690,241  1,081,230  ???:setup()\n 2,000,000         0    0          0          0  ???:rand \n```", "```cpp\ng++ -O3 -g sort-and-search.cc -o run valgrind --tool=cachegrind --branch-sim=yes --cachegrind-out-file=cachegrind.out ./run cg_annotate cachegrind.out --auto=yes --show=Dr,D1mr,DLmr,Bc,Bcm \n```", "```cpp\nDr         D1mr      DLmr Bc         Bcm  .         .    .          .         .  int binary_search(int x) { 0         0    0          0         0      int l = 0, r = n - 1; 0         0    0 20,951,468 1,031,609      while (l < r) { 0         0    0          0         0          int m = (l + r) / 2; 19,951,468 8,991,917   63 19,951,468 9,973,904          if (a[m] >= x)  .         .    .          .         .              r = m; .         .    .          .         .          else 0         0    0          0         0              l = m + 1; .         .    .          .         .      } .         .    .          .         .      return l; .         .    .          .         .  } \n```"]