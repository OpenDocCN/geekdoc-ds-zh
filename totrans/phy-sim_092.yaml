- en: Barrier Potential
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 障碍势
- en: 原文：[https://phys-sim-book.github.io/lec18.3-barrier_potential.html](https://phys-sim-book.github.io/lec18.3-barrier_potential.html)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://phys-sim-book.github.io/lec18.3-barrier_potential.html](https://phys-sim-book.github.io/lec18.3-barrier_potential.html)
- en: <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: '`<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">`'
- en: As discussed in [Distance Barrier for Nonpenetration](./lec7-dist_barrier.html),
    the principle of IPC for solid-to-obstacle contact is to use a barrier function
    to ensure that the signed distance between any nodal degrees of freedom (DOFs)
    and obstacles remains positive throughout the simulation. To handle self-contact,
    potentially for codimensional objects, this idea is extended to ensure that the
    unsigned distance between any boundary points and the boundary remains nonzero
    throughout the simulation.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 如[非穿透距离障碍](./lec7-dist_barrier.html)中所述，固体到障碍物接触的 IPC 原则是使用障碍函数确保任何节点自由度（DOFs）和障碍物之间的有符号距离在整个模拟过程中保持正值。为了处理自接触，可能对于同维对象，这个想法被扩展以确保任何边界点和边界之间的无符号距离在整个模拟过程中保持非零。
- en: Let's consider two colliding regions, Γ1​⊂∂Ω0 and Γ2​⊂∂Ω0, on the boundary.
    For any point X1​∈Γ1​, we must ensure that the closest distance between X1​ and
    any point on Γ2​ remains nonzero. This can be achieved by using a barrier function
    to enforce this minimum distance, where the negative gradient of the function
    provides the contact force. This can be written as
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们考虑边界上的两个碰撞区域，Γ1⊂∂Ω0 和 Γ2⊂∂Ω0，对于任何点 X1∈Γ1，我们必须确保 X1 和 Γ2 上任意点之间的最近距离保持非零。这可以通过使用障碍函数来强制这个最小距离来实现，其中函数的负梯度提供了接触力。这可以写成
- en: TC​(X1​,t)=−∂x(X1​,t)∂b(minX2​∈Γ2​​∥x(X1​,t)−x(X2​,t)∥,d^)​,(18.3.1)
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: TC(X1,t)=−∂x(X1,t)∂b(minX2∈Γ2∥x(X1,t)−x(X2,t)∥,d^)​,(18.3.1)
- en: 'where b is the barrier function:'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 其中 b 是障碍函数：
- en: b(d,d^)={2κ​d^(d^d​−1)lnd^d​0​d<d^d≥d^,​(18.3.2)
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: b(d,d^)={2κd^(d^d−1)lnd^d0d<d^d≥d^,​(18.3.2)
- en: serving as the contact potential energy density. Here, the barrier function
    approaches infinity as the distance approaches zero, providing an arbitrarily
    large repulsive force to prevent interpenetration. When the distance is above
    the threshold d^ and no contact is occurring, no contact forces are exerted. By
    using the barrier function, the non-smooth contact constraints are approximated
    by a constitutive model in which the force is conservative, enabling consistent
    resolution through an optimization-based time integrator.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 作为接触势能密度。在这里，障碍函数随着距离接近零而趋于无穷大，提供任意大的排斥力以防止相互穿透。当距离高于阈值 d^ 且没有接触发生时，不施加接触力。通过使用障碍函数，非光滑接触约束被近似为一个保守力的本构模型，使得可以通过基于优化的时间积分器进行一致解算。
- en: '***Remark 18.3.1 (Barrier Density).*** Compared to Equation [(7.2.3)](lec7.2-dist_barrier_formulation.html#eq:lec7:barrier_func),
    the barrier energy density function here is additionally multiplied by d^ to maintain
    consistent units after surface integration. Recall from [Remark 7.2.1](lec7.2-dist_barrier_formulation.html#rm:lec7:contact_layer)
    that the barrier potential can be thought of as an extra thin layer of (d^-thick)
    virtual material right outside the boundary of the solids, and κ is analogous
    to Young''s modulus.'
  id: totrans-9
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '***注 18.3.1 (障碍密度).*** 与方程 [(7.2.3)](lec7.2-dist_barrier_formulation.html#eq:lec7:barrier_func)
    相比，这里的障碍能密度函数还额外乘以 d^，以保持表面积分后的单位一致性。回想一下[注 7.2.1](lec7.2-dist_barrier_formulation.html#rm:lec7:contact_layer)，障碍势可以被视为紧靠固体边界外的一个额外薄层（d^-厚）的虚拟材料，而
    κ 与杨氏模量类似。'
- en: '***Remark 18.3.2 (Min Operator).*** When multiple points have the same minimal
    distance to X1​, the distance barrier of X1​ to all these points should be summed
    up. The `min` operator is non-smooth, which can still complicate optimization-based
    time integration. In the next chapter, we will demonstrate how this is approximated
    as described in [Distance Barrier for Nonpenetration](./lec7-dist_barrier.html).'
  id: totrans-10
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '***注 18.3.2 (最小操作符).*** 当多个点与 X1 有相同的最小距离时，X1 到所有这些点的距离障碍应该相加。`min` 操作符是非光滑的，这仍然可能使基于优化的时间积分复杂化。在下一章中，我们将展示如何将其近似为[非穿透距离障碍](./lec7-dist_barrier.html)中描述的那样。'
- en: 'The case of two colliding regions results in a boundary integral:'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 两个碰撞区域的案例导致一个边界积分：
- en: ∫Γ1​​Qi​(X1​,t)TC1​∣i​(X1​,t)ds(X)+∫Γ2​​Qi​(X2​,t)TC2​∣i​(X2​,t)ds(X),
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: ∫Γ1Qi(X1,t)TC1|i(X1,t)ds(X)+∫Γ2Qi(X2,t)TC2|i(X2,t)ds(X),
- en: 'where TC1​​ is defined in Equation [(18.3.1)](#eq:lec18:solid_solid_contact_force),
    and:'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 其中 TC1 在方程 [(18.3.1)](#eq:lec18:solid_solid_contact_force) 中定义，并且：
- en: TC2​​(X2​,t)=−∂x(X2​,t)∂b(minX1​∈Γ1​​∥x(X2​,t)−x(X1​,t)∥,d^)​,(18.3.3)
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: TC2​​(X2​,t)=−∂x(X2​,t)∂b(minX1​∈Γ1​​∥x(X2​,t)−x(X1​,t)∥,d^)​,(18.3.3)
- en: 'However, we have ignored the self-contact of Γ1​ and Γ2​ in this example. Thus,
    generalizing to arbitrary self-contact for the whole domain, we can keep the single
    boundary integral term ∫ΓC​​Qi​(X,t)TC∣i​(X,t)ds(X) for contact as in Equation
    [(18.2.1)](lec18.2-normal_contact.html#eq:lec18:boundary_int_with_contact) and
    define the traction more generally as:'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，在这个例子中，我们忽略了 Γ1​ 和 Γ2​ 的自接触。因此，将此推广到整个域的任意自接触，我们可以保持单个边界积分项 ∫ΓC​​Qi​(X,t)TC∣i​(X,t)ds(X)
    用于接触，如方程 [(18.2.1)](lec18.2-normal_contact.html#eq:lec18:boundary_int_with_contact)
    所示，并更普遍地定义牵引力：
- en: TC​(X,t)=−∂x(X,t)∂b(minX2​∈ΓC​−N(X)​∥x(X,t)−x(X2​,t)∥,d^)​,(18.3.4)
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: TC​(X,t)=−∂x(X,t)∂b(minX2​∈ΓC​−N(X)∥x(X,t)−x(X2​,t)∥,d^)​,(18.3.4)
- en: where N(X)={XN​∈Rd∣∥XN​−X∥<r} is an infinitesimal circle around X with the radius
    r sufficiently small to avoid unnecessary contact forces between a point and its
    geodesic neighbors.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 其中 N(X)={XN​∈Rd∣∥XN​−X∥<r} 是 X 的一个无穷小圆，半径 r 足够小，以避免点与其测地邻居之间产生不必要的接触力。
- en: '***Remark 18.3.3 (Barrier Force Limits).*** In Equation [(18.3.4)](#eq:lec18:solid_self_contact_force),
    self-contact is ignored for points inside N(X). This is the trade-off for smoothly
    approximating contact forces, which are discontinuous in a macroscopic view. Similarly,
    d^ introduces another source of error. However, when d^→0 and r→0, our model converges
    to the discontinuous definition. Note that we also need d^/r→0, or there could
    still be some distance d between r and d^ that causes the barrier to diverge in
    the limit.'
  id: totrans-18
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '***备注 18.3.3（势垒力限制）***。在方程 [(18.3.4)](#eq:lec18:solid_self_contact_force) 中，对于
    N(X) 内部的点，忽略了自接触。这是为了平滑地近似接触力，在宏观视角下接触力是不连续的。同样，d^ 引入了另一个误差来源。然而，当 d^→0 和 r→0
    时，我们的模型收敛到不连续的定义。请注意，我们还需要 d^/r→0，否则在 r 和 d^ 之间仍可能存在一些距离 d，这会导致势垒在极限情况下发散。'
- en: 'Finally, we can define the contact potential over the whole boundary ΓC​ as:'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，我们可以在整个边界 ΓC​ 上定义接触势：
- en: ∫ΓC​​21​b(X2​∈ΓC​−N(X)min​∥x(X,t)−x(X2​,t)∥,d^)ds(X).(18.3.5)
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: ∫ΓC​​21​b(X2​∈ΓC​−N(X)min∥x(X,t)−x(X2​,t)∥,d^)ds(X).(18.3.5)
- en: Here, the coefficient 21​ is used because the barrier energy density b of each
    pair of contacting points will be counted twice in the integral due to symmetry.
    When computing barrier forces, both occurrences need to be differentiated. Therefore,
    using the coefficient 21​ allows us to match the force definition in Equation
    [(18.3.4)](#eq:lec18:solid_self_contact_force). We'll elaborate on this in the
    next chapter under the discrete weak form.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，系数 21​ 被使用，因为由于对称性，每个接触点的对之间的势垒能量密度 b 在积分中会被计算两次。在计算势垒力时，这两种情况都需要进行微分。因此，使用系数
    21​ 允许我们将方程 [(18.3.4)](#eq:lec18:solid_self_contact_force) 中的力定义相匹配。我们将在下一章中详细阐述这一点，在离散弱形式下。
- en: The contact potential is not required in the weak form but will be useful for
    optimization-based time integration.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 在弱形式中不需要接触势，但对于基于优化的时间积分将很有用。
