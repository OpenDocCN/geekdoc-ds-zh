<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
  "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Chapter 2 Basic Types</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Chapter 2 Basic Types</h1>
<blockquote>原文：<a href="https://randpythonbook.netlify.app/basic-types">https://randpythonbook.netlify.app/basic-types</a></blockquote>
<div id="basic-types" class="section level1 hasAnchor">

<p>In every programming language, data is stored in different ways. Writing a program that manipulates data requires understanding all of the choices. That is why we must be concerned with the different <strong>types</strong> of data in our R and Python programs. Different types are suitable for different purposes.</p>
<p>There are similarities between Python’s and R’s type systems. However, there are may differences as well. Be prepared for these differences. There are many more of them in this chapter than there were in the previous chapter!</p>
<p>If you’re ever unsure what type a variable has, use <code>type()</code> (in Python) or <code>typeof()</code> (in R) to query it.</p>
<p>Storing an individual piece of information is simple in both languages. However, while Python has scalar types, R does not draw as strong of a distinction between scalar and compound types.</p>
<div id="basic-types-in-python" class="section level2 hasAnchor">
<h2><span class="header-section-number">2.1</span> Basic Types In Python<a aria-label="Anchor link to header" class="anchor-section" href="/basic-types#basic-types-in-python"/></h2>
<p>In Python, the simplest types we frequently use are <code>str</code> (short for string), <code>int</code> (short for integer), <code>float</code> (short for floating point) and <code>bool</code> (short for Boolean). This list is not exhaustive, but these are a good collection to start thinking about. For a complete list of built-in types in Python, click <a href="https://docs.python.org/3/library/stdtypes.html">here</a>.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb9-1" title="1"><span class="bu">print</span>(<span class="bu">type</span>(<span class="st">'a'</span>), <span class="bu">type</span>(<span class="dv">1</span>), <span class="bu">type</span>(<span class="fl">1.3</span>))</a>
<a class="sourceLine" id="cb9-2" title="2"><span class="co">## &lt;class 'str'&gt; &lt;class 'int'&gt; &lt;class 'float'&gt;</span></a></code></pre></div>
<p>Strings are useful for processing text data such as names of people/places/things and messages such as texts, tweets and emails <span class="citation">(Beazley and Kenneth) Jones <a href="#ref-python_cookbook">2014</a>)</span>. If you are dealing with numbers, you need floating points if you have a number that might have a fractional part after its decimal; otherwise you’ll need an integer. Booleans are useful for situations where you need to record whether something is true or false. They are also important to understand for control-flow in section <a href="/control-flow#control-flow">11</a>.</p>
<p>In the next section we will discuss the Numpy library. This library has a <a href="https://numpy.org/doc/stable/user/basics.types.html">broader collection</a> of basic types that allows for finer control over any script you write.</p>
<div id="type-conversions-in-python" class="section level3 hasAnchor">
<h3><span class="header-section-number">2.1.1</span> Type Conversions in Python<a aria-label="Anchor link to header" class="anchor-section" href="/basic-types#type-conversions-in-python"/></h3>
<p>We will often have to convert between types in a Python program. This is called <strong>type conversion</strong>, and it can be either implicitly or explicitly done.</p>
<p>For example, <code>int</code>s are often implicitly converted to <code>float</code>s, so that arithmetic operations work.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb10-1" title="1">my_int <span class="op">=</span> <span class="dv">1</span></a>
<a class="sourceLine" id="cb10-2" title="2">my_float <span class="op">=</span> <span class="fl">3.2</span></a>
<a class="sourceLine" id="cb10-3" title="3">my_sum <span class="op">=</span> my_int <span class="op">+</span> my_float</a>
<a class="sourceLine" id="cb10-4" title="4"><span class="bu">print</span>(<span class="st">"my_int's type"</span>, <span class="bu">type</span>(my_int))</a>
<a class="sourceLine" id="cb10-5" title="5"><span class="co">## my_int's type &lt;class 'int'&gt;</span></a>
<a class="sourceLine" id="cb10-6" title="6"><span class="bu">print</span>(<span class="st">"my_float's type"</span>, <span class="bu">type</span>(my_float))</a>
<a class="sourceLine" id="cb10-7" title="7"><span class="co">## my_float's type &lt;class 'float'&gt;</span></a>
<a class="sourceLine" id="cb10-8" title="8"><span class="bu">print</span>(my_sum)</a>
<a class="sourceLine" id="cb10-9" title="9"><span class="co">## 4.2</span></a>
<a class="sourceLine" id="cb10-10" title="10"><span class="bu">print</span>(<span class="st">"my_sum's type"</span>, <span class="bu">type</span>(my_sum))</a>
<a class="sourceLine" id="cb10-11" title="11"><span class="co">## my_sum's type &lt;class 'float'&gt;</span></a></code></pre></div>
<p>You might be disappointed if you always count on this behavior, though. For example, try the following piece of code on your machine. You will receive the following error: <code>TypeError: unsupported operand type(s) for +: 'float' and 'str'</code>.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb11-1" title="1"><span class="fl">3.2</span> <span class="op">+</span> <span class="st">"3.2"</span></a></code></pre></div>
<p>Explicit conversions occur when we as programmers explicitly ask Python to perform a conversion. We will do this with the functions such as <code>int()</code>, <code>str()</code>, <code>float()</code>, and <code>bool()</code>.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb12-1" title="1">my_date <span class="op">=</span> <span class="st">"5/2/2021"</span></a>
<a class="sourceLine" id="cb12-2" title="2">month_day_year <span class="op">=</span> my_date.split(<span class="st">'/'</span>)</a>
<a class="sourceLine" id="cb12-3" title="3">my_year <span class="op">=</span> <span class="bu">int</span>(month_day_year[<span class="op">-</span><span class="dv">1</span>]) </a>
<a class="sourceLine" id="cb12-4" title="4"><span class="bu">print</span>(<span class="st">'my_year is'</span>, my_year, <span class="st">'and its type is'</span>, <span class="bu">type</span>(my_year))</a>
<a class="sourceLine" id="cb12-5" title="5"><span class="co">## my_year is 2021 and its type is &lt;class 'int'&gt;</span></a></code></pre></div>
</div>
</div>
<div id="basic-types-in-r" class="section level2 hasAnchor">
<h2><span class="header-section-number">2.2</span> Basic Types In R<a aria-label="Anchor link to header" class="anchor-section" href="/basic-types#basic-types-in-r"/></h2>
<p>In R, the names of basic types are only slightly different. They are <code>logical</code> (instead of <code>bool</code>), <code>integer</code> (instead of <code>int</code>), <code>double</code> or <code>numeric</code> (instead of <code>float</code>)<a href="#fn5" class="footnote-ref" id="fnref5"><sup>5</sup></a>, <code>character</code> (instead of <code>str</code>), <code>complex</code> (for calculations involving imaginary numbers), and <code>raw</code> (useful for working with bytes).</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" title="1"><span class="co"># cat() is kind of like print()</span></a>
<a class="sourceLine" id="cb13-2" title="2"><span class="kw">cat</span>(<span class="kw">typeof</span>(<span class="st">'a'</span>), <span class="kw">typeof</span>(<span class="dv">1</span>), <span class="kw">typeof</span>(<span class="fl">1.3</span>))</a>
<a class="sourceLine" id="cb13-3" title="3"><span class="co">## character double double</span></a></code></pre></div>
<p>In this case R automatically upgraded <code>1</code> to a double. If you wanted to force it to be an integer, you can add a capital “L” to the end of the number.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" title="1"><span class="co"># cat() is kind of like print()</span></a>
<a class="sourceLine" id="cb14-2" title="2"><span class="kw">cat</span>(<span class="kw">typeof</span>(<span class="st">'a'</span>), <span class="kw">typeof</span>(1L), <span class="kw">typeof</span>(<span class="fl">1.3</span>))</a>
<a class="sourceLine" id="cb14-3" title="3"><span class="co">## character integer double</span></a></code></pre></div>
<div id="type-conversions-in-r" class="section level3 hasAnchor">
<h3><span class="header-section-number">2.2.1</span> Type Conversions in R<a aria-label="Anchor link to header" class="anchor-section" href="/basic-types#type-conversions-in-r"/></h3>
<p>You can explicitly and implicitly convert types in R just as you did in Python. Implicit conversion looks like this.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" title="1">myInt =<span class="st"> </span><span class="dv">1</span></a>
<a class="sourceLine" id="cb15-2" title="2">myDouble =<span class="st"> </span><span class="fl">3.2</span></a>
<a class="sourceLine" id="cb15-3" title="3">mySum =<span class="st"> </span>myInt <span class="op">+</span><span class="st"> </span>myDouble</a>
<a class="sourceLine" id="cb15-4" title="4"><span class="kw">print</span>(<span class="kw">paste0</span>(<span class="st">"my_int's type is "</span>, <span class="kw">typeof</span>(myInt)))</a>
<a class="sourceLine" id="cb15-5" title="5"><span class="co">## [1] "my_int's type is double"</span></a>
<a class="sourceLine" id="cb15-6" title="6"><span class="kw">print</span>(<span class="kw">paste0</span>(<span class="st">"my_float's type is "</span>, <span class="kw">typeof</span>(myDouble)))</a>
<a class="sourceLine" id="cb15-7" title="7"><span class="co">## [1] "my_float's type is double"</span></a>
<a class="sourceLine" id="cb15-8" title="8"><span class="kw">print</span>(mySum)</a>
<a class="sourceLine" id="cb15-9" title="9"><span class="co">## [1] 4.2</span></a>
<a class="sourceLine" id="cb15-10" title="10"><span class="kw">print</span>(<span class="kw">paste0</span>(<span class="st">"my_sum's type is "</span>, <span class="kw">typeof</span>(mySum)))</a>
<a class="sourceLine" id="cb15-11" title="11"><span class="co">## [1] "my_sum's type is double"</span></a></code></pre></div>
<p>Explicit conversion can be achieved with functions such as <code>as.integer</code>, <code>as.logical</code>, <code>as.double</code>, etc.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" title="1"><span class="kw">print</span>(<span class="kw">typeof</span>(<span class="dv">1</span>))</a>
<a class="sourceLine" id="cb16-2" title="2"><span class="co">## [1] "double"</span></a>
<a class="sourceLine" id="cb16-3" title="3"><span class="kw">print</span>(<span class="kw">typeof</span>(<span class="kw">as.logical</span>(<span class="dv">1</span>)))</a>
<a class="sourceLine" id="cb16-4" title="4"><span class="co">## [1] "logical"</span></a></code></pre></div>
</div>
<div id="rs-simplification" class="section level3 hasAnchor">
<h3><span class="header-section-number">2.2.2</span> R’s Simplification<a aria-label="Anchor link to header" class="anchor-section" href="/basic-types#rs-simplification"/></h3>
<p>The basic types of R are a little different than the basic types of Python. On the one hand, Python has basic types for individual elements, and it uses separate types as containers for storing many elements. On the other, R uses the same type to store a single element as it does to store many elements. Strictly speaking, R does not have a scalar type.</p>
<p>Technically, all of the examples we just did in R are using length one <strong>vectors</strong>–<code>logical</code> <code>integer</code> <code>double</code>, <code>character</code>, <code>complex</code>, and <code>raw</code> are the possible <strong>modes</strong> of a vector. <code>vector</code>s will be discussed further section <a href="/r-vectors-versus-numpy-arrays-and-pandas-series#r-vectors-versus-numpy-arrays-and-pandas-series">3</a>.</p>
<p>Think about which option you prefer. What are the benefits of using separate types for scalars and collections? What are the benefits of using the same type?</p>
</div>
</div>
<div id="exercises" class="section level2 hasAnchor">
<h2><span class="header-section-number">2.3</span> Exercises<a aria-label="Anchor link to header" class="anchor-section" href="/basic-types#exercises"/></h2>
<div id="r-questions" class="section level3 hasAnchor">
<h3><span class="header-section-number">2.3.1</span> R Questions<a aria-label="Anchor link to header" class="anchor-section" href="/basic-types#r-questions"/></h3>
<ol style="list-style-type: decimal">
<li/>
</ol>
<p>Which R base type is ideal for each piece of data? Assign your answers to a <code>character</code> <code>vector</code> of length four called <code>questionOne</code>.</p>
<ol style="list-style-type: lower-alpha">
<li>An individual’s IP address</li>
<li>whether or not an individual attended a study</li>
<li>the number of seeds found in a plant</li>
<li>the amount of time it takes for a car to race around a track</li>
</ol>
<ol start="2" style="list-style-type: decimal">
<li/>
</ol>
<p>Floating points are weird. What gets printed is not the same as what is stored! In R, you can control how many digits get printed by using the <code>options</code> function.</p>
<ol style="list-style-type: lower-alpha">
<li>Assign<code>2/3</code> to <code>a</code></li>
<li><code>print</code> <code>a</code>, and copy/paste what you see into the variable <code>aPrint</code>. Make sure it is a <code>character</code>.</li>
<li>Take a look at the documentation for <code>options</code>. Assign the value of <code>options()$digits</code> to <code>numDigitsStart</code></li>
<li>Change the number of digits to <code>22</code></li>
<li>Again, <code>print</code>, <code>a</code> and copy/paste what you see into the variable <code>aPrintv2</code>. Make sure it is a <code>character</code>.</li>
<li>Assign the output of <code>options()$digits</code> to <code>numDigitsEnd</code></li>
</ol>
<ol start="3" style="list-style-type: decimal">
<li/>
</ol>
<p>Floating points are weird. What gets stored might not be what you want. <a href="https://cran.r-project.org/doc/FAQ/R-FAQ.html#Why-doesn_0027t-R-think-these-numbers-are-equal_003f">“The only numbers that can be represented exactly in R’s numeric type are integers and fractions whose denominator is a power of 2.”</a> As a consequence, you should never test strict equality (i.e. using <code>==</code>) between two floating points.</p>
<ol style="list-style-type: lower-alpha">
<li>Assign the square root of 2 to <code>mySqrt</code></li>
<li>Print the square of this variable</li>
<li>Test (using <code>==</code>) that this variable is equal to <code>2</code>. Assign the result of this test to <code>isTwoRecoverable</code></li>
<li>Test for near equality (using <code>all.equal</code>). In other words, check that this variable is very close to <code>2</code>. Assign the result of this test to <code>closeEnough</code>. Make sure to read the documentation for this function because the return type can be tricky!</li>
</ol>
</div>
<div id="python-questions" class="section level3 hasAnchor">
<h3><span class="header-section-number">2.3.2</span> Python Questions<a aria-label="Anchor link to header" class="anchor-section" href="/basic-types#python-questions"/></h3>
<ol style="list-style-type: decimal">
<li/>
</ol>
<p>Which Python type is ideal for each piece of data? Assign your answers to a <code>list</code> of <code>str</code>ings called <code>question_one</code>.</p>
<ol style="list-style-type: lower-alpha">
<li>An individual’s IP address</li>
<li>whether or not an individual attended a study</li>
<li>the number of seeds found in a plant</li>
<li>the amount of time it takes for a car to race around a track</li>
</ol>
<ol start="2" style="list-style-type: decimal">
<li/>
</ol>
<p>Floating points are weird. What gets printed is not the same as what is stored! In Python, you need to edit a class’s <code>__str__</code> method if you want to control how many digits get printed for a user-defined type/class, but we won’t do that. Instead, we’ll use <a href="https://docs.python.org/3/library/stdtypes.html#str.format"><code>str.format()</code></a> to return a string directly (instead of copy/paste-ing it).</p>
<ol style="list-style-type: lower-alpha">
<li>Assign <code>a</code> to <code>2/3</code></li>
<li><code>print</code> <code>a</code>, and copy/paste what you see into the variable <code>a_print</code></li>
<li>Create a <code>str</code> that displays 22 digits of 2/3. Call it <code>a_printv2</code></li>
<li><code>print</code> the above string</li>
</ol>
<ol start="3" style="list-style-type: decimal">
<li/>
</ol>
<p>Floating points are weird. What gets stored might not be what you want. The Python documentation has an excellent discussion of how storage behavior can be surprising. Click <a href="https://docs.python.org/3/tutorial/floatingpoint.html">here</a> to read it.</p>
<ol style="list-style-type: lower-alpha">
<li>Assign the square root of 2 to <code>my_sqrt</code></li>
<li><code>print</code> the square of this variable</li>
<li>Test (using <code>==</code>) that this variable is equal to <code>2</code>. Assign the result of this test to <code>is_two_recoverable</code></li>
<li>Test for near equality (using <code>np.isclose</code>, which is available after running <code>import numpy as np</code>). In other words, check that this variable is close to <code>2</code>. Assign the result of this test to <code>close_enough</code>.</li>
</ol>

</div>
</div>
</div>
<h3>References</h3>
<div id="refs" class="references">
<div id="ref-python_cookbook">
<p>Beazley, David M., and Brian K. (Brian Kenneth) Jones. 2014. <em>Python Cookbook: Recipes for Mastering Python 3</em>. Third. pub-ora-media:adr: pub-ora-media.</p>
</div>
</div>
<div class="footnotes">
<hr/>
<ol start="5">
<li id="fn5"><p>“double” is short for “double precision floating point.” In other programming languages, the programmer might choose how many decimal points of precision he or she wants.<a class="footnote-back" href="/basic-types#fnref5">↩</a></p></li>
</ol>
</div>
                
</body>
</html>