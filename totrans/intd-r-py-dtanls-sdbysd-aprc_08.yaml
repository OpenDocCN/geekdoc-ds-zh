- en: Chapter 5 R’s lists Versus Python’s lists and dicts
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://randpythonbook.netlify.app/rs-lists-versus-pythons-lists-and-dicts](https://randpythonbook.netlify.app/rs-lists-versus-pythons-lists-and-dicts)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: When you need to store elements in a container, but you can’t guarantee that
    these elements all have the same type, or you can’t guarantee that they all have
    the same size, then you need a `list` in R. In Python, you might need a `list`
    or `dict` (short for dictionary) (Lutz [2013](#ref-Lutz13)).
  prefs: []
  type: TYPE_NORMAL
- en: 5.1 `list`s In R
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '`list`s are one of the most flexible data types in R. You can access individual
    elements in many different ways, each element can be of different size, and each
    element can be of a different type.'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: If you want to extract an element, you need to decide between using single square
    brackets or double square brackets. The former returns a `list`, while the second
    returns the type of the individual element.
  prefs: []
  type: TYPE_NORMAL
- en: You can also name the elements of a list. This can lead to more readable code.
    To see why, examine the example below that makes use of spme data about cars (“SAS
    ^(Viya ^(Example Data Sets” [2021](#ref-sas_cars)))). The `lm()` function estimates
    a linear regression model. It returns a `list` with plenty of components.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: '`results` is a `list` (because `is.list(results)` returns `TRUE`), but to be
    more specific, it is an S3 object of class `lm`. If you do not know what this
    means, do not worry! S3 classes are discussed more in a later chapter. Why is
    this important? For one, I mention it so that you aren’t confused if you type
    `class(results)` and see `lm` instead of `list`. Second, the fact that the authors
    of `lm()` wrote code that returns `result` as a “fancy list” suggests that they
    are encouraging another way to access elements of the `results`: to use specialized
    functions! For example, you can use `residuals(results)`, `coefficients(results)`,
    and `fitted.values(results)`. These functions do not work for all lists in R,
    but when they do work (for `lm` and `glm` objects only), you can be sure you are
    writing the kind of code that is encouraged by the authors of `lm()`.'
  prefs: []
  type: TYPE_NORMAL
- en: 5.2 `list`s In Python
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '[Python `list`s](https://docs.python.org/3/library/stdtypes.html#lists) are
    very flexible, too. There are fewer choices for accessing and modifying elements
    of lists in Python–you’ll most likely end up using the square bracket operator.
    Elements can be different sizes and types, just like they were with R’s lists.'
  prefs: []
  type: TYPE_NORMAL
- en: Unlike in R, however, you cannot name elements of lists. If you want a container
    that allows you to access elements by name, look into Python [dictionaries](https://docs.python.org/3/library/stdtypes.html#mapping-types-dict)
    (see section [5.3](/rs-lists-versus-pythons-lists-and-dicts#dictionaries-in-python))
    or Pandas’ `Series` objects (see section [3.2](/r-vectors-versus-numpy-arrays-and-pandas-series#overview-of-python)).
  prefs: []
  type: TYPE_NORMAL
- en: From the example below, you can see that we’ve been introduced to lists already.
    We have been constructing Numpy arrays from them.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: Python lists have [methods attached to them](https://docs.python.org/3/tutorial/datastructures.html#more-on-lists),
    which can come in handy.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: Creating lists can be done as above, with the square bracket operators. They
    can also be created with the `list()` function, and by creating a *list comprehension*.
    List comprehensions are discussed more in [11.2](/control-flow#loops).
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: 'The code above makes reference to a type that is not extensively discussed
    in this text: [`tuple`s](https://docs.python.org/3.3/library/stdtypes.html?highlight=tuple#tuple).'
  prefs: []
  type: TYPE_NORMAL
- en: 5.3 Dictionaries In Python
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '[**Dictionaries**](https://docs.python.org/3/tutorial/datastructures.html#dictionaries)
    in Python provide a container of key-value pairs. The keys are *unique*, and they
    must be *immutable*. `string`s are the most common key type, but `int`s can be
    used as well.'
  prefs: []
  type: TYPE_NORMAL
- en: Here is an example of creating a `dict` with curly braces (i.e. `{}`). This
    `dict` stores the current price of a few popular cryptocurrencies. Accessing an
    individual element’s value using its key is done with the square bracket operator
    (i.e. `[]`), and deleting elements is done with the `del` keyword.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs: []
  type: TYPE_PRE
- en: You can also create `dict`s using **dictionary comprehensions**. Just like list
    comprehensions, these are discussed more in [11.2](/control-flow#loops).
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE6]'
  prefs: []
  type: TYPE_PRE
- en: Personally, I don’t use dictionaries as much as lists. If I have a dictionary,
    I usually convert it to a Pandas data frame (more information on those in [8.2](/data-frames#data-frames-in-python)).
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE7]'
  prefs: []
  type: TYPE_PRE
- en: 5.4 Exercises
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 5.4.1 R Questions
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Consider the data sets `"adult.data"`, `"car.data"`, `"hungarian.data"`, `"iris.data"`,
    `"long-beach-va.data"` and `"switzerland.data"` (Janosi et al. [1988](#ref-misc_heart_disease_45)),
    (Fisher [1988](#ref-misc_iris_53)), (“Adult” [1996](#ref-misc_adult_2)) and (“Car
    Evaluation” [1997](#ref-misc_car_evaluation_19)) hosted by (Dua and Graff [2017](#ref-uci_data)).
    Read all of these in and store them all as a `list` of `data.frame`s. Call the
    list `listDfs`.
  prefs: []
  type: TYPE_NORMAL
- en: 'Here are two lists in R:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE8]'
  prefs: []
  type: TYPE_PRE
- en: Make a new `list` that is these two lists above “squished together.” It has
    to be length \(4\), and each element is one of the elements of `l1` and `l2`.
    Call this list `l3`. Make sure to delete all the “tags” or “names” of these four
    elements.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Extract the third element of `l3` as a length one `list` and assign it to the
    name `l4`.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Extract the third element of `l3` as a `vector` and assign it to the name `v1`.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 5.4.2 Python Questions
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Read in `car.data` with `pd.read_csv()`, and use a `DataFrame` method to convert
    that to a `dict`. Store your answer as `car_dict`.
  prefs: []
  type: TYPE_NORMAL
- en: 'Here are two `dict`s in Python:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE9]'
  prefs: []
  type: TYPE_PRE
- en: Make a new `list` that is these two `dict`s above “squished together” (why can’t
    it be another `dict`?) It has to be length \(4\), and each value is one of the
    values of \(d1\) and \(d2\). Call this list `my_list`.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Use a list comprehension to create a list called `special_list` of all numbers
    starting from zero, up to (and including) one million, but don’t include numbers
    that are divisible by any prime number less than seven.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Assign the average of all elements in the above list to the variable `special_ave`.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: References
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: “Adult.” 1996\. UCI Machine Learning Repository.
  prefs: []
  type: TYPE_NORMAL
- en: “Car Evaluation.” 1997\. UCI Machine Learning Repository.
  prefs: []
  type: TYPE_NORMAL
- en: Dua, Dheeru, and Casey Graff. 2017\. “UCI Machine Learning Repository.” University
    of California, Irvine, School of Information; Computer Sciences. [http://archive.ics.uci.edu/ml](http://archive.ics.uci.edu/ml).
  prefs: []
  type: TYPE_NORMAL
- en: Fisher, Test, R.A. & Creator. 1988\. “Iris.” UCI Machine Learning Repository.
  prefs: []
  type: TYPE_NORMAL
- en: Janosi, Andras, William Steinbrunn, Matthias Pfisterer, and Robert Detrano.
    1988\. “Heart Disease.” UCI Machine Learning Repository.
  prefs: []
  type: TYPE_NORMAL
- en: 'Lutz, Mark. 2013\. *Learning Python*. 5th ed. Beijing: O’Reilly. [https://www.safaribooksonline.com/library/view/learning-python-5th/9781449355722/](https://www.safaribooksonline.com/library/view/learning-python-5th/9781449355722/).'
  prefs: []
  type: TYPE_NORMAL
- en: “SAS ^(Viya ^(Example Data Sets.” 2021\. [https://support.sas.com/documentation/onlinedoc/viya/examples.htm](https://support.sas.com/documentation/onlinedoc/viya/examples.htm).))
  prefs: []
  type: TYPE_NORMAL
