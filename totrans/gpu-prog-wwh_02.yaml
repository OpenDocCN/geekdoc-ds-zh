- en: Setup
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 设置
- en: 原文：[https://enccs.github.io/gpu-programming/0-setup/](https://enccs.github.io/gpu-programming/0-setup/)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://enccs.github.io/gpu-programming/0-setup/](https://enccs.github.io/gpu-programming/0-setup/)
- en: '*[GPU programming: why, when and how?](../)* **   Setup'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: '*[GPU编程：为什么、何时以及如何？](../)* **   设置'
- en: '[Edit on GitHub](https://github.com/ENCCS/gpu-programming/blob/main/content/0-setup.rst)'
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[在GitHub上编辑](https://github.com/ENCCS/gpu-programming/blob/main/content/0-setup.rst)'
- en: '* * *'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: '## Local installation'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: '## 本地安装'
- en: Since this lesson is taught using an HPC cluster, no software installation on
    your own computer is needed.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 由于本课程使用HPC集群进行教学，因此您自己的计算机无需安装任何软件。
- en: Running on LUMI
  id: totrans-7
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 在LUMI上运行
- en: 'Interactive job, 1 node, 1 GPU, 1 hour:'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 交互式作业，1个节点，1个GPU，1小时：
- en: '[PRE0]'
  id: totrans-9
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Exit interactive allocation with `exit`.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 使用`exit`退出交互式分配。
- en: 'Interacive terminal session on compute node:'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 计算节点上的交互式终端会话：
- en: '[PRE1]'
  id: totrans-12
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Corresponding batch script `submit.sh`:'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 对应的批处理脚本`submit.sh`：
- en: '[PRE2]'
  id: totrans-14
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'Submit the job: `sbatch submit.sh`'
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 提交作业：`sbatch submit.sh`
- en: 'Monitor your job: `squeue --me`'
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 监控您的作业：`squeue --me`
- en: 'Kill job: `scancel <JOB_ID>`'
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 终止作业：`scancel <JOB_ID>`
- en: Running Julia on LUMI
  id: totrans-18
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 在LUMI上运行Julia
- en: In order to run Julia with `AMDGPU.jl` on LUMI, we use the following directory
    structure and assume it is our working directory.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 为了在LUMI上使用`AMDGPU.jl`运行Julia，我们使用以下目录结构，并假设它是我们的工作目录。
- en: '[PRE3]'
  id: totrans-20
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: An example of a `Project.toml` project file.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是一个`Project.toml`项目文件的示例。
- en: '[PRE4]'
  id: totrans-22
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: For the `submit.sh` batch script, include additional content to the batch script
    mentioned above.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 对于`submit.sh`批处理脚本，向上述批处理脚本中添加额外内容。
- en: '[PRE5]'
  id: totrans-24
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: An example of the `script.jl` code is provided below.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 下面提供了一个`script.jl`代码示例。
- en: '[PRE6]'
  id: totrans-26
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: Running Python
  id: totrans-27
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 运行Python
- en: '### On LUMI'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: '### 在LUMI上'
- en: 'A singularity container containing all the necessary dependencies has been
    created. To launch the container and the `IPython` interpreter within it, do as
    follows:'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 已创建包含所有必要依赖项的singularity容器。要启动容器及其内部的`IPython`解释器，请按照以下操作：
- en: '[PRE7]'
  id: totrans-30
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: Recipe for creating the container
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 创建容器的配方
- en: For reference, the following files were used to create the above singularity
    container. First a singularity def file,
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 作为参考，以下文件被用来创建上述Singularity容器。首先是一个singularity def文件，
- en: '[PRE8]'
  id: totrans-33
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: and a bash script to build the container,
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 以及一个用于构建容器的bash脚本，
- en: '[PRE9]'
  id: totrans-35
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: Tip
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 小贴士
- en: 'You can also interactively build using:'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 您还可以通过以下方式交互式构建：
- en: '[PRE10]'
  id: totrans-38
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'and finally a `requirements.txt` file:'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 最后是一个`requirements.txt`文件：
- en: '[PRE11]'
  id: totrans-40
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'LUMI also has official singularity images for Jax. These can be found under
    the path:'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: LUMI也有官方的Jax singularity镜像。这些可以在以下路径下找到：
- en: '[PRE12]'
  id: totrans-42
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: '[PRE13]  ### On LUMI (only CPU)'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE13]  ### 在LUMI（仅CPU）上'
- en: 'On LUMI, you can set up Python distribution as following:'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 在LUMI上，您可以按照以下方式设置Python发行版：
- en: '[PRE14]  ### On Google Colab'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE14]  ### 在Google Colab上'
- en: Google Colaboratory, commonly referred to as “Colab”, is a cloud-based Jupyter
    notebook environment which runs in your web browser. Using it requires login with
    a Google account.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: Google Colaboratory，通常称为“Colab”，是一个基于云的Jupyter笔记本环境，在您的网络浏览器中运行。使用它需要使用Google账户登录。
- en: 'This is how you can get access to NVIDIA GPUs on Colab:'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 这就是您如何在Colab上获取访问NVIDIA GPU的方式：
- en: Visit [https://colab.research.google.com/](https://colab.research.google.com/)
    and sign in to your Google account
  id: totrans-48
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 访问[https://colab.research.google.com/](https://colab.research.google.com/)并登录您的Google账户
- en: In the menu in front of you, click “New notebook” in the bottom right corner
  id: totrans-49
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在您面前的菜单中，点击右下角的“新建笔记本”
- en: After the notebook loads, go to the “Runtime” menu at the top and select “Change
    runtime type”
  id: totrans-50
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 笔记本加载完成后，转到顶部的“运行时”菜单并选择“更改运行时类型”
- en: Select “GPU” under “Hardware accelerator” and choose an available type of NVIDIA
    GPU (e.g. T4)
  id: totrans-51
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在“硬件加速器”下选择“GPU”，并选择一个可用的NVIDIA GPU类型（例如T4）
- en: Click “Save”. The runtime takes a few seconds to load - you can see the status
    in the top right corner
  id: totrans-52
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 点击“保存”。运行时需要几秒钟来加载 - 您可以在右上角看到状态
- en: After the runtime has loaded, you can type `!nvidia-smi` to see information
    about the GPU.
  id: totrans-53
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 运行时加载后，您可以输入`!nvidia-smi`来查看GPU信息。
- en: You can now write Python code that runs on GPUs through e.g. the numba library.
  id: totrans-54
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 您现在可以编写通过例如numba库在GPU上运行的Python代码。
- en: Access to code examples
  id: totrans-55
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 访问代码示例
- en: 'Some exercises in this lesson rely on source code that you should download
    and modify in your own home directory on the cluster. All code examples are available
    in the same GitHub repository as this lesson itself. To download it you should
    use Git:'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 本课程的一些练习依赖于您应该在集群上的个人主目录中下载并修改的源代码。所有代码示例都可在与课程本身相同的GitHub仓库中找到。要下载，您应使用Git：
- en: '[PRE15] [Previous](../ "GPU Programming: When, Why and How?") [Next](../1-gpu-history/
    "Why GPUs?")'
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE15] [上一页](../ "GPU Programming: When, Why and How?") [下一页](../1-gpu-history/
    "为什么使用GPU？")'
- en: '* * *'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: © Copyright 2023-2024, The contributors.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: © 版权所有 2023-2024，贡献者。
- en: 'Built with [Sphinx](https://www.sphinx-doc.org/) using a [theme](https://github.com/readthedocs/sphinx_rtd_theme)
    provided by [Read the Docs](https://readthedocs.org). ## Local installation'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 使用[Sphinx](https://www.sphinx-doc.org/)构建，并使用[主题](https://github.com/readthedocs/sphinx_rtd_theme)提供的[Read
    the Docs](https://readthedocs.org)。## 本地安装
- en: Since this lesson is taught using an HPC cluster, no software installation on
    your own computer is needed.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 由于本课程使用HPC集群进行教学，因此您自己的计算机无需安装任何软件。
- en: Running on LUMI
  id: totrans-62
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 在LUMI上运行
- en: 'Interactive job, 1 node, 1 GPU, 1 hour:'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 交互式作业，1个节点，1个GPU，1小时：
- en: '[PRE16]'
  id: totrans-64
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: Exit interactive allocation with `exit`.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 使用`exit`退出交互式分配。
- en: 'Interacive terminal session on compute node:'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 计算节点上的交互式终端会话：
- en: '[PRE17]'
  id: totrans-67
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: 'Corresponding batch script `submit.sh`:'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 对应的批处理脚本`submit.sh`：
- en: '[PRE18]'
  id: totrans-69
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: 'Submit the job: `sbatch submit.sh`'
  id: totrans-70
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 提交作业：`sbatch submit.sh`
- en: 'Monitor your job: `squeue --me`'
  id: totrans-71
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 监控您的作业：`squeue --me`
- en: 'Kill job: `scancel <JOB_ID>`'
  id: totrans-72
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 终止作业：`scancel <JOB_ID>`
- en: Running Julia on LUMI
  id: totrans-73
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 在LUMI上运行Julia
- en: In order to run Julia with `AMDGPU.jl` on LUMI, we use the following directory
    structure and assume it is our working directory.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 为了在LUMI上使用`AMDGPU.jl`运行Julia，我们使用以下目录结构，并假设它是我们的工作目录。
- en: '[PRE19]'
  id: totrans-75
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: An example of a `Project.toml` project file.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 一个`Project.toml`项目文件的示例。
- en: '[PRE20]'
  id: totrans-77
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: For the `submit.sh` batch script, include additional content to the batch script
    mentioned above.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 对于`submit.sh`批处理脚本，向上述批处理脚本中添加额外的内容。
- en: '[PRE21]'
  id: totrans-79
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: An example of the `script.jl` code is provided below.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 下面提供了一个`script.jl`代码示例。
- en: '[PRE22]'
  id: totrans-81
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: Running Python
  id: totrans-82
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 运行Python
- en: '### On LUMI'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: '### 在LUMI'
- en: 'A singularity container containing all the necessary dependencies has been
    created. To launch the container and the `IPython` interpreter within it, do as
    follows:'
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 已创建包含所有必要依赖项的singularity容器。要启动容器及其内部的`IPython`解释器，请按照以下操作：
- en: '[PRE23]'
  id: totrans-85
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: Recipe for creating the container
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 创建容器的配方
- en: For reference, the following files were used to create the above singularity
    container. First a singularity def file,
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 为了参考，以下文件被用来创建上面的singularity容器。首先是一个singularity def文件，
- en: '[PRE24]'
  id: totrans-88
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: and a bash script to build the container,
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 以及一个用于构建容器的bash脚本，
- en: '[PRE25]'
  id: totrans-90
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: Tip
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 小贴士
- en: 'You can also interactively build using:'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 您还可以使用以下方式交互式构建：
- en: '[PRE26]'
  id: totrans-93
  prefs: []
  type: TYPE_PRE
  zh: '[PRE26]'
- en: 'and finally a `requirements.txt` file:'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 最后是一个`requirements.txt`文件：
- en: '[PRE27]'
  id: totrans-95
  prefs: []
  type: TYPE_PRE
  zh: '[PRE27]'
- en: 'LUMI also has official singularity images for Jax. These can be found under
    the path:'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: LUMI还为Jax提供了官方的singularity镜像。这些镜像可以在以下路径下找到：
- en: '[PRE28]'
  id: totrans-97
  prefs: []
  type: TYPE_PRE
  zh: '[PRE28]'
- en: '[PRE29]  ### On LUMI (only CPU)'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE29]  ### 在LUMI（仅CPU）'
- en: 'On LUMI, you can set up Python distribution as following:'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 在LUMI上，您可以按照以下方式设置Python发行版：
- en: '[PRE30]  ### On Google Colab'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE30]  ### 在Google Colab上'
- en: Google Colaboratory, commonly referred to as “Colab”, is a cloud-based Jupyter
    notebook environment which runs in your web browser. Using it requires login with
    a Google account.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: Google Colaboratory，通常称为“Colab”，是一个基于云的Jupyter笔记本环境，它运行在您的网页浏览器中。使用它需要使用Google账户登录。
- en: 'This is how you can get access to NVIDIA GPUs on Colab:'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 这就是您如何获取Colab上的NVIDIA GPU访问权限：
- en: Visit [https://colab.research.google.com/](https://colab.research.google.com/)
    and sign in to your Google account
  id: totrans-103
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 访问[https://colab.research.google.com/](https://colab.research.google.com/)并登录您的Google账户
- en: In the menu in front of you, click “New notebook” in the bottom right corner
  id: totrans-104
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在您面前的菜单中，点击右下角的“新建笔记本”
- en: After the notebook loads, go to the “Runtime” menu at the top and select “Change
    runtime type”
  id: totrans-105
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 笔记本加载后，转到顶部的“运行时”菜单并选择“更改运行时类型”
- en: Select “GPU” under “Hardware accelerator” and choose an available type of NVIDIA
    GPU (e.g. T4)
  id: totrans-106
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在“硬件加速器”下选择“GPU”，并选择一种可用的NVIDIA GPU类型（例如T4）
- en: Click “Save”. The runtime takes a few seconds to load - you can see the status
    in the top right corner
  id: totrans-107
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 点击“保存”。运行时间需要几秒钟来加载 - 您可以在右上角查看状态
- en: After the runtime has loaded, you can type `!nvidia-smi` to see information
    about the GPU.
  id: totrans-108
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 运行时间加载后，您可以使用`!nvidia-smi`来查看GPU信息。
- en: You can now write Python code that runs on GPUs through e.g. the numba library.
  id: totrans-109
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 您现在可以编写运行在GPU上的Python代码，例如通过numba库。
- en: Access to code examples
  id: totrans-110
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 访问代码示例
- en: 'Some exercises in this lesson rely on source code that you should download
    and modify in your own home directory on the cluster. All code examples are available
    in the same GitHub repository as this lesson itself. To download it you should
    use Git:'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 本课程的一些练习依赖于您应该在集群上的个人主目录中下载并修改的源代码。所有代码示例都可在与课程本身相同的GitHub存储库中找到。要下载它，您应该使用Git：
- en: '[PRE31]'
  id: totrans-112
  prefs: []
  type: TYPE_PRE
  zh: '[PRE31]'
- en: Local installation
  id: totrans-113
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 本地安装
- en: Since this lesson is taught using an HPC cluster, no software installation on
    your own computer is needed.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 由于本课程使用HPC集群进行教学，因此您自己的计算机无需安装任何软件。
- en: Running on LUMI
  id: totrans-115
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 在LUMI上运行
- en: 'Interactive job, 1 node, 1 GPU, 1 hour:'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 交互式作业，1个节点，1个GPU，1小时：
- en: '[PRE32]'
  id: totrans-117
  prefs: []
  type: TYPE_PRE
  zh: '[PRE32]'
- en: Exit interactive allocation with `exit`.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 使用`exit`退出交互式分配。
- en: 'Interacive terminal session on compute node:'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 计算节点上的交互式终端会话：
- en: '[PRE33]'
  id: totrans-120
  prefs: []
  type: TYPE_PRE
  zh: '[PRE33]'
- en: 'Corresponding batch script `submit.sh`:'
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 对应的批处理脚本`submit.sh`：
- en: '[PRE34]'
  id: totrans-122
  prefs: []
  type: TYPE_PRE
  zh: '[PRE34]'
- en: 'Submit the job: `sbatch submit.sh`'
  id: totrans-123
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 提交作业：`sbatch submit.sh`
- en: 'Monitor your job: `squeue --me`'
  id: totrans-124
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 监控你的作业：`squeue --me`
- en: 'Kill job: `scancel <JOB_ID>`'
  id: totrans-125
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 终止作业：`scancel <JOB_ID>`
- en: Running Julia on LUMI
  id: totrans-126
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 在LUMI上运行Julia
- en: In order to run Julia with `AMDGPU.jl` on LUMI, we use the following directory
    structure and assume it is our working directory.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 为了在LUMI上使用`AMDGPU.jl`运行Julia，我们使用了以下目录结构，并假设它是我们的工作目录。
- en: '[PRE35]'
  id: totrans-128
  prefs: []
  type: TYPE_PRE
  zh: '[PRE35]'
- en: An example of a `Project.toml` project file.
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 下面提供了一个`Project.toml`项目文件示例。
- en: '[PRE36]'
  id: totrans-130
  prefs: []
  type: TYPE_PRE
  zh: '[PRE36]'
- en: For the `submit.sh` batch script, include additional content to the batch script
    mentioned above.
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 对于`submit.sh`批处理脚本，向上述提到的批处理脚本中添加额外的内容。
- en: '[PRE37]'
  id: totrans-132
  prefs: []
  type: TYPE_PRE
  zh: '[PRE37]'
- en: An example of the `script.jl` code is provided below.
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 下面提供了一个`script.jl`代码示例。
- en: '[PRE38]'
  id: totrans-134
  prefs: []
  type: TYPE_PRE
  zh: '[PRE38]'
- en: Running Julia on LUMI
  id: totrans-135
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 在LUMI上运行Julia
- en: In order to run Julia with `AMDGPU.jl` on LUMI, we use the following directory
    structure and assume it is our working directory.
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 为了在LUMI上使用`AMDGPU.jl`运行Julia，我们使用了以下目录结构，并假设它是我们的工作目录。
- en: '[PRE39]'
  id: totrans-137
  prefs: []
  type: TYPE_PRE
  zh: '[PRE39]'
- en: An example of a `Project.toml` project file.
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 下面提供了一个`Project.toml`项目文件示例。
- en: '[PRE40]'
  id: totrans-139
  prefs: []
  type: TYPE_PRE
  zh: '[PRE40]'
- en: For the `submit.sh` batch script, include additional content to the batch script
    mentioned above.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 对于`submit.sh`批处理脚本，向上述提到的批处理脚本中添加额外的内容。
- en: '[PRE41]'
  id: totrans-141
  prefs: []
  type: TYPE_PRE
  zh: '[PRE41]'
- en: An example of the `script.jl` code is provided below.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 下面提供了一个`script.jl`代码示例。
- en: '[PRE42]'
  id: totrans-143
  prefs: []
  type: TYPE_PRE
  zh: '[PRE42]'
- en: Running Python
  id: totrans-144
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 运行Python
- en: '### On LUMI'
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: '### 在LUMI上'
- en: 'A singularity container containing all the necessary dependencies has been
    created. To launch the container and the `IPython` interpreter within it, do as
    follows:'
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 已经创建了一个包含所有必要依赖项的singularity容器。要启动容器及其内部的`IPython`解释器，请按照以下步骤操作：
- en: '[PRE43]'
  id: totrans-147
  prefs: []
  type: TYPE_PRE
  zh: '[PRE43]'
- en: Recipe for creating the container
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 创建容器的步骤
- en: For reference, the following files were used to create the above singularity
    container. First a singularity def file,
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 作为参考，以下文件被用来创建上述singularity容器。首先是一个singularity定义文件，
- en: '[PRE44]'
  id: totrans-150
  prefs: []
  type: TYPE_PRE
  zh: '[PRE44]'
- en: and a bash script to build the container,
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 以及一个用于构建容器的bash脚本，
- en: '[PRE45]'
  id: totrans-152
  prefs: []
  type: TYPE_PRE
  zh: '[PRE45]'
- en: Tip
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 小贴士
- en: 'You can also interactively build using:'
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 你也可以通过以下方式交互式构建：
- en: '[PRE46]'
  id: totrans-155
  prefs: []
  type: TYPE_PRE
  zh: '[PRE46]'
- en: 'and finally a `requirements.txt` file:'
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 最后一个`requirements.txt`文件：
- en: '[PRE47]'
  id: totrans-157
  prefs: []
  type: TYPE_PRE
  zh: '[PRE47]'
- en: 'LUMI also has official singularity images for Jax. These can be found under
    the path:'
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: LUMI还提供了Jax的官方singularity镜像。这些镜像可以在以下路径下找到：
- en: '[PRE48]'
  id: totrans-159
  prefs: []
  type: TYPE_PRE
  zh: '[PRE48]'
- en: '[PRE49]  ### On LUMI (only CPU)'
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE49]  ### 在LUMI（仅CPU）'
- en: 'On LUMI, you can set up Python distribution as following:'
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 在LUMI上，你可以按照以下方式设置Python发行版：
- en: '[PRE50]  ### On Google Colab'
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE50]  ### 在Google Colab'
- en: Google Colaboratory, commonly referred to as “Colab”, is a cloud-based Jupyter
    notebook environment which runs in your web browser. Using it requires login with
    a Google account.
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: Google Colaboratory，通常被称为“Colab”，是一个基于云的Jupyter笔记本环境，它在你的网络浏览器中运行。使用它需要使用Google账户登录。
- en: 'This is how you can get access to NVIDIA GPUs on Colab:'
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 这就是如何在Colab上获取访问NVIDIA GPU的方式：
- en: Visit [https://colab.research.google.com/](https://colab.research.google.com/)
    and sign in to your Google account
  id: totrans-165
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 访问[https://colab.research.google.com/](https://colab.research.google.com/)并登录你的Google账户
- en: In the menu in front of you, click “New notebook” in the bottom right corner
  id: totrans-166
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在你面前的菜单中，点击右下角的“新建笔记本”
- en: After the notebook loads, go to the “Runtime” menu at the top and select “Change
    runtime type”
  id: totrans-167
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 笔记本加载完成后，转到顶部的“运行”菜单并选择“更改运行类型”
- en: Select “GPU” under “Hardware accelerator” and choose an available type of NVIDIA
    GPU (e.g. T4)
  id: totrans-168
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在“硬件加速器”下选择“GPU”并选择一个可用的NVIDIA GPU类型（例如T4）
- en: Click “Save”. The runtime takes a few seconds to load - you can see the status
    in the top right corner
  id: totrans-169
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 点击“保存”。运行时需要几秒钟来加载 - 你可以在右上角看到状态。
- en: After the runtime has loaded, you can type `!nvidia-smi` to see information
    about the GPU.
  id: totrans-170
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 运行时加载完成后，你可以输入`!nvidia-smi`来查看GPU的信息。
- en: 'You can now write Python code that runs on GPUs through e.g. the numba library.  ###
    On LUMI'
  id: totrans-171
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你现在可以编写运行在GPU上的Python代码，例如通过numba库。### 在LUMI上
- en: 'A singularity container containing all the necessary dependencies has been
    created. To launch the container and the `IPython` interpreter within it, do as
    follows:'
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 已经创建了一个包含所有必要依赖项的singularity容器。要启动容器及其内部的`IPython`解释器，请按照以下步骤操作：
- en: '[PRE51]'
  id: totrans-173
  prefs: []
  type: TYPE_PRE
  zh: '[PRE51]'
- en: Recipe for creating the container
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 创建容器的步骤
- en: For reference, the following files were used to create the above singularity
    container. First a singularity def file,
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 作为参考，以下文件被用来创建上述singularity容器。首先是一个singularity定义文件，
- en: '[PRE52]'
  id: totrans-176
  prefs: []
  type: TYPE_PRE
  zh: '[PRE52]'
- en: and a bash script to build the container,
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 以及一个用于构建容器的bash脚本，
- en: '[PRE53]'
  id: totrans-178
  prefs: []
  type: TYPE_PRE
  zh: '[PRE53]'
- en: Tip
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 小贴士
- en: 'You can also interactively build using:'
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 你也可以通过以下方式交互式构建：
- en: '[PRE54]'
  id: totrans-181
  prefs: []
  type: TYPE_PRE
  zh: '[PRE54]'
- en: 'and finally a `requirements.txt` file:'
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 最后一个`requirements.txt`文件：
- en: '[PRE55]'
  id: totrans-183
  prefs: []
  type: TYPE_PRE
  zh: '[PRE55]'
- en: 'LUMI also has official singularity images for Jax. These can be found under
    the path:'
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: LUMI还提供了Jax的官方singularity镜像。这些镜像可以在以下路径下找到：
- en: '[PRE56]'
  id: totrans-185
  prefs: []
  type: TYPE_PRE
  zh: '[PRE56]'
- en: '[PRE57]'
  id: totrans-186
  prefs: []
  type: TYPE_PRE
  zh: '[PRE57]'
- en: '### On LUMI (only CPU)'
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: '### 在 LUMI（仅 CPU）'
- en: 'On LUMI, you can set up Python distribution as following:'
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 在 LUMI 上，你可以按照以下方式设置 Python 发行版：
- en: '[PRE58]'
  id: totrans-189
  prefs: []
  type: TYPE_PRE
  zh: '[PRE58]'
- en: '### On Google Colab'
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: '### 在 Google Colab'
- en: Google Colaboratory, commonly referred to as “Colab”, is a cloud-based Jupyter
    notebook environment which runs in your web browser. Using it requires login with
    a Google account.
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: Google Colaboratory，通常被称为“Colab”，是一个基于云的 Jupyter 笔记本环境，它可以在你的网络浏览器中运行。使用它需要使用
    Google 账户登录。
- en: 'This is how you can get access to NVIDIA GPUs on Colab:'
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 这就是如何在 Colab 上获取访问 NVIDIA GPU 的方法：
- en: Visit [https://colab.research.google.com/](https://colab.research.google.com/)
    and sign in to your Google account
  id: totrans-193
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 访问 [https://colab.research.google.com/](https://colab.research.google.com/)
    并使用你的 Google 账户登录。
- en: In the menu in front of you, click “New notebook” in the bottom right corner
  id: totrans-194
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在您面前的菜单中，点击右下角的“新建笔记本”。
- en: After the notebook loads, go to the “Runtime” menu at the top and select “Change
    runtime type”
  id: totrans-195
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 笔记本加载后，前往顶部的“运行”菜单并选择“更改运行类型”。
- en: Select “GPU” under “Hardware accelerator” and choose an available type of NVIDIA
    GPU (e.g. T4)
  id: totrans-196
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在“硬件加速器”下选择“GPU”并选择一个可用的 NVIDIA GPU 类型（例如 T4）。
- en: Click “Save”. The runtime takes a few seconds to load - you can see the status
    in the top right corner
  id: totrans-197
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 点击“保存”。运行环境需要几秒钟来加载 - 你可以在右上角看到状态。
- en: After the runtime has loaded, you can type `!nvidia-smi` to see information
    about the GPU.
  id: totrans-198
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 运行环境加载后，你可以输入 `!nvidia-smi` 来查看 GPU 的信息。
- en: You can now write Python code that runs on GPUs through e.g. the numba library.
  id: totrans-199
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你现在可以通过例如 numba 库来编写在 GPU 上运行的 Python 代码。
- en: Access to code examples
  id: totrans-200
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 访问代码示例
- en: 'Some exercises in this lesson rely on source code that you should download
    and modify in your own home directory on the cluster. All code examples are available
    in the same GitHub repository as this lesson itself. To download it you should
    use Git:'
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: 本课程的一些练习依赖于你应该下载并修改在集群上自己的主目录中的源代码。所有代码示例都可在与课程本身相同的 GitHub 仓库中找到。要下载它，你应该使用
    Git：
- en: '[PRE59]*'
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE59]*'
