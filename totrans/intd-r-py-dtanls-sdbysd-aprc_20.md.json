["```py\nmyFirstMean <-  mean(myDF[,1])\nmySecondMean <-  mean(myDF[,2])\n# ... so on and so forth ..\nmyHundredthMean <-  mean(myDF[,100])\n```", "```py\nmyMeans <-  sapply(myDF, mean)\nmyMeans[1:5]\n##          X1          X2          X3          X4          X5 \n##  0.18577292  0.58759539 -0.05194271 -0.07027537 -0.35365358\n```", "```py\nmySummaries <-  sapply(myDF, summary)\nis.matrix(mySummaries)\n## [1] TRUE\ndim(mySummaries)\n## [1]   6 100\n```", "```py\nregress <-  function(y){ lm(y ~  1) }\nmyRegs <-  lapply(myDF, regress)\nlength(myRegs)\n## [1] 100\nclass(myRegs[[1]])\n## [1] \"lm\"\nsummary(myRegs[[12]])\n## \n## Call:\n## lm(formula = y ~ 1)\n## \n## Residuals:\n##     Min      1Q  Median      3Q     Max \n## -1.6149 -0.8692 -0.2541  0.7596  2.5718 \n## \n## Coefficients:\n##             Estimate Std. Error t value Pr(>|t|)\n## (Intercept)   0.2104     0.4139   0.508    0.623\n## \n## Residual standard error: 1.309 on 9 degrees of freedom\n```", "```py\ndim(myDF)\n## [1]  10 100\nresults <-  apply(myDF, 1, mean)\nresults[1:4]\n## [1]  0.18971263 -0.07595286  0.18400138  0.08895979\n```", "```py\nalbRealEstate <-  read.csv(\"data/albemarle_real_estate.csv\")\nfirstB <-  albRealEstate$YearBuilt ==  2006 \nsecondB <-  albRealEstate$Condition == \"Average\"\nthirdB <-  albRealEstate$City == \"CROZET\"\nsubDF <-  albRealEstate[(firstB &  secondB) |  thirdB,]\nstr(subDF, strict.width = \"cut\")\n## 'data.frame':    3865 obs. of  12 variables:\n##  $ YearBuilt    : int  1769 1818 2004 2006 2004 1995 1900 1960 ..\n##  $ YearRemodeled: int  1988 1991 NA NA NA NA NA NA NA NA ...\n##  $ Condition    : chr  \"Average\" \"Average\" \"Average\" \"Average\" ..\n##  $ NumStories   : num  1.7 2 1 1 1.5 2.3 2 1 1 1 ...\n##  $ FinSqFt      : int  5216 5160 1512 2019 1950 2579 1530 800 9..\n##  $ Bedroom      : int  4 6 3 3 3 3 4 2 2 2 ...\n##  $ FullBath     : int  3 4 2 3 3 2 1 1 1 1 ...\n##  $ HalfBath     : int  0 1 1 0 0 1 0 0 0 0 ...\n##  $ TotalRooms   : int  8 11 9 10 8 8 6 4 4 4 ...\n##  $ LotSize      : num  5.1 453.9 42.6 5 5.5 ...\n##  $ TotalValue   : num  1096600 2978600 677800 453200 389200 ...\n##  $ City         : chr  \"CROZET\" \"CROZET\" \"CROZET\" \"CROZET\" ...\n```", "```py\npred <-  function(row){\n yrBuiltCorrect <-  row['YearBuilt'] ==  2006\n aveCond <-  row['Condition'] == \"Average\"\n inCrozet <-  row['City'] == \"CROZET\"\n ( yrBuiltCorrect &&  aveCond) ||  inCrozet \n}\nwhichRows <-  apply(albRealEstate, 1, pred)\nsubDF <-  albRealEstate[whichRows,]\nstr(subDF, strict.width = \"cut\")\n## 'data.frame':    3865 obs. of  12 variables:\n##  $ YearBuilt    : int  1769 1818 2004 2006 2004 1995 1900 1960 ..\n##  $ YearRemodeled: int  1988 1991 NA NA NA NA NA NA NA NA ...\n##  $ Condition    : chr  \"Average\" \"Average\" \"Average\" \"Average\" ..\n##  $ NumStories   : num  1.7 2 1 1 1.5 2.3 2 1 1 1 ...\n##  $ FinSqFt      : int  5216 5160 1512 2019 1950 2579 1530 800 9..\n##  $ Bedroom      : int  4 6 3 3 3 3 4 2 2 2 ...\n##  $ FullBath     : int  3 4 2 3 3 2 1 1 1 1 ...\n##  $ HalfBath     : int  0 1 1 0 0 1 0 0 0 0 ...\n##  $ TotalRooms   : int  8 11 9 10 8 8 6 4 4 4 ...\n##  $ LotSize      : num  5.1 453.9 42.6 5 5.5 ...\n##  $ TotalValue   : num  1096600 2978600 677800 453200 389200 ...\n##  $ City         : chr  \"CROZET\" \"CROZET\" \"CROZET\" \"CROZET\" ...\n```", "```py\nstr(albRealEstate, strict.width = \"cut\")\n## 'data.frame':    30381 obs. of  12 variables:\n##  $ YearBuilt    : int  1769 1818 2004 2006 2004 1995 1900 1960 ..\n##  $ YearRemodeled: int  1988 1991 NA NA NA NA NA NA NA NA ...\n##  $ Condition    : chr  \"Average\" \"Average\" \"Average\" \"Average\" ..\n##  $ NumStories   : num  1.7 2 1 1 1.5 2.3 2 1 1 1 ...\n##  $ FinSqFt      : int  5216 5160 1512 2019 1950 2579 1530 800 9..\n##  $ Bedroom      : int  4 6 3 3 3 3 4 2 2 2 ...\n##  $ FullBath     : int  3 4 2 3 3 2 1 1 1 1 ...\n##  $ HalfBath     : int  0 1 1 0 0 1 0 0 0 0 ...\n##  $ TotalRooms   : int  8 11 9 10 8 8 6 4 4 4 ...\n##  $ LotSize      : num  5.1 453.9 42.6 5 5.5 ...\n##  $ TotalValue   : num  1096600 2978600 677800 453200 389200 ...\n##  $ City         : chr  \"CROZET\" \"CROZET\" \"CROZET\" \"CROZET\" ...\nlength(unique(albRealEstate$City))\n## [1] 6\ntapply(albRealEstate$TotalValue, list(albRealEstate$City), mean)[1:4]\n## CHARLOTTESVILLE          CROZET     EARLYSVILLE         KESWICK \n##        429926.5        436090.5        482711.4        565985.1\n```", "```py\npivTable <-  tapply(albRealEstate$TotalValue, \n list(albRealEstate$City, albRealEstate$Condition), \n mean)\npivTable[,1:5]\n##                  Average Excellent     Fair     Good     Poor\n## CHARLOTTESVILLE 416769.9  625887.9 306380.7 529573.4 304922.4\n## CROZET          447585.8  401553.5 241568.8 466798.5 224516.2\n## EARLYSVILLE     491269.6  492848.4 286980.0 522938.5 250773.3\n## KESWICK         565994.3  664443.5 274270.4 676312.6 172425.0\n## NORTH GARDEN    413788.8  529108.3 164646.2 591502.8 161460.0\n## SCOTTSVILLE     286787.4  534500.0 196003.4 415207.5 183942.3\n```", "```py\nrnorm(n = c(3,2,1), mean = c(0,100,42), sd = c(.01, .01, .01))\n```", "```py\n## [1]  0.01435773 99.99238144 42.01743548\n```", "```py\nmapply(rnorm, n = c(3,2,1), mean = c(0,100,42), sd = c(.01, .01, .01))\n```", "```py\n## [[1]]\n## [1] -0.0122999207 -0.0064744814 -0.0002297629\n## \n## [[2]]\n## [1] 100.02077  99.99853\n## \n## [[3]]\n## [1] 41.99704\n```", "```py\nnumDataSets <-  4\ndataSets <-  paste0(\"d\",1:numDataSets)\ndfs <-  lapply(dataSets, \n function(name) read.csv(paste0(\"data/\", name, \".csv\")))\nhead(dfs[[3]])\n##   id obs3\n## 1  a    7\n## 2  b    8\n## 3  c    9\n```", "```py\ndo.call(cbind, dfs) # DRY! :)\n##   id obs1 id obs2 id obs3 id obs4\n## 1  a    1  b    5  a    7  a   10\n## 2  b    2  a    4  b    8  b   11\n## 3  c    3  c    6  c    9  c   12\n# cbind(df1,df2,df3,df4) # WET! :(\n```", "```py\nReduce(merge, dfs)\n##   id obs1 obs2 obs3 obs4\n## 1  a    1    4    7   10\n## 2  b    2    5    8   11\n## 3  c    3    6    9   12\n```", "```py\nimport numpy as np\nmy_inputs = np.linspace(start = 0, stop = 2*np.pi)\ndef spline(x):\n knot = 3.0\n if x >= knot:\n return x-knot\n else:\n return 0.0\noutput = list(map(spline, my_inputs))\n```", "```py\nimport numpy as np\nx = np.linspace(start = -1., stop = 1.0)\ny = np.linspace(start = -1., stop = 1.0)\ndef f(x,y):\n return np.log(x**2 + y**2)\nlist(map(f, x, y))[:3]\n## [0.6931471805599453, 0.6098017877588092, 0.5228315638793316]\n```", "```py\nraw_data = np.arange(0,1.45,.01)\nfor elem in filter(lambda x : x**2 > 2, raw_data):\n print(elem)\n## 1.42\n## 1.43\n## 1.44\n```", "```py\nimport numpy as np\nmy_array = np.arange(6).reshape((2,3))\nmy_array\n## array([[0, 1, 2],\n##        [3, 4, 5]])\nnp.apply_along_axis(sum, 0, my_array) # summing columns\n## array([3, 5, 7])\nnp.apply_along_axis(sum, 1, my_array) # summing rows\n## array([ 3, 12])\n```", "```py\nimport pandas as pd\nalb_real_est = pd.read_csv(\"data/albemarle_real_estate.csv\")\nalb_real_est.shape\n## (30381, 12)\nalb_real_est.apply(len, axis=0) # length of columns\n## YearBuilt        30381\n## YearRemodeled    30381\n## Condition        30381\n## NumStories       30381\n## FinSqFt          30381\n## Bedroom          30381\n## FullBath         30381\n## HalfBath         30381\n## TotalRooms       30381\n## LotSize          30381\n## TotalValue       30381\n## City             30381\n## dtype: int64\ntype(alb_real_est.apply(len, axis=1)) # length of rows\n## <class 'pandas.core.series.Series'>\n```", "```py\nimport pandas as pd\n# alb_real_est.apply(sum, axis=1) # can't add letters to numbers!\ndef get_prop_score(row):\n return 2*row[0] + 3*row[1]\ntwo_col_df = alb_real_est[['FinSqFt','LotSize']]\nalb_real_est['Score'] = two_col_df.apply(get_prop_score, 1)\nalb_real_est[['FinSqFt','LotSize','Score']].head(2)\n##    FinSqFt  LotSize      Score\n## 0     5216    5.102  10447.306\n## 1     5160  453.893  11681.679\n```", "```py\nalb_real_est[['FinSqFt','LotSize']].apply([sum, len])\n##       FinSqFt      LotSize\n## sum  61730306  105063.1892\n## len     30381   30381.0000\n```", "```py\ntwo_col_df.apply(lambda row : sum(row*[2,3]), 1)[:3]\n## 0    10447.306\n## 1    11681.679\n## 2     3151.770\n## dtype: float64\n```", "```py\nalb_real_est[['FinSqFt','LotSize']].applymap(lambda e : e + 1).head(3)\n##    FinSqFt  LotSize\n## 0     5217    6.102\n## 1     5161  454.893\n## 2     1513   43.590\n```", "```py\ntype(alb_real_est.groupby(['City']))\n## pandas.core.groupby.generic.DataFrameGroupBy\ntype(alb_real_est.groupby(['City'])['TotalValue'])\n## pandas.core.groupby.generic.SeriesGroupBy\n```", "```py\ngrouped = alb_real_est.groupby(['City'])\ngrouped['TotalValue'].apply(np.average)\n## City\n## CHARLOTTESVILLE    429926.502708\n## CROZET             436090.502541\n## EARLYSVILLE        482711.437566\n## KESWICK            565985.092025\n## NORTH GARDEN       399430.221519\n## SCOTTSVILLE        293666.758242\n## Name: TotalValue, dtype: float64\ngrouped.apply(lambda df : np.average(df['TotalValue']))\n## City\n## CHARLOTTESVILLE    429926.502708\n## CROZET             436090.502541\n## EARLYSVILLE        482711.437566\n## KESWICK            565985.092025\n## NORTH GARDEN       399430.221519\n## SCOTTSVILLE        293666.758242\n## dtype: float64\n```", "```py\nfuncFactory <-  function(greetingMessage){\n function(name){\n paste(greetingMessage, name)\n }\n}\ngreetWithHello <-  funcFactory(\"Hello\")\ngreetWithHello(\"Taylor\")\n## [1] \"Hello Taylor\"\ngreetWithHello(\"Charlie\")\n## [1] \"Hello Charlie\"\n```", "```py\nn <-  1000 # don't hardcode variables that aren't passed as arguments!\nactualExpectSin <-  function(params){\n stopifnot(params[2] >  0) # second parameter is sigma\n sin(params[1])*exp(-.5*(params[2]^2))\n}\nmonteCarloSin <-  function(params){\n stopifnot(params[2] >  0) \n mean(sin(rnorm(n = n, mean = params[1], sd = params[2])))\n}\n# monteCarloSin(c(10,1))\n```", "```py\nmuGrid <-  seq(-10,10, length.out = 100)\nsigmaGrid <-  seq(.001, 5, length.out = 100)\nmuSigmaGrid <-  expand.grid(muGrid, sigmaGrid)\nactuals <-  matrix(apply(muSigmaGrid, 1, actualExpectSin), \n ncol = length(muGrid))\nmcApprox <-  matrix(apply(muSigmaGrid, 1, monteCarloSin), \n ncol = length(muGrid))\n\npar(mfrow=c(1,2))\ncontour(muGrid, sigmaGrid, actuals, \n xlab = \"mu\", ylab = \"sigma\", main = \"actual expects\")\ncontour(muGrid, sigmaGrid, mcApprox, \n xlab = \"mu\", ylab = \"sigma\", main = \"mc without crn\")\n```", "```py\ncommonZs <-  rnorm(n=n)\nmonteCarloSinCRNv1 <-  function(params){\n stopifnot(params[2] >  0) \n mean(sin(params[1] +  params[2]*commonZs))\n} \n# monteCarloSinCRNv1(c(10,1))\n```", "```py\nmcApproxCRNv1 <-  matrix(apply(muSigmaGrid, 1, monteCarloSinCRNv1), \n ncol = length(muGrid))\npar(mfrow=c(1,2))\ncontour(muGrid, sigmaGrid, mcApprox, \n xlab = \"mu\", ylab = \"sigma\", main = \"mc without crn\")\ncontour(muGrid, sigmaGrid, mcApproxCRNv1, \n xlab = \"mu\", ylab = \"sigma\", main = \"mc with crn\")\n```", "```py\npar(mfrow=c(1,1))\n```", "```py\nmakeMCFunc <-  function(n = 1000){\n commonZs <-  rnorm(n)\n function(params){\n stopifnot(params[2] >  0) \n mean(sin(params[1] +  params[2]*commonZs)) \n } \n}\nmonteCarloSinCRNv2 <-  makeMCFunc()\n# now call monteCarloSinCRNv2 to approx. expectations\n# e.g. monteCarloSinCRNv2(c(10,1))\n```", "```py\nmcApproxCRNv2 <-  matrix(apply(muSigmaGrid, 1, monteCarloSinCRNv2), \n ncol = length(muGrid))\npar(mfrow=c(1,2))\ncontour(muGrid, sigmaGrid, mcApprox, \n xlab = expression(mu), ylab = expression(sigma))\ncontour(muGrid, sigmaGrid, mcApproxCRNv2, \n xlab = expression(mu), ylab = expression(sigma))\npar(mfrow=c(1,1))\n```", "```py\ndef func_factory(greeting_message):\n def func(name):\n print(greeting_message + ' ' + name)\n return func\ngreet_with_hello = func_factory(\"Hello\")\ngreet_with_hello(\"Taylor\")\n## Hello Taylor\ngreet_with_hello(\"Charlie\")\n## Hello Charlie\n```", "```py\nimport numpy as np\ndef spline(x):\n knot = 3.0\n if x >= knot:\n return x-knot\n else:\n return 0.0\n```", "```py\nmy_inputs = np.linspace(start = 0, stop = 2*np.pi)\n# make a vectorized function\nvec_spline = np.vectorize(spline) \nvec_spline(my_inputs)[:4]\n# alternatively output = list(map(spline, my_inputs)) from last time\n## array([0., 0., 0., 0.])\n```", "```py\n# instead of spline = np.vectorize(spline) \n@np.vectorize\ndef spline(x):\n knot = 3.0\n if x >= knot:\n return x-knot\n else:\n return 0.0\nspline(my_inputs)[:4]\n## array([0., 0., 0., 0.])\n```", "```py\ndef add_greeting(func):\n def wrapper(name):\n print('Salutations, ')\n func(name)\n return wrapper\n```", "```py\n@add_greeting\ndef print_name(first_name):\n print(first_name)\n```", "```py\ndef print_name(first_name):\n print(first_name)\nprint_name = add_greeting(print_name)\n```", "```py\n@add_greeting(\"How you doin'\")\ndef print_name(first_name):\n print(first_name)\nprint_name('Taylor')\n## How you doin'\n## Taylor\n```", "```py\ndef add_greeting(greet):\n def decorator(func):\n def wrapper(name):\n print(greet)\n func(name)\n return wrapper\n return decorator\n```", "```py\npredict = generate_pred_func(fixed_cutoff=8, vol_cutoff=.5, dataset=wine)\npredict(10,10)\n```"]