- en: Chapter 13 Setting up your computer
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://datasciencebook.ca/setup.html](https://datasciencebook.ca/setup.html)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 13.1 Overview
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'In this chapter, you’ll learn how to set up the software needed to follow along
    with this book on your own computer. Given that installation instructions can
    vary based on computer setup, we provide instructions for multiple operating systems
    (Ubuntu Linux, MacOS, and Windows). Although the instructions in this chapter
    will likely work on many systems, we have specifically verified that they work
    on a computer that:'
  prefs: []
  type: TYPE_NORMAL
- en: runs Windows 10 Home, MacOS 13 Ventura, or Ubuntu 22.04,
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: uses a 64-bit CPU,
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: has a connection to the internet,
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: uses English as the default language.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 13.2 Chapter learning objectives
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'By the end of the chapter, readers will be able to do the following:'
  prefs: []
  type: TYPE_NORMAL
- en: Download the worksheets that accompany this book.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Install the Docker virtualization engine.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Edit and run the worksheets using JupyterLab running inside a Docker container.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Install Git, JupyterLab Desktop, and R packages.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Edit and run the worksheets using JupyterLab Desktop.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 13.3 Obtaining the worksheets for this book
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The worksheets containing exercises for this book are online at [https://worksheets.datasciencebook.ca](https://worksheets.datasciencebook.ca).
    The worksheets can be launched directly from that page using the Binder links
    in the rightmost column of the table. This is the easiest way to access the worksheets,
    but note that you will not be able to save your work and return to it again later.
    In order to save your progress, you will need to download the worksheets to your
    own computer and work on them locally. You can download the worksheets as a compressed
    zip file using [the link at the top of the page](https://github.com/UBC-DSCI/data-science-a-first-intro-worksheets/archive/refs/heads/main.zip).
    Once you unzip the downloaded file, you will have a folder containing all of the
    Jupyter notebook worksheets accompanying this book. See Chapter [11](jupyter.html#jupyter)
    for instructions on working with Jupyter notebooks.
  prefs: []
  type: TYPE_NORMAL
- en: 13.4 Working with Docker
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Once you have downloaded the worksheets, you will next need to install and run
    the software required to work on Jupyter notebooks on your own computer. Doing
    this setup manually can be quite tricky, as it involves quite a few different
    software packages, not to mention getting the right versions of everything—the
    worksheets and autograder tests may not work unless all the versions are exactly
    right! To keep things simple, we instead recommend that you install [Docker](https://docker.com).
    Docker lets you run your Jupyter notebooks inside a pre-built *container* that
    comes with precisely the right versions of all software packages needed run the
    worksheets that come with this book.
  prefs: []
  type: TYPE_NORMAL
- en: '**Note:** A *container* is a virtual user space within your computer. Within
    the container, you can run software in isolation without interfering with the
    other software that already exists on your machine. In this book, we use a container
    to run a specific version of the R programming language, as well as other necessary
    packages. The container ensures that the worksheets function correctly, even if
    you have a different version of R installed on your computer—or even if you haven’t
    installed R at all!'
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 13.4.1 Windows
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '**Installation** To install Docker on Windows, visit [the online Docker documentation](https://docs.docker.com/desktop/install/windows-install/),
    and download the `Docker Desktop Installer.exe` file. Double-click the file to
    open the installer and follow the instructions on the installation wizard, choosing
    **WSL-2** instead of **Hyper-V** when prompted.'
  prefs: []
  type: TYPE_NORMAL
- en: '**Note:** Occasionally, when you first run Docker on Windows, you will encounter
    an error message. Some common errors you may see:'
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: ''
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: If you need to update WSL, you can enter `cmd.exe` in the Start menu to run
    the command line. Type `wsl --update` to update WSL.
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
- en: If the admin account on your computer is different to your user account, you
    must add the user to the “docker-users” group. Run Computer Management as an administrator
    and navigate to `Local Users` and `Groups -> Groups -> docker-users`. Right-click
    to add the user to the group. Log out and log back in for the changes to take
    effect.
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
- en: If you need to enable virtualization, you will need to edit your BIOS. Restart
    your computer, and enter the BIOS using the hotkey (usually Delete, Esc, and/or
    one of the F# keys). Look for an “Advanced” menu, and under your CPU settings,
    set the “Virtualization” option to “enabled”. Then save the changes and reboot
    your machine. If you are not familiar with BIOS editing, you may want to find
    an expert to help you with this, as editing the BIOS can be dangerous. Detailed
    instructions for doing this are beyond the scope of this book.
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Running JupyterLab** Run Docker Desktop. Once it is running, you need to
    download and run the Docker *image* that we have made available for the worksheets
    (an *image* is like a “snapshot” of a computer with all the right packages pre-installed).
    You only need to do this step one time; the image will remain the next time you
    run Docker Desktop. In the Docker Desktop search bar, enter `ubcdsci/r-dsci-100`,
    as this is the name of the image. You will see the `ubcdsci/r-dsci-100` image
    in the list (Figure [13.1](setup.html#fig:docker-desktop-search)), and “latest”
    in the Tag drop down menu. We need to change “latest” to the right image version
    before proceeding. To find the right tag, open the [`Dockerfile` in the worksheets
    repository](https://raw.githubusercontent.com/UBC-DSCI/data-science-a-first-intro-worksheets/main/Dockerfile),
    and look for the line `FROM ubcdsci/r-dsci-100:` followed by the tag consisting
    of a sequence of numbers and letters. Back in Docker Desktop, in the “Tag” drop
    down menu, click that tag to select the correct image version. Then click the
    “Pull” button to download the image.'
  prefs: []
  type: TYPE_NORMAL
- en: '![The Docker Desktop search window. Make sure to click the Tag drop down menu
    and find the right version of the image before clicking the Pull button to download
    it.](../Images/b2bb6bc4ad5e9a178a38c20def92c3d2.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Figure 13.1: The Docker Desktop search window. Make sure to click the Tag drop
    down menu and find the right version of the image before clicking the Pull button
    to download it.'
  prefs: []
  type: TYPE_NORMAL
- en: Once the image is done downloading, click the “Images” button on the left side
    of the Docker Desktop window (Figure [13.2](setup.html#fig:docker-desktop-images)).
    You will see the recently downloaded image listed there under the “Local” tab.
  prefs: []
  type: TYPE_NORMAL
- en: '![The Docker Desktop images tab.](../Images/de20752f2e799d7d68dc78f1b34a4582.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Figure 13.2: The Docker Desktop images tab.'
  prefs: []
  type: TYPE_NORMAL
- en: To start up a *container* using that image, click the play button beside the
    image. This will open the run configuration menu (Figure [13.3](setup.html#fig:docker-desktop-runconfig)).
    Expand the “Optional settings” drop down menu. In the “Host port” textbox, enter
    `8888`. In the “Volumes” section, click the “Host path” box and navigate to the
    folder where your Jupyter worksheets are stored. In the “Container path” text
    box, enter `/home/jovyan/work`. Then click the “Run” button to start the container.
  prefs: []
  type: TYPE_NORMAL
- en: '![The Docker Desktop container run configuration menu.](../Images/8da5a523ce9c49ccb0c00c541861ea1e.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Figure 13.3: The Docker Desktop container run configuration menu.'
  prefs: []
  type: TYPE_NORMAL
- en: After clicking the “Run” button, you will see a terminal. The terminal will
    then print some text as the Docker container starts. Once the text stops scrolling,
    find the URL in the terminal that starts with `http://127.0.0.1:8888` (highlighted
    by the red box in Figure [13.4](setup.html#fig:docker-desktop-url)), and paste
    it into your browser to start JupyterLab.
  prefs: []
  type: TYPE_NORMAL
- en: '![The terminal text after running the Docker container. The red box indicates
    the URL that you should paste into your browser to open JupyterLab.](../Images/9997e4cbf534ddd16601982b168001ca.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Figure 13.4: The terminal text after running the Docker container. The red
    box indicates the URL that you should paste into your browser to open JupyterLab.'
  prefs: []
  type: TYPE_NORMAL
- en: When you are done working, make sure to shut down and remove the container by
    clicking the red trash can symbol (in the top right corner of Figure [13.4](setup.html#fig:docker-desktop-url)).
    You will not be able to start the container again until you do so. More information
    on installing and running Docker on Windows, as well as troubleshooting tips,
    can be found in [the online Docker documentation](https://docs.docker.com/desktop/install/windows-install/).
  prefs: []
  type: TYPE_NORMAL
- en: 13.4.2 MacOS
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '**Installation** To install Docker on MacOS, visit [the online Docker documentation](https://docs.docker.com/desktop/install/mac-install/),
    and download the `Docker.dmg` installation file that is appropriate for your computer.
    To know which installer is right for your machine, you need to know whether your
    computer has an Intel processor (older machines) or an Apple processor (newer
    machines); the [Apple support page](https://support.apple.com/en-ca/HT211814)
    has information to help you determine which processor you have. Once downloaded,
    double-click the file to open the installer, then drag the Docker icon to the
    Applications folder. Double-click the icon in the Applications folder to start
    Docker. In the installation window, use the recommended settings.'
  prefs: []
  type: TYPE_NORMAL
- en: '**Running JupyterLab** Run Docker Desktop. Once it is running, follow the instructions
    above in the Windows section on *Running JupyterLab* (the user interface is the
    same). More information on installing and running Docker on MacOS, as well as
    troubleshooting tips, can be found in [the online Docker documentation](https://docs.docker.com/desktop/install/mac-install/).'
  prefs: []
  type: TYPE_NORMAL
- en: 13.4.3 Ubuntu
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '**Installation** To install Docker on Ubuntu, open the terminal and enter the
    following five commands.'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: '**Running JupyterLab** First, open the [`Dockerfile` in the worksheets repository](https://raw.githubusercontent.com/UBC-DSCI/data-science-a-first-intro-worksheets/main/Dockerfile),
    and look for the line `FROM ubcdsci/r-dsci-100:` followed by a tag consisting
    of a sequence of numbers and letters. Then in the terminal, navigate to the directory
    where you want to run JupyterLab, and run the following command, replacing `TAG`
    with the *tag* you found earlier.'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: The terminal will then print some text as the Docker container starts. Once
    the text stops scrolling, find the URL in your terminal that starts with `http://127.0.0.1:8888`
    (highlighted by the red box in Figure [13.5](setup.html#fig:ubuntu-docker-terminal)),
    and paste it into your browser to start JupyterLab. More information on installing
    and running Docker on Ubuntu, as well as troubleshooting tips, can be found in
    [the online Docker documentation](https://docs.docker.com/engine/install/ubuntu/).
  prefs: []
  type: TYPE_NORMAL
- en: '![The terminal text after running the Docker container in Ubuntu. The red box
    indicates the URL that you should paste into your browser to open JupyterLab.](../Images/ef8b73a1cb3962bc3ced54a7badedcdc.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Figure 13.5: The terminal text after running the Docker container in Ubuntu.
    The red box indicates the URL that you should paste into your browser to open
    JupyterLab.'
  prefs: []
  type: TYPE_NORMAL
- en: 13.5 Working with JupyterLab Desktop
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: You can also run the worksheets accompanying this book on your computer using
    [JupyterLab Desktop](https://github.com/jupyterlab/jupyterlab-desktop). The advantage
    of JupyterLab Desktop over Docker is that it can be easier to install; Docker
    can sometimes run into some fairly technical issues (especially on Windows computers)
    that require expert troubleshooting. The downside of JupyterLab Desktop is that
    there is a (very) small chance that you may not end up with the right versions
    of all the R packages needed for the worksheets. Docker, on the other hand, *guarantees*
    that the worksheets will work exactly as intended.
  prefs: []
  type: TYPE_NORMAL
- en: In this section, we will cover how to install JupyterLab Desktop, Git and the
    JupyterLab Git extension (for version control, as discussed in Chapter [12](version-control.html#version-control)),
    and all of the R packages needed to run the code in this book.
  prefs: []
  type: TYPE_NORMAL
- en: 13.5.1 Windows
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '**Installation** First, we will install Git for version control. Go to [the
    Git download page](https://git-scm.com/download/win) and download the Windows
    version of Git. Once the download has finished, run the installer and accept the
    default configuration for all pages. Next, visit the [“Installation” section of
    the JupyterLab Desktop homepage](https://github.com/jupyterlab/jupyterlab-desktop#installation).
    Download the `JupyterLab-Setup-Windows.exe` installer file for Windows. Double-click
    the installer to run it, use the default settings. Run JupyterLab Desktop by clicking
    the icon on your desktop.'
  prefs: []
  type: TYPE_NORMAL
- en: '**Configuring JupyterLab Desktop** Next, in the JupyterLab Desktop graphical
    interface that appears (Figure [13.6](setup.html#fig:setup-jlab-gui)), you will
    see text at the bottom saying “Python environment not found”. Click “Install using
    the bundled installer” to set up the environment.'
  prefs: []
  type: TYPE_NORMAL
- en: '![The JupyterLab Desktop graphical user interface.](../Images/9b1a982d1fdf962d1a31ce5e8b460909.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Figure 13.6: The JupyterLab Desktop graphical user interface. Next, we need
    to add the JupyterLab Git extension (so that we can use version control directly
    from within JupyterLab Desktop), the IRkernel (to enable the R programming language),
    and various R software packages. Click “New session…” in the JupyterLab Desktop
    user interface, then scroll to the bottom, and click “Terminal” under the “Other”
    heading (Figure [13.7](setup.html#fig:setup-jlab-gui-2)).![A JupyterLab Desktop
    session, showing the Terminal option at the bottom.](../Images/7bbaf761c5e24a783990f1bde12f2d74.png)'
  prefs: []
  type: TYPE_NORMAL
- en: 'Figure 13.7: A JupyterLab Desktop session, showing the Terminal option at the
    bottom.'
  prefs: []
  type: TYPE_NORMAL
- en: 'In this terminal, run the following commands:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: The second command installs the specific R and package versions specified in
    the `environment.yml` file found in [the worksheets repository](https://worksheets.datasciencebook.ca).
    We will always keep the versions in the `environment.yml` file updated so that
    they are compatible with the exercise worksheets that accompany the book. Once
    all of the software installation is complete, it is a good idea to restart JupyterLab
    Desktop entirely before you proceed to doing your data analysis. This will ensure
    all the software and settings you put in place are correctly set up and ready
    for use.
  prefs: []
  type: TYPE_NORMAL
- en: 13.5.2 MacOS
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '**Installation** First, we will install Git for version control. Open the terminal
    ([how-to video](https://youtu.be/5AJbWEWwnbY)) and type the following command:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: Next, visit the [“Installation” section of the JupyterLab Desktop homepage](https://github.com/jupyterlab/jupyterlab-desktop#installation).
    Download the `JupyterLab-Setup-MacOS-x64.dmg` or `JupyterLab-Setup-MacOS-arm64.dmg`
    installer file. To know which installer is right for your machine, you need to
    know whether your computer has an Intel processor (older machines) or an Apple
    processor (newer machines); the [Apple support page](https://support.apple.com/en-ca/HT211814)
    has information to help you determine which processor you have. Once downloaded,
    double-click the file to open the installer, then drag the JupyterLab Desktop
    icon to the Applications folder. Double-click the icon in the Applications folder
    to start JupyterLab Desktop.
  prefs: []
  type: TYPE_NORMAL
- en: '**Configuring JupyterLab Desktop** From this point onward, with JupyterLab
    Desktop running, follow the instructions in the Windows section on *Configuring
    JupyterLab Desktop* to set up the environment, install the JupyterLab Git extension,
    and install the various R software packages needed for the worksheets.'
  prefs: []
  type: TYPE_NORMAL
- en: 13.5.3 Ubuntu
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '**Installation** First, we will install Git for version control. Open the terminal
    and type the following commands:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: Next, visit the [“Installation” section of the JupyterLab Desktop homepage](https://github.com/jupyterlab/jupyterlab-desktop#installation).
    Download the `JupyterLab-Setup-Debian.deb` installer file for Ubuntu/Debian. Open
    a terminal, navigate to where the installer file was downloaded, and run the command
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs: []
  type: TYPE_PRE
- en: Run JupyterLab Desktop using the command
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE6]'
  prefs: []
  type: TYPE_PRE
- en: '**Configuring JupyterLab Desktop** From this point onward, with JupyterLab
    Desktop running, follow the instructions in the Windows section on *Configuring
    JupyterLab Desktop* to set up the environment, install the JupyterLab Git extension,
    and install the various R software packages needed for the worksheets.'
  prefs: []
  type: TYPE_NORMAL
