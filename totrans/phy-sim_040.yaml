- en: Distance Barrier
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 距离屏障
- en: 原文：[https://phys-sim-book.github.io/lec7.2-dist_barrier_formulation.html](https://phys-sim-book.github.io/lec7.2-dist_barrier_formulation.html)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://phys-sim-book.github.io/lec7.2-dist_barrier_formulation.html](https://phys-sim-book.github.io/lec7.2-dist_barrier_formulation.html)
- en: <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: '`<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">`'
- en: '[Constrained Optimization](#constrained-optimization)'
  id: totrans-3
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '[约束优化](#constrained-optimization)'
- en: In scenarios like a solid interacting with a planar ground, where the signed
    distance function \( d(\mathbf{x}) \) is smooth outside the obstacle, we can approach
    the modeling of contact by incorporating non-interpenetration constraints. These
    constraints are formulated using \( d(\mathbf{x}) \), while we also aim to minimize
    the Incremental Potential of the system.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 在固体与平面地面等场景交互的情况下，当有符号距离函数 \( d(\mathbf{x}) \) 在障碍物外部是光滑的，我们可以通过引入非穿透约束来建模接触。这些约束使用
    \( d(\mathbf{x}) \) 来表述，同时我们旨在最小化系统的增量势能。
- en: 'Assuming that the solids are densely sampled with nodes \(\mathbf{x}\), we
    apply these constraints at the level of nodal Degrees of Freedom (DOFs) in relation
    to the obstacles:'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 假设固体被节点 \(\mathbf{x}\) 密集采样，我们在节点自由度（DOFs）级别应用这些约束，与障碍物相关：
- en: xmin​E(x)s.t.dij​≥0  ∀ node i and obstacle j.(7.2.1)
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: \( xminE(x)s.t.d_{ij} \geq 0 \quad \forall \text{node } i \text{ and obstacle
    } j. (7.2.1) \)
- en: In this equation, \( d_{ij} \) represents the signed distance between node \(
    i \) and obstacle \( j \). By ensuring that \( d_{ij} \) is non-negative, we effectively
    prevent the solids from intersecting with the obstacles^([1](#1)).
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个方程中，\( d_{ij} \) 代表节点 \( i \) 和障碍物 \( j \) 之间的有符号距离。通过确保 \( d_{ij} \) 是非负的，我们有效地防止了固体与障碍物相交^([1](#1))。
- en: '[Logarithm Barrier Potential in Contact Modeling](#logarithm-barrier-potential-in-contact-modeling)'
  id: totrans-8
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '[接触建模中的对数屏障势能](#logarithm-barrier-potential-in-contact-modeling)'
- en: 'To address the inequality constraints in our contact modeling, we introduce
    a barrier potential \( P_b(\mathbf{x}) \). This potential transforms the constrained
    problem, as described in Equation [(7.2.1)](#eq:lec7:constrained_IP), into an
    "unconstrained" optimization problem:'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 为了解决接触建模中的不等式约束，我们引入一个屏障势能 \( P_b(\mathbf{x}) \)。这个势能将约束问题，如方程 [(7.2.1)](#eq:lec7:constrained_IP)
    所述，转化为一个“无约束”的优化问题：
- en: xmin​E(x)+h2Pb​(x).(7.2.2)
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: \( xminE(x)+h^2P_b(x).(7.2.2) \)
- en: 'The barrier potential is defined as follows:'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 屏障势能的定义如下：
- en: Pb​(x)=i,j∑​Ai​d^b(dij​(x))andb(dij​(x))={2κ​(d^dij​​−1)lnd^dij​​0​dij​<d^dij​≥d^.​(7.2.3)
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: '\( P_b(x) = \sum_{i,j} A_i d^b(d_{ij}(x)) \) 且 \( b(d_{ij}(x)) = \begin{cases} '
- en: In this formulation, \( b() \) represents the barrier energy density function.
    As the distance approaches zero, this function tends to infinity, thereby providing
    a strong repulsion force to prevent interpenetration (refer to [Figure 7.2.1](#fig:lec7:barrier_func)).
    The distance threshold \( \hat{d} \) above which no contact force is exerted,
    the contact stiffness \( \kappa \) which controls the rate of change of the contact
    forces with respect to distance, and \( A_i \), the contact area of node \( i
    \), are key parameters in this setup. By integrating the energy density over the
    solid boundary, the barrier formulation effectively models a potential energy
    field that is of thickness \( \hat{d} \).
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个公式中，\( b() \) 代表屏障能量密度函数。当距离趋近于零时，这个函数趋向于无穷大，从而提供强大的排斥力以防止穿透（参见图 7.2.1）。距离阈值
    \( \hat{d} \) 之上不施加接触力，接触刚度 \( \kappa \) 控制接触力随距离变化的速率，以及 \( A_i \)，节点 \( i \)
    的接触面积，是这个设置中的关键参数。通过在固体边界上积分能量密度，屏障公式有效地模拟了一个厚度为 \( \hat{d} \) 的势能场。
- en: '![](../Images/7b7e341815511cccbbeb32ed6ab5878d.png)'
  id: totrans-14
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/7b7e341815511cccbbeb32ed6ab5878d.png)'
- en: '**Figure 7.2.1.** The barrier energy density function plotted with different
    d^. Decreasing d^ asymptotically matches the discontinuous definition of the contact
    condition.'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: '**图 7.2.1.** 屏障能量密度函数以不同的 \( d^\circ \) 绘制。\( d^\circ \) 的减小渐近地符合接触条件的非连续定义。'
- en: '***Remark 7.2.1 (Contact Layer Interpretation).*** Imagine the barrier potential
    \( P_b(\mathbf{x}) \) as representing the elasticity of an ultra-thin layer of
    virtual material that exists just outside the boundaries of the solids. This virtual
    layer has an effective thickness of \( \hat{d} \), which correlates with the distance
    threshold in the barrier function.'
  id: totrans-16
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '***备注 7.2.1（接触层解释）*** 想象屏障势能 \( P_b(\mathbf{x}) \) 代表一个超薄虚拟材料层的弹性，该层存在于固体边界之外。这个虚拟层有一个有效厚度
    \( \hat{d} \)，这与屏障函数中的距离阈值相关。'
- en: ''
  id: totrans-17
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Consequently, the integration or summation used in computing \( P_b(\mathbf{x})
    \) is weighted by the volume element \( w_i = A_i \hat{d} \), where \( A_i \)
    represents the contact area of each node. As solids approach and begin to compress
    this virtual elastic layer, contact forces arise. These forces, akin to a unique
    type of elasticity force, serve to prevent interpenetration by providing a repulsion
    effect whenever the solids come too close to each other. This model allows us
    to simulate the physical response of contact without actual penetration of the
    solids.
  id: totrans-18
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 因此，在计算 \( P_b(\mathbf{x}) \) 时使用的积分或求和被体积元素 \( w_i = A_i \hat{d} \) 加权，其中 \(
    A_i \) 表示每个节点的接触面积。当固体接近并开始压缩这个虚拟弹性层时，接触力产生。这些力类似于一种独特的弹性力，通过在固体彼此过于接近时提供排斥效果来防止相互穿透。此模型使我们能够在没有固体实际穿透的情况下模拟接触的物理响应。
- en: Applying chain rules with distance being the intermediate variables, we can
    derive the gradient and Hessian of \(P_b(\mathbf{x})\) as ∇Pb​(x)=i,j∑​wi​∂d∂b​(dij​(x))∇dij​(x)(7.2.4)
    and ∇2Pb​(x)=i,j∑​wi​(∂d2∂2b​(dij​(x))∇dij​(x)∇dij​(x)T+∂d∂b​(dij​(x))∇2dij​(x)).(7.2.5)
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 使用链式法则，并将距离作为中间变量，我们可以推导出 \( P_b(\mathbf{x}) \) 的梯度 \( \nabla P_b(x) = i,j \sum_{w_i}
    \frac{\partial d}{\partial b}(d_{ij}(x)) \nabla d_{ij}(x) \) 和 Hessian 矩阵 \( \nabla^2
    P_b(x) = i,j \sum_{w_i} \left( \frac{\partial^2 d}{\partial^2 b}(d_{ij}(x)) \nabla
    d_{ij}(x) \nabla d_{ij}(x)^T + \frac{\partial d}{\partial b}(d_{ij}(x)) \nabla^2
    d_{ij}(x) \right) \)。（7.2.4）和（7.2.5）。
- en: ¹
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: ¹
- en: As we are using signed distances here, the inequality constraints can be defined
    without introducing an \(\epsilon\) as in Equation [(2.3.1)](lec2.3-contact.html#eq:lec2:IC)
    with unsigned distances.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 由于我们在这里使用的是带符号的距离，因此在不引入 \(\epsilon\) 的情况下，可以使用与无符号距离的方程 [(2.3.1)](lec2.3-contact.html#eq:lec2:IC)
    定义不等式约束。
