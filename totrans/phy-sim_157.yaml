- en: Drucker-Prager Elastoplasticity
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Drucker-Prager 弹塑性
- en: 原文：[https://phys-sim-book.github.io/lec30.1-drucker_prager.html](https://phys-sim-book.github.io/lec30.1-drucker_prager.html)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://phys-sim-book.github.io/lec30.1-drucker_prager.html](https://phys-sim-book.github.io/lec30.1-drucker_prager.html)
- en: <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
- en: 'The **Drucker-Prager** plasticity model is widely used for simulating granular
    materials such as sand and soil. It generalizes the von Mises model by incorporating
    a **friction angle**, which governs how much shear stress the material can sustain
    relative to the normal stress. Physically, this corresponds to Coulomb-like friction
    between particles: the material yields when the shear stress exceeds a friction-dependent
    bound based on pressure.'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '**Drucker-Prager** 塑性模型被广泛用于模拟沙子和土壤等颗粒材料。它通过引入一个**摩擦角**来推广 von Mises 模型，该摩擦角决定了材料相对于正应力的剪切应力承受能力。从物理上讲，这对应于颗粒之间的库仑摩擦：当剪切应力超过基于压力的摩擦相关的界限时，材料发生屈服。'
- en: 'In stress space, the Drucker-Prager yield surface takes the shape of a **cone**,
    with three distinct cases to handle:'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 在应力空间中，Drucker-Prager屈服面呈**锥形**，有三个不同的案例来处理：
- en: '**Case I (Elastic)**: The stress lies strictly inside the cone, and no plasticity
    occurs.'
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**情况I（弹性）**：应力严格位于锥内，没有发生塑性变形。'
- en: '**Case II (Expansion)**: The stress corresponds to a configuration where the
    material expands volumetrically (positive trace), and no resistance is applied—this
    maps to the cone tip.'
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**情况II（膨胀）**：应力对应于材料体积膨胀（正迹）的配置，没有施加阻力——这映射到锥尖。'
- en: '**Case III (Shearing)**: The stress lies outside the cone but with compressive
    pressure and must be projected back to the cone surface.'
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**情况III（剪切）**：应力位于锥外，但有压缩压力，必须投影回锥表面。'
- en: This model is best implemented in the **log-strain (Hencky strain)** space using
    the SVD of the deformation gradient, which we have already introduced in the previous
    section.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 此模型最好在**对数应变（Hencky应变）**空间中使用变形梯度的奇异值分解来实现，这我们在上一节中已经介绍过。
- en: '**Example 31.1.1 (Drucker-Prager Yield Criterion, Log-Strain Formulation).**
    We define the **logarithmic strain** as:'
  id: totrans-9
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**示例31.1.1（Drucker-Prager屈服准则，对数应变公式）**。我们定义**对数应变**为：'
- en: ''
  id: totrans-10
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: ϵ=log(Σ)+d1​log(Jvol​)I.
  id: totrans-11
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ϵ=log(Σ)+d1log(Jvol)I。
- en: ''
  id: totrans-12
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'The deviatoric part is:'
  id: totrans-13
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 偏心部分是：
- en: ''
  id: totrans-14
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: ϵ^=ϵ−d1​tr(ϵ)I.
  id: totrans-15
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ϵ^=ϵ−d1tr(ϵ)I。
- en: ''
  id: totrans-16
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'The plastic multiplier is computed as:'
  id: totrans-17
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 塑性乘子计算如下：
- en: ''
  id: totrans-18
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Δγ=∥ϵ^∥+2μ(dλ+2μ)​⋅tr(ϵ)⋅α.
  id: totrans-19
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: Δγ=∥ϵ^∥+2μ(dλ+2μ)⋅tr(ϵ)⋅α。
- en: ''
  id: totrans-20
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Here, α=32​​⋅3−sinϕ2sinϕ​ is the Drucker-Prager friction coefficient derived
    from the friction angle ϕ.
  id: totrans-21
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 这里，α=32⋅3−sinϕ2sinϕ 是从摩擦角 ϕ 导出的 Drucker-Prager 摩擦系数。
- en: ''
  id: totrans-22
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'Then we apply the return mapping:'
  id: totrans-23
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 然后我们应用返回映射：
- en: ''
  id: totrans-24
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'If tr(ϵ)>0 (Case II), we project to the cone tip: set ϵ=0.'
  id: totrans-25
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果 tr(ϵ)>0（情况II），我们将投影到锥尖：设置 ϵ=0。
- en: 'If Δγ≤0, we are inside the cone (Case I): no change.'
  id: totrans-26
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果 Δγ≤0，我们位于锥内（情况I）：无变化。
- en: 'Otherwise (Case III), we project back to the cone surface:'
  id: totrans-27
  prefs:
  - PREF_BQ
  - PREF_UL
  type: TYPE_NORMAL
  zh: 否则（情况III），我们将投影回锥表面：
- en: ''
  id: totrans-28
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: ϵn+1=ϵ−∥ϵ^∥Δγ​ϵ^.
  id: totrans-29
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ϵn+1=ϵ−∥ϵ^∥Δγϵ^。
- en: ''
  id: totrans-30
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'Finally, we compute the updated singular values:'
  id: totrans-31
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 最后，我们计算更新的奇异值：
- en: ''
  id: totrans-32
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: ΣEn+1​=exp(ϵn+1),
  id: totrans-33
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ΣEn+1=exp(ϵn+1)，
- en: ''
  id: totrans-34
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'and reconstruct the elastic deformation:'
  id: totrans-35
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 并重建弹性变形：
- en: ''
  id: totrans-36
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: FEn+1​=Udiag(ΣEn+1​)VT.
  id: totrans-37
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: FEn+1=Udiag(ΣEn+1)VT。
- en: '**Example 31.1.2 (Drucker-Prager Plasticity with Volume Correction).**'
  id: totrans-38
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**示例31.1.2（带体积校正的Drucker-Prager塑性）**。'
- en: ''
  id: totrans-39
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: In granular materials like sand, volumetric expansion can result in **non-physical
    volume gain** if not properly handled. The standard Drucker-Prager projection
    maps stress to the tip of the cone under expansion (positive trace), which corresponds
    to a **stress-free state**. However, this may unrealistically "lock in" expanded
    configurations as new rest shapes.
  id: totrans-40
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 在沙子等颗粒材料中，如果处理不当，体积膨胀可能导致**非物理体积增益**。标准的 Drucker-Prager 投影在膨胀（正迹）下将应力映射到锥尖，这对应于**无应力状态**。然而，这可能在新的平衡形状中“锁定”膨胀配置，这是不切实际的。
- en: ''
  id: totrans-41
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: This effect can cause persistent volume inflation when a particle experiences
    elastic expansion followed by plastic projection. Any future compression then
    incurs artificial elastic penalties, resulting in incorrect material response.
  id: totrans-42
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 这种效应可能导致在颗粒经历弹性膨胀后进行塑性投影时持续体积膨胀。任何未来的压缩都会产生人工的弹性惩罚，导致材料响应不正确。
- en: ''
  id: totrans-43
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'To correct this, we follow the volume correction treatment described by [[Tampubolon
    et al. 2017]](bibliography.html#tampubolon2017multi) by introducing a per-particle
    scalar accumulator vvol​ that tracks **log-volume changes** induced by plastic
    projection:'
  id: totrans-44
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 为了纠正这个问题，我们遵循 [[Tampubolon 等人 2017]](bibliography.html#tampubolon2017multi)
    描述的体积修正处理方法，通过引入每个粒子的标量累加器 vvol，来跟踪由塑性投影引起的**对数体积变化**：
- en: ''
  id: totrans-45
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: vvoln+1​=vvoln​−logdetFEn+1​+logdetFtrial​.
  id: totrans-46
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: vvoln+1 = vvoln − logdetFEn+1 + logdetFtrial.
- en: ''
  id: totrans-47
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'This correction is naturally integrated into the **log-strain formulation**
    by adjusting the strain before return mapping:'
  id: totrans-48
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 这项修正自然地通过调整回映射前的应变而整合到**对数应变公式**中：
- en: ''
  id: totrans-49
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: ϵcorrected​=ϵtrial​+dvvol​​I,
  id: totrans-50
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ϵcorrected = ϵtrial + dvvol I,
- en: ''
  id: totrans-51
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: where d is the spatial dimension. This allows future compression to **neutralize
    previous volume gain** rather than being resisted elastically. In the code below,
    `diff_log_J` provides this volume correction term, computed as the accumulation
    of log-difference of determinants.
  id: totrans-52
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 其中 d 是空间维度。这允许未来的压缩**抵消之前的体积增加**，而不是被弹性抵抗。在下面的代码中，`diff_log_J` 提供了这个体积修正项，它是通过对数行列式差的累积来计算的。
- en: '**Implementation 31.1.1 (Drucker-Prager Elastoplasticity Return Mapping, simulator.py).**'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: '**实现 31.1.1（Drucker-Prager 弹塑性回映射，simulator.py）**。'
- en: '[PRE0]'
  id: totrans-54
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'The return mapping is enforced during particle state update:'
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 回映射在粒子状态更新期间强制执行：
- en: '**Implementation 31.1.2 (Particle State Update, simulator.py).**'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: '**实现 31.1.2（粒子状态更新，simulator.py）**。'
- en: '[PRE1]'
  id: totrans-57
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
