<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
  "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>28Â Pyret for Racketeers and SchemersğŸ”—</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>28Â Pyret for Racketeers and SchemersğŸ”—</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://dcic-world.org/2025-08-27/p4rs.html">https://dcic-world.org/2025-08-27/p4rs.html</a></blockquote><table cellspacing="0" cellpadding="0"><tr><td><p><span class="hspace">Â Â Â Â </span><a href="#%28part._.Numbers__.Strings__and_.Booleans%29" class="toclink" data-pltdoc="x">28.1<span class="hspace">Â </span>Numbers, Strings, and Booleans</a></p></td></tr><tr><td><p><span class="hspace">Â Â Â Â </span><a href="#%28part._.Infix_.Expressions%29" class="toclink" data-pltdoc="x">28.2<span class="hspace">Â </span>Infix Expressions</a></p></td></tr><tr><td><p><span class="hspace">Â Â Â Â </span><a href="#%28part._.Function_.Definition_and_.Application%29" class="toclink" data-pltdoc="x">28.3<span class="hspace">Â </span>Function Definition and Application</a></p></td></tr><tr><td><p><span class="hspace">Â Â Â Â </span><a href="#%28part._.Tests%29" class="toclink" data-pltdoc="x">28.4<span class="hspace">Â </span>Tests</a></p></td></tr><tr><td><p><span class="hspace">Â Â Â Â </span><a href="#%28part._.Variable_.Names%29" class="toclink" data-pltdoc="x">28.5<span class="hspace">Â </span>Variable Names</a></p></td></tr><tr><td><p><span class="hspace">Â Â Â Â </span><a href="#%28part._.Data_.Definitions%29" class="toclink" data-pltdoc="x">28.6<span class="hspace">Â </span>Data Definitions</a></p></td></tr><tr><td><p><span class="hspace">Â Â Â Â </span><a href="#%28part._.Conditionals%29" class="toclink" data-pltdoc="x">28.7<span class="hspace">Â </span>Conditionals</a></p></td></tr><tr><td><p><span class="hspace">Â Â Â Â </span><a href="#%28part._.Lists%29" class="toclink" data-pltdoc="x">28.8<span class="hspace">Â </span>Lists</a></p></td></tr><tr><td><p><span class="hspace">Â Â Â Â </span><a href="#%28part._.First-.Class_.Functions%29" class="toclink" data-pltdoc="x">28.9<span class="hspace">Â </span>First-Class Functions</a></p></td></tr><tr><td><p><span class="hspace">Â Â Â Â </span><a href="#%28part._.Annotations%29" class="toclink" data-pltdoc="x">28.10<span class="hspace">Â </span>Annotations</a></p></td></tr><tr><td><p><span class="hspace">Â Â Â Â </span><a href="#%28part._.What_.Else_%29" class="toclink" data-pltdoc="x">28.11<span class="hspace">Â </span>What Else?</a></p></td></tr></table><p>If youâ€™ve programmed before in a language like Scheme or the student
levels of Racket (or the WeScheme programming environment), or for
that matter even in certain parts of OCaml, Haskell, Scala, Erlang,
Clojure, or other languages, you will find many parts of Pyret very
familiar. This chapter is specifically written to help you make the
transition from (student) Racket/Scheme/WeScheme (abbreviated â€œRSWâ€)
to Pyret by showing you how to convert the syntax. Most of what we say
applies to all these languages, though in some cases we will refer
specifically to Racket (and WeScheme) features not found in Scheme.</p><p>In every example below, the two programs will produce the same results.</p><section class="SsectionLevel3" id="section 28.1"><h3 class="heading">28.1<span class="stt">Â </span><a name="(part._.Numbers__.Strings__and_.Booleans)"/>Numbers, Strings, and Booleans<span class="button-group"><a href="#(part._.Numbers__.Strings__and_.Booleans)" class="heading-anchor" title="Link to here">ğŸ”—</a><span style="visibility: hidden"> </span></span></h3><p>Numbers are very similar between the two. Like Scheme, Pyret
implements arbitrary-precision numbers and rationals. Some of the more
exotic numeric systems of Scheme (such as complex numbers) arenâ€™t in
Pyret; Pyret also treats imprecise numbers slightly differently.</p><p/><table cellspacing="0" cellpadding="0" class="TwoColumn"><tr><td><p><span style="font-weight: bold">RSW</span></p></td><td><p><span style="font-weight: bold">Pyret</span></p></td></tr><tr><td><p><span class="RktVal">1</span><span class="RktMeta"/></p></td><td><p><span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">1</code></span></p></td></tr></table><p/><table cellspacing="0" cellpadding="0" class="TwoColumn"><tr><td><p><span style="font-weight: bold">RSW</span></p></td><td><p><span style="font-weight: bold">Pyret</span></p></td></tr><tr><td><p><span class="RktVal">1/2</span><span class="RktMeta"/></p></td><td><p><span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">1/2</code></span></p></td></tr></table><p/><table cellspacing="0" cellpadding="0" class="TwoColumn"><tr><td><p><span style="font-weight: bold">RSW</span></p></td><td><p><span style="font-weight: bold">Pyret</span></p></td></tr><tr><td><p><span class="RktVal">#i3.14</span><span class="RktMeta"/></p></td><td><p><span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">~3.14</code></span></p></td></tr></table><p>Strings are also very similar, though Pyret allows you to use
single-quotes as well.</p><p/><table cellspacing="0" cellpadding="0" class="TwoColumn"><tr><td><p><span style="font-weight: bold">RSW</span></p></td><td><p><span style="font-weight: bold">Pyret</span></p></td></tr><tr><td><p><span class="RktVal">"Hello,</span><span class="hspace">Â </span><span class="RktVal">world!"</span><span class="RktMeta"/></p></td><td><p><span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">"Hello, world!"</code></span></p></td></tr></table><p/><table cellspacing="0" cellpadding="0" class="TwoColumn"><tr><td><p><span style="font-weight: bold">RSW</span></p></td><td><p><span style="font-weight: bold">Pyret</span></p></td></tr><tr><td><p><span class="RktVal">"\"Hello\",</span><span class="hspace">Â </span><span class="RktVal">he</span><span class="hspace">Â </span><span class="RktVal">said"</span><span class="RktMeta"/></p></td><td><p><span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">"\"Hello\", he said"</code></span></p></td></tr></table><p/><table cellspacing="0" cellpadding="0" class="TwoColumn"><tr><td><p><span style="font-weight: bold">RSW</span></p></td><td><p><span style="font-weight: bold">Pyret</span></p></td></tr><tr><td><p><span class="RktVal">"\"Hello\",</span><span class="hspace">Â </span><span class="RktVal">he</span><span class="hspace">Â </span><span class="RktVal">said"</span><span class="RktMeta"/></p></td><td><p><span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">'"Hello", he said'</code></span></p></td></tr></table><p>Booleans have the same names:</p><p/><table cellspacing="0" cellpadding="0" class="TwoColumn"><tr><td><p><span style="font-weight: bold">RSW</span></p></td><td><p><span style="font-weight: bold">Pyret</span></p></td></tr><tr><td><p><span class="RktSym">true</span><span class="RktMeta"/></p></td><td><p><span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">true</code></span></p></td></tr></table><p/><table cellspacing="0" cellpadding="0" class="TwoColumn"><tr><td><p><span style="font-weight: bold">RSW</span></p></td><td><p><span style="font-weight: bold">Pyret</span></p></td></tr><tr><td><p><span class="RktSym">false</span><span class="RktMeta"/></p></td><td><p><span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">false</code></span></p></td></tr></table></section><section class="SsectionLevel3" id="section 28.2"><h3 class="heading">28.2<span class="stt">Â </span><a name="(part._.Infix_.Expressions)"/>Infix Expressions<span class="button-group"><a href="#(part._.Infix_.Expressions)" class="heading-anchor" title="Link to here">ğŸ”—</a><span style="visibility: hidden"> </span></span></h3><p>Pyret uses an infix syntax, reminiscent of many other textual
programming languages:</p><p/><table cellspacing="0" cellpadding="0" class="TwoColumn"><tr><td><p><span style="font-weight: bold">RSW</span></p></td><td><p><span style="font-weight: bold">Pyret</span></p></td></tr><tr><td><p><span class="RktPn">(</span><span class="RktSym">+</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktVal">1</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktVal">2</span><span class="RktPn">)</span><span class="RktMeta"/></p></td><td><p><span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">1 + 2</code></span></p></td></tr></table><p/><table cellspacing="0" cellpadding="0" class="TwoColumn"><tr><td><p><span style="font-weight: bold">RSW</span></p></td><td><p><span style="font-weight: bold">Pyret</span></p></td></tr><tr><td><p><span class="RktPn">(</span><span class="RktSym">*</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktPn">(</span><span class="RktSym"><span class="nobreak">-</span></span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktVal">4</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktVal">2</span><span class="RktPn">)</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktVal">5</span><span class="RktPn">)</span><span class="RktMeta"/></p></td><td><p><span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">(4 - 2) * 5</code></span></p></td></tr></table><p/><div class="SIntrapara">Note that Pyret does not have rules about orders of precedence between
operators, so when you mix operators, you have to parenthesize the
expression to make your intent clear. When you chain the same
operator you donâ€™t need to parenthesize; chaining associates to the
left in both languages:
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="TwoColumn"><tr><td><p><span style="font-weight: bold">RSW</span></p></td><td><p><span style="font-weight: bold">Pyret</span></p></td></tr><tr><td><p><span class="RktPn">(</span><span class="RktSym">/</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktVal">1</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktVal">2</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktVal">3</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktVal">4</span><span class="RktPn">)</span><span class="RktMeta"/></p></td><td><p><span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">1 / 2 / 3 / 4</code></span></p></td></tr></table></div><div class="SIntrapara">These both evaluate to <span class="stt">1/24</span>.</div></section><section class="SsectionLevel3" id="section 28.3"><h3 class="heading">28.3<span class="stt">Â </span><a name="(part._.Function_.Definition_and_.Application)"/>Function Definition and Application<span class="button-group"><a href="#(part._.Function_.Definition_and_.Application)" class="heading-anchor" title="Link to here">ğŸ”—</a><span style="visibility: hidden"> </span></span></h3><p/><div class="SIntrapara">Function definition and application in Pyret have an infix syntax,
more reminiscent of many other textual programming
languages. Application uses a syntax familiar from conventional
algebra books:
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="TwoColumn"><tr><td><p><span style="font-weight: bold">RSW</span></p></td><td><p><span style="font-weight: bold">Pyret</span></p></td></tr><tr><td><p><span class="RktPn">(</span><span class="RktSym">dist</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktVal">3</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktVal">4</span><span class="RktPn">)</span><span class="RktMeta"/></p></td><td><p><span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">dist(3, 4)</code></span></p></td></tr></table></div><p/><div class="SIntrapara">Application correspondingly uses a similar syntax in function headers,
and infix in the body:
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="TwoColumn"><tr><td><p><span style="font-weight: bold">RSW</span></p></td><td><p><span style="font-weight: bold">Pyret</span></p></td></tr><tr><td><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">define</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktPn">(</span><span class="RktSym">dist</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktSym">x</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktSym">y</span><span class="RktPn">)</span><span class="RktMeta"/></td></tr><tr><td><span class="RktMeta"/><span class="hspace">Â Â </span><span class="RktMeta"/><span class="RktPn">(</span><span class="RktSym">sqrt</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktPn">(</span><span class="RktSym">+</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktPn">(</span><span class="RktSym">*</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktSym">x</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktSym">x</span><span class="RktPn">)</span><span class="RktMeta"/></td></tr><tr><td><span class="RktMeta"/><span class="hspace">Â Â Â Â Â Â Â Â Â Â Â </span><span class="RktMeta"/><span class="RktPn">(</span><span class="RktSym">*</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktSym">y</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktSym">y</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"/></td></tr></table></blockquote></td><td><p/><div class="sourceCodeWrapper"><span data-label="Pyret" class="sourceLangLabel"/><div class="sourceCode"><pre data-lang="pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">fun dist(x, y):
  num-sqrt((x * x) +
           (y * y))
end</code></pre></div></div></td></tr></table></div></section><section class="SsectionLevel3" id="section 28.4"><h3 class="heading">28.4<span class="stt">Â </span><a name="(part._.Tests)"/>Tests<span class="button-group"><a href="#(part._.Tests)" class="heading-anchor" title="Link to here">ğŸ”—</a><span style="visibility: hidden"> </span></span></h3><p/><div class="SIntrapara">There are essentially three different ways of writing the equivalent
of Racketâ€™s <span class="RktSym">check-expect</span><span class="RktMeta"/> tests. They can be translated into
<span class="RktSym">check</span><span class="RktMeta"/> blocks:
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="TwoColumn"><tr><td><p><span style="font-weight: bold">RSW</span></p></td><td><p><span style="font-weight: bold">Pyret</span></p></td></tr><tr><td><p><span class="RktPn">(</span><span class="RktSym">check-expect</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktVal">1</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktMeta"/></p></td><td><p/><div class="sourceCodeWrapper"><span data-label="Pyret" class="sourceLangLabel"/><div class="sourceCode"><pre data-lang="pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">check:
  1 is 1
end</code></pre></div></div></td></tr></table></div><div class="SIntrapara">Note that multiple tests can be put into a single block:
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="TwoColumn"><tr><td><p><span style="font-weight: bold">RSW</span></p></td><td><p><span style="font-weight: bold">Pyret</span></p></td></tr><tr><td><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">check-expect</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktVal">1</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktMeta"/></td></tr><tr><td><span class="RktMeta"/><span class="RktPn">(</span><span class="RktSym">check-expect</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktVal">2</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktVal">2</span><span class="RktPn">)</span><span class="RktMeta"/></td></tr></table></blockquote></td><td><p/><div class="sourceCodeWrapper"><span data-label="Pyret" class="sourceLangLabel"/><div class="sourceCode"><pre data-lang="pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">check:
  1 is 1
  2 is 2
end</code></pre></div></div></td></tr></table></div><p>The second way is this: as an alias for <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">check</code></span> we can also write
<span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">examples</code></span>. The two are functionally identical, but they capture
the human difference between examples (which explore the
<span class="emph">problem</span>, and are written before attempting a solution) and
tests (which try to find bugs in the <span class="emph">solution</span>, and are written
to probe its design).</p><p/><div class="SIntrapara">The third way is to write a <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">where</code></span> block to accompany a function
definition. For instance:
</div><div class="SIntrapara"><p/><div class="sourceCodeWrapper"><span data-label="Pyret" class="sourceLangLabel"/><div class="sourceCode"><pre data-lang="pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">fun double(n):
  n + n
where:
  double(0) is 0
  double(10) is 20
  double(-1) is -2
end</code></pre></div></div></div><div class="SIntrapara">These can even be written for internal functions (i.e., functions
contained inside other functions), which isnâ€™t true for
<span class="RktSym">check-expect</span><span class="RktMeta"/>.</div><p/><div class="SIntrapara">In Pyret, unlike in Racket, a testing block can contain a
documentation string. This is used by Pyret when reporting test
successes and failures. For instance, try to run and see what you get:
</div><div class="SIntrapara"><p/><div class="sourceCodeWrapper"><span data-label="Pyret" class="sourceLangLabel"/><div class="sourceCode"><pre data-lang="pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">check "squaring always produces non-negatives":
  (0 * 0) is 0
  (-2 * -2) is 4
  (3 * 3) is 9
end</code></pre></div></div></div><div class="SIntrapara">This is useful for documenting the <span class="emph">purpose</span> of a testing block.</div><p>Just as in Racket, there are many testing operators in Pyret (in
addition to <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">is</code></span>). See
<a href="https://www.pyret.org/docs/latest/testing.html">the
documentation</a>.</p></section><section class="SsectionLevel3" id="section 28.5"><h3 class="heading">28.5<span class="stt">Â </span><a name="(part._.Variable_.Names)"/>Variable Names<span class="button-group"><a href="#(part._.Variable_.Names)" class="heading-anchor" title="Link to here">ğŸ”—</a><span style="visibility: hidden"> </span></span></h3><p/><div class="SIntrapara">Both languages have a fairly permissive system for naming
variables. While you can use CamelCase and under_scores in both, it is
conventional to instead use what is known as
<a href="http://c2.com/cgi/wiki?KebabCase">kebab-case</a>.<span class="refelem"><span class="refcolumn"><span class="refcontent">This name is inaccurate. The word â€œkebabâ€
just means â€œmeatâ€. The skewer is the â€œshishâ€. Therefore, it ought
to at least be called â€œshish kebab caseâ€.</span></span></span> Thus:
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="TwoColumn"><tr><td><p><span style="font-weight: bold">RSW</span></p></td><td><p><span style="font-weight: bold">Pyret</span></p></td></tr><tr><td><p><span class="RktSym">this-is-a-name</span><span class="RktMeta"/></p></td><td><p><span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">this-is-a-name</code></span></p></td></tr></table></div><div class="SIntrapara">Even though Pyret has infix subtraction, the language can
unambiguously tell apart <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">this-name</code></span> (a variable) from
<span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">this - name</code></span> (a subtraction expression) because the <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">-</code></span> in
the latter must be surrounded by spaces.</div><p/><div class="SIntrapara">Despite this spacing convention, Pyret does not permit some of the
more exotic names permitted by Scheme. For instance, one can write
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">define</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktSym">e^i*pi</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktVal">-1</span><span class="RktPn">)</span><span class="RktMeta"/></td></tr></table></blockquote></div><div class="SIntrapara">in Scheme but that is not a valid variable name in Pyret.</div></section><section class="SsectionLevel3" id="section 28.6"><h3 class="heading">28.6<span class="stt">Â </span><a name="(part._.Data_.Definitions)"/>Data Definitions<span class="button-group"><a href="#(part._.Data_.Definitions)" class="heading-anchor" title="Link to here">ğŸ”—</a><span style="visibility: hidden"> </span></span></h3><p/><div class="SIntrapara">Pyret diverges from Racket (and even more so from Scheme) in its
handling of data definitions. First, we will see how to define a
structure:
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="TwoColumn"><tr><td><p><span style="font-weight: bold">RSW</span></p></td><td><p><span style="font-weight: bold">Pyret</span></p></td></tr><tr><td><p><span class="RktPn">(</span><span class="RktSym">define-struct</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktSym">pt</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktPn">(</span><span class="RktSym">x</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktSym">y</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"/></p></td><td><p/><div class="sourceCodeWrapper"><span data-label="Pyret" class="sourceLangLabel"/><div class="sourceCode"><pre data-lang="pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">data Point:
  | pt(x, y)
end</code></pre></div></div></td></tr></table></div><p/><div class="SIntrapara">This might seem like a fair bit of overkill, but weâ€™ll see in a moment
why itâ€™s useful. Meanwhile, itâ€™s worth observing that when you have
only a single kind of datum in a data definition, it feels unwieldy to
take up so many lines. Writing it on one line is valid, but now it
feels ugly to have the <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">|</code></span> in the middle:
</div><div class="SIntrapara"><p/><div class="sourceCodeWrapper"><span data-label="Pyret" class="sourceLangLabel"/><div class="sourceCode"><pre data-lang="pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">data Point: | pt(x, y) end</code></pre></div></div></div><div class="SIntrapara">Therefore, Pyret permits you to drop the initial <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">|</code></span>, resulting
in the more readable
</div><div class="SIntrapara"><p/><div class="sourceCodeWrapper"><span data-label="Pyret" class="sourceLangLabel"/><div class="sourceCode"><pre data-lang="pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">data Point: pt(x, y) end</code></pre></div></div></div><p/><div class="SIntrapara">Now suppose we have two kinds of points. In the student languages of
Racket, we would describe this with a comment:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;;</span><span class="hspace">Â </span><span class="RktCmt">A</span><span class="hspace">Â </span><span class="RktCmt">Point</span><span class="hspace">Â </span><span class="RktCmt">is</span><span class="hspace">Â </span><span class="RktCmt">either</span><span class="RktMeta"/></td></tr><tr><td><span class="RktMeta"/><span class="RktCmt">;;</span><span class="hspace">Â </span><span class="RktCmt">-</span><span class="hspace">Â </span><span class="RktCmt">(pt</span><span class="hspace">Â </span><span class="RktCmt">number</span><span class="hspace">Â </span><span class="RktCmt">number),</span><span class="hspace">Â </span><span class="RktCmt">or</span><span class="RktMeta"/></td></tr><tr><td><span class="RktMeta"/><span class="RktCmt">;;</span><span class="hspace">Â </span><span class="RktCmt">-</span><span class="hspace">Â </span><span class="RktCmt">(pt3d</span><span class="hspace">Â </span><span class="RktCmt">number</span><span class="hspace">Â </span><span class="RktCmt">number</span><span class="hspace">Â </span><span class="RktCmt">number)</span><span class="RktMeta"/></td></tr></table></blockquote></div><div class="SIntrapara">In Pyret, we can express this directly:
</div><div class="SIntrapara"><p/><div class="sourceCodeWrapper"><span data-label="Pyret" class="sourceLangLabel"/><div class="sourceCode"><pre data-lang="pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">data Point:
  | pt(x, y)
  | pt3d(x, y, z)
end</code></pre></div></div></div><div class="SIntrapara">In short, Racket optimizes for the single-variant case, whereas Pyret
optimizes for the multi-variant case. As a result, it is difficult to
clearly express the multi-variant case in Racket, while it is unwieldy
to express the single-variant case in Pyret.</div><p/><div class="SIntrapara">For structures, both Racket and Pyret expose constructors, selectors,
and predicates. Constructors are just functions:
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="TwoColumn"><tr><td><p><span style="font-weight: bold">RSW</span></p></td><td><p><span style="font-weight: bold">Pyret</span></p></td></tr><tr><td><p><span class="RktPn">(</span><span class="RktSym">pt</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktVal">1</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktVal">2</span><span class="RktPn">)</span><span class="RktMeta"/></p></td><td><p><span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">pt(1, 2)</code></span></p></td></tr></table></div><div class="SIntrapara">Predicates are also functions with a particular naming scheme:
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="TwoColumn"><tr><td><p><span style="font-weight: bold">RSW</span></p></td><td><p><span style="font-weight: bold">Pyret</span></p></td></tr><tr><td><p><span class="RktPn">(</span><span class="RktSym">pt?</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktSym">x</span><span class="RktPn">)</span><span class="RktMeta"/></p></td><td><p><span class="RktSym">is-pt</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="RktMeta"/></p></td></tr></table></div><div class="SIntrapara">and they behave the same way (returning <span class="stt">true</span> if the argument
was constructed by that constructor, and <span class="stt">false</span> otherwise). In
contrast, selection is different in the two languages (and we will see
more about selection below, with <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">cases</code></span>):
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="TwoColumn"><tr><td><p><span style="font-weight: bold">RSW</span></p></td><td><p><span style="font-weight: bold">Pyret</span></p></td></tr><tr><td><p><span class="RktPn">(</span><span class="RktSym">pt-x</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktSym">v</span><span class="RktPn">)</span><span class="RktMeta"/></p></td><td><p><span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">v.x</code></span></p></td></tr></table></div><div class="SIntrapara">Note that in the Racket case, <span class="RktSym">pt-x</span><span class="RktMeta"/> checks that the parameter
was constructed by <span class="RktSym">pt</span><span class="RktMeta"/> before extracting the value of the
<span class="RktSym">x</span><span class="RktMeta"/> field. Thus, <span class="RktSym">pt-x</span><span class="RktMeta"/> and <span class="RktSym">pt3d-x</span><span class="RktMeta"/> are two different
functions and neither one can be used in place of the other. In
contast, in Pyret, <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">.x</code></span> extracts an <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">x</code></span> field of any value
that has such a field, without attention to how it was
constructed. Thus, we can use <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">.x</code></span> on a value whether it was
constructed by <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">pt</code></span> or <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">pt3d</code></span> (or indeed anything else with
that field). In contrast, <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">cases</code></span> does pay attention to this
distinction.</div></section><section class="SsectionLevel3" id="section 28.7"><h3 class="heading">28.7<span class="stt">Â </span><a name="(part._.Conditionals)"/>Conditionals<span class="button-group"><a href="#(part._.Conditionals)" class="heading-anchor" title="Link to here">ğŸ”—</a><span style="visibility: hidden"> </span></span></h3><p>There are several kinds of conditionals in Pyret, one more than in the
Racket student languages.</p><p>General conditionals can be written using <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">if</code></span>, corresponding to
Racketâ€™s <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">if</code></span> but with more syntax.</p><p/><table cellspacing="0" cellpadding="0" class="TwoColumn"><tr><td><p><span style="font-weight: bold">RSW</span></p></td><td><p><span style="font-weight: bold">Pyret</span></p></td></tr><tr><td><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">if</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktSym">full-moon</span><span class="RktMeta"/></td></tr><tr><td><span class="RktMeta"/><span class="hspace">Â Â Â Â </span><span class="RktMeta"/><span class="RktVal">"howl"</span><span class="RktMeta"/></td></tr><tr><td><span class="RktMeta"/><span class="hspace">Â Â Â Â </span><span class="RktMeta"/><span class="RktVal">"meow"</span><span class="RktPn">)</span><span class="RktMeta"/></td></tr></table></blockquote></td><td><p/><div class="sourceCodeWrapper"><span data-label="Pyret" class="sourceLangLabel"/><div class="sourceCode"><pre data-lang="pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">if full-moon:
  "howl"
else:
  "meow"
end</code></pre></div></div></td></tr></table><p/><table cellspacing="0" cellpadding="0" class="TwoColumn"><tr><td><p><span style="font-weight: bold">RSW</span></p></td><td><p><span style="font-weight: bold">Pyret</span></p></td></tr><tr><td><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">if</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktSym">full-moon</span><span class="RktMeta"/></td></tr><tr><td><span class="RktMeta"/><span class="hspace">Â Â Â Â </span><span class="RktMeta"/><span class="RktVal">"howl"</span><span class="RktMeta"/></td></tr><tr><td><span class="RktMeta"/><span class="hspace">Â Â Â Â </span><span class="RktMeta"/><span class="RktPn">(</span><span class="RktSym">if</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktSym">new-moon</span><span class="RktMeta"/></td></tr><tr><td><span class="RktMeta"/><span class="hspace">Â Â Â Â Â Â Â Â </span><span class="RktMeta"/><span class="RktVal">"bark"</span><span class="RktMeta"/></td></tr><tr><td><span class="RktMeta"/><span class="hspace">Â Â Â Â Â Â Â Â </span><span class="RktMeta"/><span class="RktVal">"meow"</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"/></td></tr></table></blockquote></td><td><p/><div class="sourceCodeWrapper"><span data-label="Pyret" class="sourceLangLabel"/><div class="sourceCode"><pre data-lang="pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">if full-moon:
  "howl"
else if new-moon:
  "bark"
else:
  "meow"
end</code></pre></div></div></td></tr></table><p/><div class="SIntrapara">Note that <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">if</code></span> includes <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">else if</code></span>, which makes it possible
to list a collection of questions at the same level of indentation,
which <span class="RktSym">if</span><span class="RktMeta"/> in Racket does not have. The corresponding code in
Racket would be written
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">cond</span><span class="RktMeta"/></td></tr><tr><td><span class="RktMeta"/><span class="hspace">Â Â </span><span class="RktMeta"/><span class="RktPn">[</span><span class="RktSym">full-moon</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktVal">"howl"</span><span class="RktPn">]</span><span class="RktMeta"/></td></tr><tr><td><span class="RktMeta"/><span class="hspace">Â Â </span><span class="RktMeta"/><span class="RktPn">[</span><span class="RktSym">new-moon</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktVal">"bark"</span><span class="RktPn">]</span><span class="RktMeta"/></td></tr><tr><td><span class="RktMeta"/><span class="hspace">Â Â </span><span class="RktMeta"/><span class="RktPn">[</span><span class="RktSym">else</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktVal">"meow"</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktMeta"/></td></tr></table></blockquote></div><div class="SIntrapara">to restore the indentation. There is a similar construct in Pyret
called <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">ask</code></span>, designed to parallel <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">cond</code></span>:
</div><div class="SIntrapara"><p/><div class="sourceCodeWrapper"><span data-label="Pyret" class="sourceLangLabel"/><div class="sourceCode"><pre data-lang="pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">ask:
  | full-moon then: "howl"
  | new-moon then:  "bark"
  | otherwise:      "meow"
end</code></pre></div></div></div><p/><div class="SIntrapara">In Racket, we also use <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">cond</code></span> to dispatch on a datatype:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">cond</span><span class="RktMeta"/></td></tr><tr><td><span class="RktMeta"/><span class="hspace">Â Â </span><span class="RktMeta"/><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">pt?</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktSym">v</span><span class="RktPn">)</span><span class="RktMeta"/><span class="hspace">Â Â Â </span><span class="RktMeta"/><span class="RktPn">(</span><span class="RktSym">+</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktPn">(</span><span class="RktSym">pt-x</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktSym">v</span><span class="RktPn">)</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktPn">(</span><span class="RktSym">pt-y</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktSym">v</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktMeta"/></td></tr><tr><td><span class="RktMeta"/><span class="hspace">Â Â </span><span class="RktMeta"/><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">pt3d?</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktSym">v</span><span class="RktPn">)</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktPn">(</span><span class="RktSym">+</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktPn">(</span><span class="RktSym">pt-x</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktSym">v</span><span class="RktPn">)</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktPn">(</span><span class="RktSym">pt-z</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktSym">v</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktMeta"/></td></tr></table></blockquote></div><div class="SIntrapara">We <span class="emph">could</span> write this in close parallel in Pyret:
</div><div class="SIntrapara"><p/><div class="sourceCodeWrapper"><span data-label="Pyret" class="sourceLangLabel"/><div class="sourceCode"><pre data-lang="pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">ask:
  | is-pt(v)   then: v.x + v.y
  | is-pt3d(v) then: v.x + v.z
end</code></pre></div></div></div><div class="SIntrapara">or even as:
</div><div class="SIntrapara"><p/><div class="sourceCodeWrapper"><span data-label="Pyret" class="sourceLangLabel"/><div class="sourceCode"><pre data-lang="pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">if is-pt(v):
  v.x + v.y
else if is-pt3d(v):
  v.x + v.z
end</code></pre></div></div></div><div class="SIntrapara">(As in Racket student languages, the Pyret versions will signal an
error if no branch of the conditional matched.)</div><p/><div class="SIntrapara">However, Pyret provides a special syntax just for data
definitions:
</div><div class="SIntrapara"><p/><div class="sourceCodeWrapper"><span data-label="Pyret" class="sourceLangLabel"/><div class="sourceCode"><pre data-lang="pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">cases (Point) v:
  | pt(x, y)      =&gt; x + y
  | pt3d(x, y, z) =&gt; x + z
end</code></pre></div></div></div><div class="SIntrapara">This checks that <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">v</code></span> is a <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">Point</code></span>, provides a clean
syntactic way of identifying the different branches, <span class="emph">and</span> makes
it possible to give a concise local name to each field position
instead of having to use selectors like <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">.x</code></span>. In general, in
Pyret we prefer to use <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">cases</code></span> to process data
definitions. However, there are times when, for instance, there many
variants of data but a function processes only very few of them. In
such situations, it makes more sense to explicitly use predicates and
selectors.</div></section><section class="SsectionLevel3" id="section 28.8"><h3 class="heading">28.8<span class="stt">Â </span><a name="(part._.Lists)"/>Lists<span class="button-group"><a href="#(part._.Lists)" class="heading-anchor" title="Link to here">ğŸ”—</a><span style="visibility: hidden"> </span></span></h3><p>In Racket, depending on the language level, lists are created using
either <span class="RktSym">cons</span><span class="RktMeta"/> or <span class="RktSym">list</span><span class="RktMeta"/>, with <span class="RktSym">empty</span><span class="RktMeta"/> for the empty
list. The corresponding notions in Pyret are called <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">link</code></span>,
<span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">list</code></span>, and <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">empty</code></span>, respectively. <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">link</code></span> is a
two-argument function, just as in Racket:</p><p/><table cellspacing="0" cellpadding="0" class="TwoColumn"><tr><td><p><span style="font-weight: bold">RSW</span></p></td><td><p><span style="font-weight: bold">Pyret</span></p></td></tr><tr><td><p><span class="RktPn">(</span><span class="RktSym">cons</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktVal">1</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktSym">empty</span><span class="RktPn">)</span><span class="RktMeta"/></p></td><td><p><span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">link(1, empty)</code></span></p></td></tr></table><p/><table cellspacing="0" cellpadding="0" class="TwoColumn"><tr><td><p><span style="font-weight: bold">RSW</span></p></td><td><p><span style="font-weight: bold">Pyret</span></p></td></tr><tr><td><p><span class="RktPn">(</span><span class="RktSym">list</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktVal">1</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktVal">2</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktVal">3</span><span class="RktPn">)</span><span class="RktMeta"/></p></td><td><p><span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">[list: 1, 2, 3]</code></span></p></td></tr></table><p>Note that the syntax <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">[1, 2, 3]</code></span>, which represents lists in many
languages, is <span class="emph">not</span> legal in Pyret: lists are not privileged with
their own syntax. Rather, we must use an explicit <span class="emph">constructor</span>:
just as <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">[list: 1, 2, 3]</code></span> constructs a list, <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">[set: 1, 2,
3]</code></span> constructs a set instead of a list.<span class="refelem"><span class="refcolumn"><span class="refcontent">In fact, we can
<a href="https://www.pyret.org/docs/latest/Expressions.html#%28part._s~3aconstruct-expr%29">create our own constructors</a>
and use them with this syntax.</span></span></span></p><blockquote class="Exercise"><p class="ExerciseHeader">Exercise</p><blockquote class="ExerciseBody"><p>Try typing <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">[1, 2, 3]</code></span> and see the error message.</p></blockquote></blockquote><p/><div class="SIntrapara">This shows us how to construct lists. To take them apart, we use
<span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">cases</code></span>. There are two variants, <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">empty</code></span> and <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">link</code></span>
(which we used to construct the lists):
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="TwoColumn"><tr><td><p><span style="font-weight: bold">RSW</span></p></td><td><p><span style="font-weight: bold">Pyret</span></p></td></tr><tr><td><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">cond</span><span class="RktMeta"/></td></tr><tr><td><span class="RktMeta"/><span class="hspace">Â Â </span><span class="RktMeta"/><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">empty?</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktSym">l</span><span class="RktPn">)</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktVal">0</span><span class="RktPn">]</span><span class="RktMeta"/></td></tr><tr><td><span class="RktMeta"/><span class="hspace">Â Â </span><span class="RktMeta"/><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">cons?</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktSym">l</span><span class="RktPn">)</span><span class="RktMeta"/></td></tr><tr><td><span class="RktMeta"/><span class="hspace">Â Â Â </span><span class="RktMeta"/><span class="RktPn">(</span><span class="RktSym">+</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktPn">(</span><span class="RktSym">first</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktSym">l</span><span class="RktPn">)</span><span class="RktMeta"/></td></tr><tr><td><span class="RktMeta"/><span class="hspace">Â Â Â Â Â Â </span><span class="RktMeta"/><span class="RktPn">(</span><span class="RktSym">g</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktPn">(</span><span class="RktSym">rest</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktSym">l</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktMeta"/></td></tr></table></blockquote></td><td><p/><div class="sourceCodeWrapper"><span data-label="Pyret" class="sourceLangLabel"/><div class="sourceCode"><pre data-lang="pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">cases (List) l:
  | empty      =&gt; 0
  | link(f, r) =&gt; f + g(r)
end</code></pre></div></div></td></tr></table></div><div class="SIntrapara">It is conventional to call the fields <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">f</code></span> and <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">r</code></span> (for
â€œfirstâ€ and â€œrestâ€). Of course, this convention does not work if
there are other things by the same name; in particular, when writing a
nested destructuring of a list, we conventionally write <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">fr</code></span> and
<span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">rr</code></span> (for â€œfirst of the restâ€ and â€œrest of the restâ€).</div></section><section class="SsectionLevel3" id="section 28.9"><h3 class="heading">28.9<span class="stt">Â </span><a name="(part._.First-.Class_.Functions)"/>First-Class Functions<span class="button-group"><a href="#(part._.First-.Class_.Functions)" class="heading-anchor" title="Link to here">ğŸ”—</a><span style="visibility: hidden"> </span></span></h3><p/><div class="SIntrapara">The equivalent of Racketâ€™s <span class="RktSym">lambda</span><span class="RktMeta"/> is Pyretâ€™s <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">lam</code></span>:
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="TwoColumn"><tr><td><p><span style="font-weight: bold">RSW</span></p></td><td><p><span style="font-weight: bold">Pyret</span></p></td></tr><tr><td><p><span class="RktPn">(</span><span class="RktSym">lambda</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktPn">(</span><span class="RktSym">x</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktSym">y</span><span class="RktPn">)</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktPn">(</span><span class="RktSym">+</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktSym">x</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktSym">y</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"/></p></td><td><p><span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">lam(x, y): x + y end</code></span></p></td></tr></table></div></section><section class="SsectionLevel3" id="section 28.10"><h3 class="heading">28.10<span class="stt">Â </span><a name="(part._.Annotations)"/>Annotations<span class="button-group"><a href="#(part._.Annotations)" class="heading-anchor" title="Link to here">ğŸ”—</a><span style="visibility: hidden"> </span></span></h3><p/><div class="SIntrapara">In student Racket languages, annotations are usually written as comments:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;</span><span class="hspace">Â </span><span class="RktCmt">square:</span><span class="hspace">Â </span><span class="RktCmt">Number</span><span class="hspace">Â </span><span class="RktCmt">-&gt;</span><span class="hspace">Â </span><span class="RktCmt">Number</span><span class="RktMeta"/></td></tr><tr><td><span class="RktMeta"/><span class="RktCmt">;</span><span class="hspace">Â </span><span class="RktCmt">sort-nums:</span><span class="hspace">Â </span><span class="RktCmt">List&lt;Number&gt;</span><span class="hspace">Â </span><span class="RktCmt">-&gt;</span><span class="hspace">Â </span><span class="RktCmt">List&lt;Number&gt;</span><span class="RktMeta"/></td></tr><tr><td><span class="RktMeta"/><span class="RktCmt">;</span><span class="hspace">Â </span><span class="RktCmt">sort:</span><span class="hspace">Â </span><span class="RktCmt">List&lt;T&gt;</span><span class="hspace">Â </span><span class="RktCmt">*</span><span class="hspace">Â </span><span class="RktCmt">(T</span><span class="hspace">Â </span><span class="RktCmt">*</span><span class="hspace">Â </span><span class="RktCmt">T</span><span class="hspace">Â </span><span class="RktCmt">-&gt;</span><span class="hspace">Â </span><span class="RktCmt">Boolean)</span><span class="hspace">Â </span><span class="RktCmt">-&gt;</span><span class="hspace">Â </span><span class="RktCmt">List&lt;T&gt;</span><span class="RktMeta"/></td></tr></table></blockquote></div><div class="SIntrapara">In Pyret, we write the annotations directly on the parameters and
return values. Pyret will check them to a limited extent dynamically,
and can check them statically with its type checker. The corresponding
annotations to those above would be written as
</div><div class="SIntrapara"><p/><div class="sourceCodeWrapper"><span data-label="Pyret" class="sourceLangLabel"/><div class="sourceCode"><pre data-lang="pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">fun square(n :: Number) -&gt; Number: ...

fun sort-nums(l :: List&lt;Number&gt;) -&gt; List&lt;Number&gt;: ...

fun sort&lt;T&gt;(l :: List&lt;T&gt;, cmp :: (T, T -&gt; Boolean)) -&gt; List&lt;T&gt;: ...</code></pre></div></div></div></section><section class="SsectionLevel3" id="section 28.11"><h3 class="heading">28.11<span class="stt">Â </span><a name="(part._.What_.Else_)"/>What Else?<span class="button-group"><a href="#(part._.What_.Else_)" class="heading-anchor" title="Link to here">ğŸ”—</a><span style="visibility: hidden"> </span></span></h3><p>If there are other parts of Scheme or Racket syntax that you would
like to see translated, please
<a href="http://cs.brown.edu/~sk/Contact/">let us know</a>.</p></section>&#13;
<h3 class="heading">28.1<span class="stt">Â </span><a name="(part._.Numbers__.Strings__and_.Booleans)"/>Numbers, Strings, and Booleans<span class="button-group"><a href="#(part._.Numbers__.Strings__and_.Booleans)" class="heading-anchor" title="Link to here">ğŸ”—</a><span style="visibility: hidden"> </span></span></h3><p>Numbers are very similar between the two. Like Scheme, Pyret
implements arbitrary-precision numbers and rationals. Some of the more
exotic numeric systems of Scheme (such as complex numbers) arenâ€™t in
Pyret; Pyret also treats imprecise numbers slightly differently.</p><p/><table cellspacing="0" cellpadding="0" class="TwoColumn"><tr><td><p><span style="font-weight: bold">RSW</span></p></td><td><p><span style="font-weight: bold">Pyret</span></p></td></tr><tr><td><p><span class="RktVal">1</span><span class="RktMeta"/></p></td><td><p><span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">1</code></span></p></td></tr></table><p/><table cellspacing="0" cellpadding="0" class="TwoColumn"><tr><td><p><span style="font-weight: bold">RSW</span></p></td><td><p><span style="font-weight: bold">Pyret</span></p></td></tr><tr><td><p><span class="RktVal">1/2</span><span class="RktMeta"/></p></td><td><p><span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">1/2</code></span></p></td></tr></table><p/><table cellspacing="0" cellpadding="0" class="TwoColumn"><tr><td><p><span style="font-weight: bold">RSW</span></p></td><td><p><span style="font-weight: bold">Pyret</span></p></td></tr><tr><td><p><span class="RktVal">#i3.14</span><span class="RktMeta"/></p></td><td><p><span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">~3.14</code></span></p></td></tr></table><p>Strings are also very similar, though Pyret allows you to use
single-quotes as well.</p><p/><table cellspacing="0" cellpadding="0" class="TwoColumn"><tr><td><p><span style="font-weight: bold">RSW</span></p></td><td><p><span style="font-weight: bold">Pyret</span></p></td></tr><tr><td><p><span class="RktVal">"Hello,</span><span class="hspace">Â </span><span class="RktVal">world!"</span><span class="RktMeta"/></p></td><td><p><span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">"Hello, world!"</code></span></p></td></tr></table><p/><table cellspacing="0" cellpadding="0" class="TwoColumn"><tr><td><p><span style="font-weight: bold">RSW</span></p></td><td><p><span style="font-weight: bold">Pyret</span></p></td></tr><tr><td><p><span class="RktVal">"\"Hello\",</span><span class="hspace">Â </span><span class="RktVal">he</span><span class="hspace">Â </span><span class="RktVal">said"</span><span class="RktMeta"/></p></td><td><p><span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">"\"Hello\", he said"</code></span></p></td></tr></table><p/><table cellspacing="0" cellpadding="0" class="TwoColumn"><tr><td><p><span style="font-weight: bold">RSW</span></p></td><td><p><span style="font-weight: bold">Pyret</span></p></td></tr><tr><td><p><span class="RktVal">"\"Hello\",</span><span class="hspace">Â </span><span class="RktVal">he</span><span class="hspace">Â </span><span class="RktVal">said"</span><span class="RktMeta"/></p></td><td><p><span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">'"Hello", he said'</code></span></p></td></tr></table><p>Booleans have the same names:</p><p/><table cellspacing="0" cellpadding="0" class="TwoColumn"><tr><td><p><span style="font-weight: bold">RSW</span></p></td><td><p><span style="font-weight: bold">Pyret</span></p></td></tr><tr><td><p><span class="RktSym">true</span><span class="RktMeta"/></p></td><td><p><span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">true</code></span></p></td></tr></table><p/><table cellspacing="0" cellpadding="0" class="TwoColumn"><tr><td><p><span style="font-weight: bold">RSW</span></p></td><td><p><span style="font-weight: bold">Pyret</span></p></td></tr><tr><td><p><span class="RktSym">false</span><span class="RktMeta"/></p></td><td><p><span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">false</code></span></p></td></tr></table>&#13;
<h3 class="heading">28.2<span class="stt">Â </span><a name="(part._.Infix_.Expressions)"/>Infix Expressions<span class="button-group"><a href="#(part._.Infix_.Expressions)" class="heading-anchor" title="Link to here">ğŸ”—</a><span style="visibility: hidden"> </span></span></h3><p>Pyret uses an infix syntax, reminiscent of many other textual
programming languages:</p><p/><table cellspacing="0" cellpadding="0" class="TwoColumn"><tr><td><p><span style="font-weight: bold">RSW</span></p></td><td><p><span style="font-weight: bold">Pyret</span></p></td></tr><tr><td><p><span class="RktPn">(</span><span class="RktSym">+</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktVal">1</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktVal">2</span><span class="RktPn">)</span><span class="RktMeta"/></p></td><td><p><span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">1 + 2</code></span></p></td></tr></table><p/><table cellspacing="0" cellpadding="0" class="TwoColumn"><tr><td><p><span style="font-weight: bold">RSW</span></p></td><td><p><span style="font-weight: bold">Pyret</span></p></td></tr><tr><td><p><span class="RktPn">(</span><span class="RktSym">*</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktPn">(</span><span class="RktSym"><span class="nobreak">-</span></span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktVal">4</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktVal">2</span><span class="RktPn">)</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktVal">5</span><span class="RktPn">)</span><span class="RktMeta"/></p></td><td><p><span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">(4 - 2) * 5</code></span></p></td></tr></table><p/><div class="SIntrapara">Note that Pyret does not have rules about orders of precedence between
operators, so when you mix operators, you have to parenthesize the
expression to make your intent clear. When you chain the same
operator you donâ€™t need to parenthesize; chaining associates to the
left in both languages:
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="TwoColumn"><tr><td><p><span style="font-weight: bold">RSW</span></p></td><td><p><span style="font-weight: bold">Pyret</span></p></td></tr><tr><td><p><span class="RktPn">(</span><span class="RktSym">/</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktVal">1</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktVal">2</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktVal">3</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktVal">4</span><span class="RktPn">)</span><span class="RktMeta"/></p></td><td><p><span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">1 / 2 / 3 / 4</code></span></p></td></tr></table></div><div class="SIntrapara">These both evaluate to <span class="stt">1/24</span>.</div>&#13;
<h3 class="heading">28.3<span class="stt">Â </span><a name="(part._.Function_.Definition_and_.Application)"/>Function Definition and Application<span class="button-group"><a href="#(part._.Function_.Definition_and_.Application)" class="heading-anchor" title="Link to here">ğŸ”—</a><span style="visibility: hidden"> </span></span></h3><p/><div class="SIntrapara">Function definition and application in Pyret have an infix syntax,
more reminiscent of many other textual programming
languages. Application uses a syntax familiar from conventional
algebra books:
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="TwoColumn"><tr><td><p><span style="font-weight: bold">RSW</span></p></td><td><p><span style="font-weight: bold">Pyret</span></p></td></tr><tr><td><p><span class="RktPn">(</span><span class="RktSym">dist</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktVal">3</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktVal">4</span><span class="RktPn">)</span><span class="RktMeta"/></p></td><td><p><span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">dist(3, 4)</code></span></p></td></tr></table></div><p/><div class="SIntrapara">Application correspondingly uses a similar syntax in function headers,
and infix in the body:
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="TwoColumn"><tr><td><p><span style="font-weight: bold">RSW</span></p></td><td><p><span style="font-weight: bold">Pyret</span></p></td></tr><tr><td><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">define</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktPn">(</span><span class="RktSym">dist</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktSym">x</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktSym">y</span><span class="RktPn">)</span><span class="RktMeta"/></td></tr><tr><td><span class="RktMeta"/><span class="hspace">Â Â </span><span class="RktMeta"/><span class="RktPn">(</span><span class="RktSym">sqrt</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktPn">(</span><span class="RktSym">+</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktPn">(</span><span class="RktSym">*</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktSym">x</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktSym">x</span><span class="RktPn">)</span><span class="RktMeta"/></td></tr><tr><td><span class="RktMeta"/><span class="hspace">Â Â Â Â Â Â Â Â Â Â Â </span><span class="RktMeta"/><span class="RktPn">(</span><span class="RktSym">*</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktSym">y</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktSym">y</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"/></td></tr></table></blockquote></td><td><p/><div class="sourceCodeWrapper"><span data-label="Pyret" class="sourceLangLabel"/><div class="sourceCode"><pre data-lang="pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">fun dist(x, y):
  num-sqrt((x * x) +
           (y * y))
end</code></pre></div></div></td></tr></table></div>&#13;
<h3 class="heading">28.4<span class="stt">Â </span><a name="(part._.Tests)"/>Tests<span class="button-group"><a href="#(part._.Tests)" class="heading-anchor" title="Link to here">ğŸ”—</a><span style="visibility: hidden"> </span></span></h3><p/><div class="SIntrapara">There are essentially three different ways of writing the equivalent
of Racketâ€™s <span class="RktSym">check-expect</span><span class="RktMeta"/> tests. They can be translated into
<span class="RktSym">check</span><span class="RktMeta"/> blocks:
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="TwoColumn"><tr><td><p><span style="font-weight: bold">RSW</span></p></td><td><p><span style="font-weight: bold">Pyret</span></p></td></tr><tr><td><p><span class="RktPn">(</span><span class="RktSym">check-expect</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktVal">1</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktMeta"/></p></td><td><p/><div class="sourceCodeWrapper"><span data-label="Pyret" class="sourceLangLabel"/><div class="sourceCode"><pre data-lang="pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">check:
  1 is 1
end</code></pre></div></div></td></tr></table></div><div class="SIntrapara">Note that multiple tests can be put into a single block:
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="TwoColumn"><tr><td><p><span style="font-weight: bold">RSW</span></p></td><td><p><span style="font-weight: bold">Pyret</span></p></td></tr><tr><td><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">check-expect</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktVal">1</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktMeta"/></td></tr><tr><td><span class="RktMeta"/><span class="RktPn">(</span><span class="RktSym">check-expect</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktVal">2</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktVal">2</span><span class="RktPn">)</span><span class="RktMeta"/></td></tr></table></blockquote></td><td><p/><div class="sourceCodeWrapper"><span data-label="Pyret" class="sourceLangLabel"/><div class="sourceCode"><pre data-lang="pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">check:
  1 is 1
  2 is 2
end</code></pre></div></div></td></tr></table></div><p>The second way is this: as an alias for <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">check</code></span> we can also write
<span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">examples</code></span>. The two are functionally identical, but they capture
the human difference between examples (which explore the
<span class="emph">problem</span>, and are written before attempting a solution) and
tests (which try to find bugs in the <span class="emph">solution</span>, and are written
to probe its design).</p><p/><div class="SIntrapara">The third way is to write a <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">where</code></span> block to accompany a function
definition. For instance:
</div><div class="SIntrapara"><p/><div class="sourceCodeWrapper"><span data-label="Pyret" class="sourceLangLabel"/><div class="sourceCode"><pre data-lang="pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">fun double(n):
  n + n
where:
  double(0) is 0
  double(10) is 20
  double(-1) is -2
end</code></pre></div></div></div><div class="SIntrapara">These can even be written for internal functions (i.e., functions
contained inside other functions), which isnâ€™t true for
<span class="RktSym">check-expect</span><span class="RktMeta"/>.</div><p/><div class="SIntrapara">In Pyret, unlike in Racket, a testing block can contain a
documentation string. This is used by Pyret when reporting test
successes and failures. For instance, try to run and see what you get:
</div><div class="SIntrapara"><p/><div class="sourceCodeWrapper"><span data-label="Pyret" class="sourceLangLabel"/><div class="sourceCode"><pre data-lang="pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">check "squaring always produces non-negatives":
  (0 * 0) is 0
  (-2 * -2) is 4
  (3 * 3) is 9
end</code></pre></div></div></div><div class="SIntrapara">This is useful for documenting the <span class="emph">purpose</span> of a testing block.</div><p>Just as in Racket, there are many testing operators in Pyret (in
addition to <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">is</code></span>). See
<a href="https://www.pyret.org/docs/latest/testing.html">the
documentation</a>.</p>&#13;
<h3 class="heading">28.5<span class="stt">Â </span><a name="(part._.Variable_.Names)"/>Variable Names<span class="button-group"><a href="#(part._.Variable_.Names)" class="heading-anchor" title="Link to here">ğŸ”—</a><span style="visibility: hidden"> </span></span></h3><p/><div class="SIntrapara">Both languages have a fairly permissive system for naming
variables. While you can use CamelCase and under_scores in both, it is
conventional to instead use what is known as
<a href="http://c2.com/cgi/wiki?KebabCase">kebab-case</a>.<span class="refelem"><span class="refcolumn"><span class="refcontent">This name is inaccurate. The word â€œkebabâ€
just means â€œmeatâ€. The skewer is the â€œshishâ€. Therefore, it ought
to at least be called â€œshish kebab caseâ€.</span></span></span> Thus:
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="TwoColumn"><tr><td><p><span style="font-weight: bold">RSW</span></p></td><td><p><span style="font-weight: bold">Pyret</span></p></td></tr><tr><td><p><span class="RktSym">this-is-a-name</span><span class="RktMeta"/></p></td><td><p><span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">this-is-a-name</code></span></p></td></tr></table></div><div class="SIntrapara">Even though Pyret has infix subtraction, the language can
unambiguously tell apart <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">this-name</code></span> (a variable) from
<span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">this - name</code></span> (a subtraction expression) because the <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">-</code></span> in
the latter must be surrounded by spaces.</div><p/><div class="SIntrapara">Despite this spacing convention, Pyret does not permit some of the
more exotic names permitted by Scheme. For instance, one can write
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">define</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktSym">e^i*pi</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktVal">-1</span><span class="RktPn">)</span><span class="RktMeta"/></td></tr></table></blockquote></div><div class="SIntrapara">in Scheme but that is not a valid variable name in Pyret.</div>&#13;
<h3 class="heading">28.6<span class="stt">Â </span><a name="(part._.Data_.Definitions)"/>Data Definitions<span class="button-group"><a href="#(part._.Data_.Definitions)" class="heading-anchor" title="Link to here">ğŸ”—</a><span style="visibility: hidden"> </span></span></h3><p/><div class="SIntrapara">Pyret diverges from Racket (and even more so from Scheme) in its
handling of data definitions. First, we will see how to define a
structure:
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="TwoColumn"><tr><td><p><span style="font-weight: bold">RSW</span></p></td><td><p><span style="font-weight: bold">Pyret</span></p></td></tr><tr><td><p><span class="RktPn">(</span><span class="RktSym">define-struct</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktSym">pt</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktPn">(</span><span class="RktSym">x</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktSym">y</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"/></p></td><td><p/><div class="sourceCodeWrapper"><span data-label="Pyret" class="sourceLangLabel"/><div class="sourceCode"><pre data-lang="pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">data Point:
  | pt(x, y)
end</code></pre></div></div></td></tr></table></div><p/><div class="SIntrapara">This might seem like a fair bit of overkill, but weâ€™ll see in a moment
why itâ€™s useful. Meanwhile, itâ€™s worth observing that when you have
only a single kind of datum in a data definition, it feels unwieldy to
take up so many lines. Writing it on one line is valid, but now it
feels ugly to have the <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">|</code></span> in the middle:
</div><div class="SIntrapara"><p/><div class="sourceCodeWrapper"><span data-label="Pyret" class="sourceLangLabel"/><div class="sourceCode"><pre data-lang="pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">data Point: | pt(x, y) end</code></pre></div></div></div><div class="SIntrapara">Therefore, Pyret permits you to drop the initial <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">|</code></span>, resulting
in the more readable
</div><div class="SIntrapara"><p/><div class="sourceCodeWrapper"><span data-label="Pyret" class="sourceLangLabel"/><div class="sourceCode"><pre data-lang="pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">data Point: pt(x, y) end</code></pre></div></div></div><p/><div class="SIntrapara">Now suppose we have two kinds of points. In the student languages of
Racket, we would describe this with a comment:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;;</span><span class="hspace">Â </span><span class="RktCmt">A</span><span class="hspace">Â </span><span class="RktCmt">Point</span><span class="hspace">Â </span><span class="RktCmt">is</span><span class="hspace">Â </span><span class="RktCmt">either</span><span class="RktMeta"/></td></tr><tr><td><span class="RktMeta"/><span class="RktCmt">;;</span><span class="hspace">Â </span><span class="RktCmt">-</span><span class="hspace">Â </span><span class="RktCmt">(pt</span><span class="hspace">Â </span><span class="RktCmt">number</span><span class="hspace">Â </span><span class="RktCmt">number),</span><span class="hspace">Â </span><span class="RktCmt">or</span><span class="RktMeta"/></td></tr><tr><td><span class="RktMeta"/><span class="RktCmt">;;</span><span class="hspace">Â </span><span class="RktCmt">-</span><span class="hspace">Â </span><span class="RktCmt">(pt3d</span><span class="hspace">Â </span><span class="RktCmt">number</span><span class="hspace">Â </span><span class="RktCmt">number</span><span class="hspace">Â </span><span class="RktCmt">number)</span><span class="RktMeta"/></td></tr></table></blockquote></div><div class="SIntrapara">In Pyret, we can express this directly:
</div><div class="SIntrapara"><p/><div class="sourceCodeWrapper"><span data-label="Pyret" class="sourceLangLabel"/><div class="sourceCode"><pre data-lang="pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">data Point:
  | pt(x, y)
  | pt3d(x, y, z)
end</code></pre></div></div></div><div class="SIntrapara">In short, Racket optimizes for the single-variant case, whereas Pyret
optimizes for the multi-variant case. As a result, it is difficult to
clearly express the multi-variant case in Racket, while it is unwieldy
to express the single-variant case in Pyret.</div><p/><div class="SIntrapara">For structures, both Racket and Pyret expose constructors, selectors,
and predicates. Constructors are just functions:
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="TwoColumn"><tr><td><p><span style="font-weight: bold">RSW</span></p></td><td><p><span style="font-weight: bold">Pyret</span></p></td></tr><tr><td><p><span class="RktPn">(</span><span class="RktSym">pt</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktVal">1</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktVal">2</span><span class="RktPn">)</span><span class="RktMeta"/></p></td><td><p><span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">pt(1, 2)</code></span></p></td></tr></table></div><div class="SIntrapara">Predicates are also functions with a particular naming scheme:
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="TwoColumn"><tr><td><p><span style="font-weight: bold">RSW</span></p></td><td><p><span style="font-weight: bold">Pyret</span></p></td></tr><tr><td><p><span class="RktPn">(</span><span class="RktSym">pt?</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktSym">x</span><span class="RktPn">)</span><span class="RktMeta"/></p></td><td><p><span class="RktSym">is-pt</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="RktMeta"/></p></td></tr></table></div><div class="SIntrapara">and they behave the same way (returning <span class="stt">true</span> if the argument
was constructed by that constructor, and <span class="stt">false</span> otherwise). In
contrast, selection is different in the two languages (and we will see
more about selection below, with <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">cases</code></span>):
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="TwoColumn"><tr><td><p><span style="font-weight: bold">RSW</span></p></td><td><p><span style="font-weight: bold">Pyret</span></p></td></tr><tr><td><p><span class="RktPn">(</span><span class="RktSym">pt-x</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktSym">v</span><span class="RktPn">)</span><span class="RktMeta"/></p></td><td><p><span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">v.x</code></span></p></td></tr></table></div><div class="SIntrapara">Note that in the Racket case, <span class="RktSym">pt-x</span><span class="RktMeta"/> checks that the parameter
was constructed by <span class="RktSym">pt</span><span class="RktMeta"/> before extracting the value of the
<span class="RktSym">x</span><span class="RktMeta"/> field. Thus, <span class="RktSym">pt-x</span><span class="RktMeta"/> and <span class="RktSym">pt3d-x</span><span class="RktMeta"/> are two different
functions and neither one can be used in place of the other. In
contast, in Pyret, <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">.x</code></span> extracts an <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">x</code></span> field of any value
that has such a field, without attention to how it was
constructed. Thus, we can use <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">.x</code></span> on a value whether it was
constructed by <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">pt</code></span> or <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">pt3d</code></span> (or indeed anything else with
that field). In contrast, <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">cases</code></span> does pay attention to this
distinction.</div>&#13;
<h3 class="heading">28.7<span class="stt">Â </span><a name="(part._.Conditionals)"/>Conditionals<span class="button-group"><a href="#(part._.Conditionals)" class="heading-anchor" title="Link to here">ğŸ”—</a><span style="visibility: hidden"> </span></span></h3><p>There are several kinds of conditionals in Pyret, one more than in the
Racket student languages.</p><p>General conditionals can be written using <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">if</code></span>, corresponding to
Racketâ€™s <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">if</code></span> but with more syntax.</p><p/><table cellspacing="0" cellpadding="0" class="TwoColumn"><tr><td><p><span style="font-weight: bold">RSW</span></p></td><td><p><span style="font-weight: bold">Pyret</span></p></td></tr><tr><td><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">if</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktSym">full-moon</span><span class="RktMeta"/></td></tr><tr><td><span class="RktMeta"/><span class="hspace">Â Â Â Â </span><span class="RktMeta"/><span class="RktVal">"howl"</span><span class="RktMeta"/></td></tr><tr><td><span class="RktMeta"/><span class="hspace">Â Â Â Â </span><span class="RktMeta"/><span class="RktVal">"meow"</span><span class="RktPn">)</span><span class="RktMeta"/></td></tr></table></blockquote></td><td><p/><div class="sourceCodeWrapper"><span data-label="Pyret" class="sourceLangLabel"/><div class="sourceCode"><pre data-lang="pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">if full-moon:
  "howl"
else:
  "meow"
end</code></pre></div></div></td></tr></table><p/><table cellspacing="0" cellpadding="0" class="TwoColumn"><tr><td><p><span style="font-weight: bold">RSW</span></p></td><td><p><span style="font-weight: bold">Pyret</span></p></td></tr><tr><td><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">if</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktSym">full-moon</span><span class="RktMeta"/></td></tr><tr><td><span class="RktMeta"/><span class="hspace">Â Â Â Â </span><span class="RktMeta"/><span class="RktVal">"howl"</span><span class="RktMeta"/></td></tr><tr><td><span class="RktMeta"/><span class="hspace">Â Â Â Â </span><span class="RktMeta"/><span class="RktPn">(</span><span class="RktSym">if</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktSym">new-moon</span><span class="RktMeta"/></td></tr><tr><td><span class="RktMeta"/><span class="hspace">Â Â Â Â Â Â Â Â </span><span class="RktMeta"/><span class="RktVal">"bark"</span><span class="RktMeta"/></td></tr><tr><td><span class="RktMeta"/><span class="hspace">Â Â Â Â Â Â Â Â </span><span class="RktMeta"/><span class="RktVal">"meow"</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"/></td></tr></table></blockquote></td><td><p/><div class="sourceCodeWrapper"><span data-label="Pyret" class="sourceLangLabel"/><div class="sourceCode"><pre data-lang="pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">if full-moon:
  "howl"
else if new-moon:
  "bark"
else:
  "meow"
end</code></pre></div></div></td></tr></table><p/><div class="SIntrapara">Note that <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">if</code></span> includes <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">else if</code></span>, which makes it possible
to list a collection of questions at the same level of indentation,
which <span class="RktSym">if</span><span class="RktMeta"/> in Racket does not have. The corresponding code in
Racket would be written
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">cond</span><span class="RktMeta"/></td></tr><tr><td><span class="RktMeta"/><span class="hspace">Â Â </span><span class="RktMeta"/><span class="RktPn">[</span><span class="RktSym">full-moon</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktVal">"howl"</span><span class="RktPn">]</span><span class="RktMeta"/></td></tr><tr><td><span class="RktMeta"/><span class="hspace">Â Â </span><span class="RktMeta"/><span class="RktPn">[</span><span class="RktSym">new-moon</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktVal">"bark"</span><span class="RktPn">]</span><span class="RktMeta"/></td></tr><tr><td><span class="RktMeta"/><span class="hspace">Â Â </span><span class="RktMeta"/><span class="RktPn">[</span><span class="RktSym">else</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktVal">"meow"</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktMeta"/></td></tr></table></blockquote></div><div class="SIntrapara">to restore the indentation. There is a similar construct in Pyret
called <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">ask</code></span>, designed to parallel <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">cond</code></span>:
</div><div class="SIntrapara"><p/><div class="sourceCodeWrapper"><span data-label="Pyret" class="sourceLangLabel"/><div class="sourceCode"><pre data-lang="pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">ask:
  | full-moon then: "howl"
  | new-moon then:  "bark"
  | otherwise:      "meow"
end</code></pre></div></div></div><p/><div class="SIntrapara">In Racket, we also use <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">cond</code></span> to dispatch on a datatype:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">cond</span><span class="RktMeta"/></td></tr><tr><td><span class="RktMeta"/><span class="hspace">Â Â </span><span class="RktMeta"/><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">pt?</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktSym">v</span><span class="RktPn">)</span><span class="RktMeta"/><span class="hspace">Â Â Â </span><span class="RktMeta"/><span class="RktPn">(</span><span class="RktSym">+</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktPn">(</span><span class="RktSym">pt-x</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktSym">v</span><span class="RktPn">)</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktPn">(</span><span class="RktSym">pt-y</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktSym">v</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktMeta"/></td></tr><tr><td><span class="RktMeta"/><span class="hspace">Â Â </span><span class="RktMeta"/><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">pt3d?</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktSym">v</span><span class="RktPn">)</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktPn">(</span><span class="RktSym">+</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktPn">(</span><span class="RktSym">pt-x</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktSym">v</span><span class="RktPn">)</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktPn">(</span><span class="RktSym">pt-z</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktSym">v</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktMeta"/></td></tr></table></blockquote></div><div class="SIntrapara">We <span class="emph">could</span> write this in close parallel in Pyret:
</div><div class="SIntrapara"><p/><div class="sourceCodeWrapper"><span data-label="Pyret" class="sourceLangLabel"/><div class="sourceCode"><pre data-lang="pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">ask:
  | is-pt(v)   then: v.x + v.y
  | is-pt3d(v) then: v.x + v.z
end</code></pre></div></div></div><div class="SIntrapara">or even as:
</div><div class="SIntrapara"><p/><div class="sourceCodeWrapper"><span data-label="Pyret" class="sourceLangLabel"/><div class="sourceCode"><pre data-lang="pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">if is-pt(v):
  v.x + v.y
else if is-pt3d(v):
  v.x + v.z
end</code></pre></div></div></div><div class="SIntrapara">(As in Racket student languages, the Pyret versions will signal an
error if no branch of the conditional matched.)</div><p/><div class="SIntrapara">However, Pyret provides a special syntax just for data
definitions:
</div><div class="SIntrapara"><p/><div class="sourceCodeWrapper"><span data-label="Pyret" class="sourceLangLabel"/><div class="sourceCode"><pre data-lang="pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">cases (Point) v:
  | pt(x, y)      =&gt; x + y
  | pt3d(x, y, z) =&gt; x + z
end</code></pre></div></div></div><div class="SIntrapara">This checks that <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">v</code></span> is a <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">Point</code></span>, provides a clean
syntactic way of identifying the different branches, <span class="emph">and</span> makes
it possible to give a concise local name to each field position
instead of having to use selectors like <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">.x</code></span>. In general, in
Pyret we prefer to use <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">cases</code></span> to process data
definitions. However, there are times when, for instance, there many
variants of data but a function processes only very few of them. In
such situations, it makes more sense to explicitly use predicates and
selectors.</div>&#13;
<h3 class="heading">28.8<span class="stt">Â </span><a name="(part._.Lists)"/>Lists<span class="button-group"><a href="#(part._.Lists)" class="heading-anchor" title="Link to here">ğŸ”—</a><span style="visibility: hidden"> </span></span></h3><p>In Racket, depending on the language level, lists are created using
either <span class="RktSym">cons</span><span class="RktMeta"/> or <span class="RktSym">list</span><span class="RktMeta"/>, with <span class="RktSym">empty</span><span class="RktMeta"/> for the empty
list. The corresponding notions in Pyret are called <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">link</code></span>,
<span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">list</code></span>, and <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">empty</code></span>, respectively. <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">link</code></span> is a
two-argument function, just as in Racket:</p><p/><table cellspacing="0" cellpadding="0" class="TwoColumn"><tr><td><p><span style="font-weight: bold">RSW</span></p></td><td><p><span style="font-weight: bold">Pyret</span></p></td></tr><tr><td><p><span class="RktPn">(</span><span class="RktSym">cons</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktVal">1</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktSym">empty</span><span class="RktPn">)</span><span class="RktMeta"/></p></td><td><p><span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">link(1, empty)</code></span></p></td></tr></table><p/><table cellspacing="0" cellpadding="0" class="TwoColumn"><tr><td><p><span style="font-weight: bold">RSW</span></p></td><td><p><span style="font-weight: bold">Pyret</span></p></td></tr><tr><td><p><span class="RktPn">(</span><span class="RktSym">list</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktVal">1</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktVal">2</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktVal">3</span><span class="RktPn">)</span><span class="RktMeta"/></p></td><td><p><span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">[list: 1, 2, 3]</code></span></p></td></tr></table><p>Note that the syntax <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">[1, 2, 3]</code></span>, which represents lists in many
languages, is <span class="emph">not</span> legal in Pyret: lists are not privileged with
their own syntax. Rather, we must use an explicit <span class="emph">constructor</span>:
just as <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">[list: 1, 2, 3]</code></span> constructs a list, <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">[set: 1, 2,
3]</code></span> constructs a set instead of a list.<span class="refelem"><span class="refcolumn"><span class="refcontent">In fact, we can
<a href="https://www.pyret.org/docs/latest/Expressions.html#%28part._s~3aconstruct-expr%29">create our own constructors</a>
and use them with this syntax.</span></span></span></p><blockquote class="Exercise"><p class="ExerciseHeader">Exercise</p><blockquote class="ExerciseBody"><p>Try typing <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">[1, 2, 3]</code></span> and see the error message.</p></blockquote></blockquote><p/><div class="SIntrapara">This shows us how to construct lists. To take them apart, we use
<span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">cases</code></span>. There are two variants, <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">empty</code></span> and <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">link</code></span>
(which we used to construct the lists):
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="TwoColumn"><tr><td><p><span style="font-weight: bold">RSW</span></p></td><td><p><span style="font-weight: bold">Pyret</span></p></td></tr><tr><td><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">cond</span><span class="RktMeta"/></td></tr><tr><td><span class="RktMeta"/><span class="hspace">Â Â </span><span class="RktMeta"/><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">empty?</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktSym">l</span><span class="RktPn">)</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktVal">0</span><span class="RktPn">]</span><span class="RktMeta"/></td></tr><tr><td><span class="RktMeta"/><span class="hspace">Â Â </span><span class="RktMeta"/><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">cons?</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktSym">l</span><span class="RktPn">)</span><span class="RktMeta"/></td></tr><tr><td><span class="RktMeta"/><span class="hspace">Â Â Â </span><span class="RktMeta"/><span class="RktPn">(</span><span class="RktSym">+</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktPn">(</span><span class="RktSym">first</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktSym">l</span><span class="RktPn">)</span><span class="RktMeta"/></td></tr><tr><td><span class="RktMeta"/><span class="hspace">Â Â Â Â Â Â </span><span class="RktMeta"/><span class="RktPn">(</span><span class="RktSym">g</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktPn">(</span><span class="RktSym">rest</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktSym">l</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktMeta"/></td></tr></table></blockquote></td><td><p/><div class="sourceCodeWrapper"><span data-label="Pyret" class="sourceLangLabel"/><div class="sourceCode"><pre data-lang="pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">cases (List) l:
  | empty      =&gt; 0
  | link(f, r) =&gt; f + g(r)
end</code></pre></div></div></td></tr></table></div><div class="SIntrapara">It is conventional to call the fields <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">f</code></span> and <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">r</code></span> (for
â€œfirstâ€ and â€œrestâ€). Of course, this convention does not work if
there are other things by the same name; in particular, when writing a
nested destructuring of a list, we conventionally write <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">fr</code></span> and
<span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">rr</code></span> (for â€œfirst of the restâ€ and â€œrest of the restâ€).</div>&#13;
<h3 class="heading">28.9<span class="stt">Â </span><a name="(part._.First-.Class_.Functions)"/>First-Class Functions<span class="button-group"><a href="#(part._.First-.Class_.Functions)" class="heading-anchor" title="Link to here">ğŸ”—</a><span style="visibility: hidden"> </span></span></h3><p/><div class="SIntrapara">The equivalent of Racketâ€™s <span class="RktSym">lambda</span><span class="RktMeta"/> is Pyretâ€™s <span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">lam</code></span>:
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="TwoColumn"><tr><td><p><span style="font-weight: bold">RSW</span></p></td><td><p><span style="font-weight: bold">Pyret</span></p></td></tr><tr><td><p><span class="RktPn">(</span><span class="RktSym">lambda</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktPn">(</span><span class="RktSym">x</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktSym">y</span><span class="RktPn">)</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktPn">(</span><span class="RktSym">+</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktSym">x</span><span class="RktMeta"/><span class="hspace">Â </span><span class="RktMeta"/><span class="RktSym">y</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"/></p></td><td><p><span title="Pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">lam(x, y): x + y end</code></span></p></td></tr></table></div>&#13;
<h3 class="heading">28.10<span class="stt">Â </span><a name="(part._.Annotations)"/>Annotations<span class="button-group"><a href="#(part._.Annotations)" class="heading-anchor" title="Link to here">ğŸ”—</a><span style="visibility: hidden"> </span></span></h3><p/><div class="SIntrapara">In student Racket languages, annotations are usually written as comments:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;</span><span class="hspace">Â </span><span class="RktCmt">square:</span><span class="hspace">Â </span><span class="RktCmt">Number</span><span class="hspace">Â </span><span class="RktCmt">-&gt;</span><span class="hspace">Â </span><span class="RktCmt">Number</span><span class="RktMeta"/></td></tr><tr><td><span class="RktMeta"/><span class="RktCmt">;</span><span class="hspace">Â </span><span class="RktCmt">sort-nums:</span><span class="hspace">Â </span><span class="RktCmt">List&lt;Number&gt;</span><span class="hspace">Â </span><span class="RktCmt">-&gt;</span><span class="hspace">Â </span><span class="RktCmt">List&lt;Number&gt;</span><span class="RktMeta"/></td></tr><tr><td><span class="RktMeta"/><span class="RktCmt">;</span><span class="hspace">Â </span><span class="RktCmt">sort:</span><span class="hspace">Â </span><span class="RktCmt">List&lt;T&gt;</span><span class="hspace">Â </span><span class="RktCmt">*</span><span class="hspace">Â </span><span class="RktCmt">(T</span><span class="hspace">Â </span><span class="RktCmt">*</span><span class="hspace">Â </span><span class="RktCmt">T</span><span class="hspace">Â </span><span class="RktCmt">-&gt;</span><span class="hspace">Â </span><span class="RktCmt">Boolean)</span><span class="hspace">Â </span><span class="RktCmt">-&gt;</span><span class="hspace">Â </span><span class="RktCmt">List&lt;T&gt;</span><span class="RktMeta"/></td></tr></table></blockquote></div><div class="SIntrapara">In Pyret, we write the annotations directly on the parameters and
return values. Pyret will check them to a limited extent dynamically,
and can check them statically with its type checker. The corresponding
annotations to those above would be written as
</div><div class="SIntrapara"><p/><div class="sourceCodeWrapper"><span data-label="Pyret" class="sourceLangLabel"/><div class="sourceCode"><pre data-lang="pyret" class="sourceCode"><code data-lang="pyret" class="sourceCode">fun square(n :: Number) -&gt; Number: ...

fun sort-nums(l :: List&lt;Number&gt;) -&gt; List&lt;Number&gt;: ...

fun sort&lt;T&gt;(l :: List&lt;T&gt;, cmp :: (T, T -&gt; Boolean)) -&gt; List&lt;T&gt;: ...</code></pre></div></div></div>&#13;
<h3 class="heading">28.11<span class="stt">Â </span><a name="(part._.What_.Else_)"/>What Else?<span class="button-group"><a href="#(part._.What_.Else_)" class="heading-anchor" title="Link to here">ğŸ”—</a><span style="visibility: hidden"> </span></span></h3><p>If there are other parts of Scheme or Racket syntax that you would
like to see translated, please
<a href="http://cs.brown.edu/~sk/Contact/">let us know</a>.</p>    
</body>
</html>