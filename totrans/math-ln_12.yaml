- en: 12\. Differential Calculusïƒ
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 12\. å¾®åˆ†å­¦ïƒ
- en: åŸæ–‡ï¼š[https://leanprover-community.github.io/mathematics_in_lean/C12_Differential_Calculus.html](https://leanprover-community.github.io/mathematics_in_lean/C12_Differential_Calculus.html)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: åŸæ–‡ï¼š[https://leanprover-community.github.io/mathematics_in_lean/C12_Differential_Calculus.html](https://leanprover-community.github.io/mathematics_in_lean/C12_Differential_Calculus.html)
- en: '*[Mathematics in Lean](index.html)* **   12\. Differential Calculus'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: '*[Leanä¸­çš„æ•°å­¦](index.html)* **   12. å¾®åˆ†å­¦'
- en: '[View page source](_sources/C12_Differential_Calculus.rst.txt)'
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[æŸ¥çœ‹é¡µé¢æºä»£ç ](_sources/C12_Differential_Calculus.rst.txt)'
- en: '* * *'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: We now consider the formalization of notions from *analysis*, starting with
    differentiation in this chapter and turning integration and measure theory in
    the next. In [Section 12.1](#elementary-differential-calculus), we stick with
    the setting of functions from the real numbers to the real numbers, which is familiar
    from any introductory calculus class. In [Section 12.2](#normed-spaces), we then
    consider the notion of a derivative in a much broader setting.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ç°åœ¨è€ƒè™‘ä»*åˆ†æ*ä¸­çš„æ¦‚å¿µçš„å½¢å¼åŒ–ï¼Œä»æœ¬ç« çš„å¾®åˆ†å¼€å§‹ï¼Œå¹¶åœ¨ä¸‹ä¸€ç« è½¬å‘ç§¯åˆ†å’Œæµ‹åº¦ç†è®ºã€‚åœ¨[ç¬¬12.1èŠ‚](#elementary-differential-calculus)ï¼Œæˆ‘ä»¬åšæŒä½¿ç”¨ä»å®æ•°åˆ°å®æ•°çš„å‡½æ•°çš„è®¾ç½®ï¼Œè¿™åœ¨ä»»ä½•åˆç­‰å¾®ç§¯åˆ†è¯¾ç¨‹ä¸­éƒ½å¾ˆç†Ÿæ‚‰ã€‚åœ¨[ç¬¬12.2èŠ‚](#normed-spaces)ï¼Œæˆ‘ä»¬éšåè€ƒè™‘åœ¨æ›´å¹¿æ³›çš„è®¾ç½®ä¸­çš„å¯¼æ•°æ¦‚å¿µã€‚
- en: '## 12.1\. Elementary Differential Calculus[ïƒ](#elementary-differential-calculus
    "Link to this heading")'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: '## 12.1\. åŸºç¡€å¾®åˆ†å­¦[ïƒ](#elementary-differential-calculus "é“¾æ¥åˆ°è¿™ä¸ªæ ‡é¢˜")'
- en: Let `f` be a function from the reals to the reals. There is a difference between
    talking about the derivative of `f` at a single point and talking about the derivative
    function. In Mathlib, the first notion is represented as follows.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: è®¾`f`æ˜¯ä»å®æ•°åˆ°å®æ•°çš„å‡½æ•°ã€‚åœ¨è°ˆè®º`f`åœ¨å•ä¸€ç‚¹çš„å¯¼æ•°å’Œè°ˆè®ºå¯¼æ•°å‡½æ•°ä¹‹é—´æœ‰ä¸€ä¸ªåŒºåˆ«ã€‚åœ¨Mathlibä¸­ï¼Œç¬¬ä¸€ä¸ªæ¦‚å¿µå¦‚ä¸‹è¡¨ç¤ºã€‚
- en: '[PRE0]'
  id: totrans-8
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: We can also express that `f` is differentiable at a point without specifying
    its derivative there by writing `DifferentiableAt â„`. We specify `â„` explicitly
    because in a slightly more general context, when talking about functions from
    `â„‚` to `â„‚`, we want to be able to distinguish between being differentiable in
    the real sense and being differentiable in the sense of the complex derivative.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡å†™ä½œ`DifferentiableAt â„`æ¥è¡¨ç¤ºå‡½æ•°åœ¨ä¸€ç‚¹å¯å¯¼ï¼Œè€Œä¸å¿…æŒ‡å®šå…¶åœ¨è¯¥ç‚¹çš„å¯¼æ•°ã€‚æˆ‘ä»¬æ˜ç¡®æŒ‡å®š`â„`æ˜¯å› ä¸ºåœ¨ç¨å¾®æ›´ä¸€èˆ¬çš„æƒ…å†µä¸‹ï¼Œå½“æˆ‘ä»¬è°ˆè®ºä»`â„‚`åˆ°`â„‚`çš„å‡½æ•°æ—¶ï¼Œæˆ‘ä»¬å¸Œæœ›èƒ½å¤ŸåŒºåˆ†åœ¨å®æ„ä¹‰ä¸‹å¯å¯¼å’Œåœ¨å¤å¯¼æ•°æ„ä¹‰ä¸‹å¯å¯¼ã€‚
- en: '[PRE1]'
  id: totrans-10
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'It would be inconvenient to have to provide a proof of differentiability every
    time we want to refer to a derivative. So Mathlib provides a function `deriv f
    : â„ â†’ â„` that is defined for any function `f : â„ â†’ â„` but is defined to take the
    value `0` at any point where `f` is not differentiable.'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 'æ¯æ¬¡æˆ‘ä»¬æƒ³è¦å¼•ç”¨å¯¼æ•°æ—¶éƒ½å¿…é¡»æä¾›å¯å¯¼æ€§çš„è¯æ˜å°†ä¼šå¾ˆéº»çƒ¦ã€‚å› æ­¤ï¼ŒMathlibæä¾›äº†ä¸€ä¸ªå‡½æ•°`deriv f : â„ â†’ â„`ï¼Œå®ƒå¯¹ä»»ä½•å‡½æ•°`f : â„
    â†’ â„`éƒ½å®šä¹‰ï¼Œä½†åœ¨`f`ä¸å¯å¯¼çš„ä»»ä½•ç‚¹ä¸Šå®šä¹‰ä¸º`0`ã€‚'
- en: '[PRE2]'
  id: totrans-12
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: Of course there are many lemmas about `deriv` that do require differentiability
    assumptions. For instance, you should think about a counterexample to the next
    lemma without the differentiability assumptions.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: å½“ç„¶ï¼Œå…³äº`deriv`çš„å¼•ç†æœ‰å¾ˆå¤šç¡®å®éœ€è¦å¯å¯¼æ€§å‡è®¾ã€‚ä¾‹å¦‚ï¼Œä½ åº”è¯¥è€ƒè™‘åœ¨æ²¡æœ‰å¯å¯¼æ€§å‡è®¾çš„æƒ…å†µä¸‹ï¼Œä¸‹ä¸€ä¸ªå¼•ç†çš„åä¾‹ã€‚
- en: '[PRE3]'
  id: totrans-14
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Interestingly, however, there are statements that can avoid differentiability
    assumptions by taking advantage of the fact that the value of `deriv` defaults
    to zero when the function is not differentiable. So making sense of the following
    statement requires knowing the precise definition of `deriv`.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶è€Œï¼Œæœ‰è¶£çš„æ˜¯ï¼Œæœ‰ä¸€äº›é™ˆè¿°å¯ä»¥é€šè¿‡åˆ©ç”¨`deriv`çš„å€¼åœ¨å‡½æ•°ä¸å¯å¯¼æ—¶é»˜è®¤ä¸ºé›¶çš„äº‹å®æ¥é¿å…å¯å¯¼æ€§å‡è®¾ã€‚å› æ­¤ï¼Œç†è§£ä»¥ä¸‹é™ˆè¿°éœ€è¦çŸ¥é“`deriv`çš„ç¡®åˆ‡å®šä¹‰ã€‚
- en: '[PRE4]'
  id: totrans-16
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: We can even state Rolleâ€™s theorem without any differentiability assumptions,
    which seems even weirder.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ç”šè‡³å¯ä»¥åœ¨æ²¡æœ‰ä»»ä½•å¯å¯¼æ€§å‡è®¾çš„æƒ…å†µä¸‹é™ˆè¿°ç½—å°”å®šç†ï¼Œè¿™çœ‹èµ·æ¥ç”šè‡³æ›´å¥‡æ€ªã€‚
- en: '[PRE5]'
  id: totrans-18
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: Of course, this trick does not work for the general mean value theorem.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: å½“ç„¶ï¼Œè¿™ä¸ªæŠ€å·§å¯¹ä¸€èˆ¬å¹³å‡å€¼å®šç†ä¸é€‚ç”¨ã€‚
- en: '[PRE6]'
  id: totrans-20
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: Lean can automatically compute some simple derivatives using the `simp` tactic.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: Leanå¯ä»¥ä½¿ç”¨`simp`ç­–ç•¥è‡ªåŠ¨è®¡ç®—ä¸€äº›ç®€å•çš„å¯¼æ•°ã€‚
- en: '[PRE7]  ## 12.2\. Differential Calculus in Normed Spaces[ïƒ](#differential-calculus-in-normed-spaces
    "Link to this heading")'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE7]  ## 12.2\. èŒƒæ•°ç©ºé—´ä¸­çš„å¾®åˆ†å­¦[ïƒ](#differential-calculus-in-normed-spaces "é“¾æ¥åˆ°è¿™ä¸ªæ ‡é¢˜")'
- en: 12.2.1\. Normed spaces[ïƒ](#id3 "Link to this heading")
  id: totrans-23
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 12.2.1\. èŒƒæ•°ç©ºé—´[ïƒ](#id3 "é“¾æ¥åˆ°è¿™ä¸ªæ ‡é¢˜")
- en: Differentiation can be generalized beyond `â„` using the notion of a *normed
    vector space*, which encapsulates both direction and distance. We start with the
    notion of a *normed group*, which is an additive commutative group equipped with
    a real-valued norm function satisfying the following conditions.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: å¯ä»¥ä½¿ç”¨**èŒƒæ•°å‘é‡ç©ºé—´**çš„æ¦‚å¿µå°†å¾®åˆ†æ¨å¹¿åˆ°`â„`ä¹‹å¤–ï¼Œè¿™ä¸ªæ¦‚å¿µåŒ…å«äº†æ–¹å‘å’Œè·ç¦»ã€‚æˆ‘ä»¬é¦–å…ˆä»**èŒƒæ•°ç¾¤**çš„æ¦‚å¿µå¼€å§‹ï¼Œè¿™æ˜¯ä¸€ä¸ªåŠ æ³•äº¤æ¢ç¾¤ï¼Œå®ƒé…å¤‡äº†ä¸€ä¸ªæ»¡è¶³ä»¥ä¸‹æ¡ä»¶çš„å®å€¼èŒƒæ•°å‡½æ•°ã€‚
- en: '[PRE8]'
  id: totrans-25
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: Every normed space is a metric space with distance function \(d(x, y) = \| x
    - y \|\), and hence it is also a topological space. Lean and Mathlib know this.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: æ¯ä¸ªèŒƒæ•°ç©ºé—´éƒ½æ˜¯ä¸€ä¸ªå¸¦æœ‰è·ç¦»å‡½æ•° \(d(x, y) = \| x - y \|\) çš„åº¦é‡ç©ºé—´ï¼Œå› æ­¤å®ƒä¹Ÿæ˜¯ä¸€ä¸ªæ‹“æ‰‘ç©ºé—´ã€‚Leanå’ŒMathlibéƒ½çŸ¥é“è¿™ä¸€ç‚¹ã€‚
- en: '[PRE9]'
  id: totrans-27
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: In order to use the notion of a norm with concepts from linear algebra, we add
    the assumption `NormedSpace â„ E` on top of `NormedAddGroup E`. This stipulates
    that `E` is a vector space over `â„` and that scalar multiplication satisfies the
    following condition.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†ä½¿ç”¨çº¿æ€§ä»£æ•°ä¸­çš„èŒƒæ•°æ¦‚å¿µï¼Œæˆ‘ä»¬åœ¨`NormedAddGroup E`ä¹‹ä¸Šæ·»åŠ äº†å‡è®¾`NormedSpace â„ E`ã€‚è¿™è§„å®š`E`æ˜¯`â„`ä¸Šçš„ä¸€ä¸ªå‘é‡ç©ºé—´ï¼Œå¹¶ä¸”æ ‡é‡ä¹˜æ³•æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ã€‚
- en: '[PRE10]'
  id: totrans-29
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: A complete normed space is known as a *Banach space*. Every finite-dimensional
    vector space is complete.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: å®Œå…¨èŒƒæ•°ç©ºé—´è¢«ç§°ä¸º**Banachç©ºé—´**ã€‚æ¯ä¸ªæœ‰é™ç»´å‘é‡ç©ºé—´éƒ½æ˜¯å®Œå¤‡çš„ã€‚
- en: '[PRE11]'
  id: totrans-31
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: In all the previous examples, we used the real numbers as the base field. More
    generally, we can make sense of calculus with a vector space over any *nontrivially
    normed field*. These are fields that are equipped with a real-valued norm that
    is multiplicative and has the property that not every element has norm zero or
    one (equivalently, there is an element whose norm is bigger than one).
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æ‰€æœ‰ä¹‹å‰çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†å®æ•°ä½œä¸ºåŸºåŸŸã€‚æ›´ä¸€èˆ¬åœ°ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹ä»»ä½•**éå¹³å‡¡èŒƒæ•°åŸŸ**ä¸Šçš„å‘é‡ç©ºé—´è¿›è¡Œå¾®ç§¯åˆ†ã€‚è¿™äº›æ˜¯é…å¤‡äº†å®å€¼èŒƒæ•°ä¸”èŒƒæ•°ä¹˜æ³•å…·æœ‰æ€§è´¨ï¼ˆå³å¹¶éæ¯ä¸ªå…ƒç´ éƒ½æœ‰èŒƒæ•°é›¶æˆ–ä¸€ï¼Œæˆ–è€…è¯´å­˜åœ¨ä¸€ä¸ªèŒƒæ•°å¤§äºä¸€çš„å…ƒç´ ï¼‰çš„åŸŸã€‚
- en: '[PRE12]'
  id: totrans-33
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: A finite-dimensional vector space over a nontrivially normed field is complete
    as long as the field itself is complete.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨éå¹³å‡¡èŒƒæ•°åŸŸä¸Šçš„æœ‰é™ç»´å‘é‡ç©ºé—´åªè¦è¯¥åŸŸæœ¬èº«æ˜¯å®Œå¤‡çš„ï¼Œå°±æ˜¯å®Œå¤‡çš„ã€‚
- en: '[PRE13]'
  id: totrans-35
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: 12.2.2\. Continuous linear maps[ïƒ](#continuous-linear-maps "Link to this heading")
  id: totrans-36
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 12.2.2\. è¿ç»­çº¿æ€§æ˜ å°„[ïƒ](#continuous-linear-maps "é“¾æ¥åˆ°è¿™ä¸ªæ ‡é¢˜")
- en: We now turn to the morphisms in the category of normed spaces, namely, continuous
    linear maps. In Mathlib, the type of `ğ•œ`-linear continuous maps between normed
    spaces `E` and `F` is written `E â†’L[ğ•œ] F`. They are implemented as *bundled maps*,
    which means that an element of this type a structure that that includes the function
    itself and the properties of being linear and continuous. Lean will insert a coercion
    so that a continuous linear map can be treated as a function.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨æˆ‘ä»¬è½¬å‘èŒƒæ•°ç©ºé—´èŒƒç•´ä¸­çš„æ€å°„ï¼Œå³è¿ç»­çº¿æ€§æ˜ å°„ã€‚åœ¨Mathlibä¸­ï¼ŒèŒƒæ•°ç©ºé—´`E`å’Œ`F`ä¹‹é—´`ğ•œ`-çº¿æ€§è¿ç»­æ˜ å°„çš„ç±»å‹è¢«å†™æˆ`E â†’L[ğ•œ] F`ã€‚å®ƒä»¬è¢«å®ç°ä¸º**æ†ç»‘æ˜ å°„**ï¼Œè¿™æ„å‘³ç€è¿™ä¸ªç±»å‹çš„å…ƒç´ åŒ…å«å‡½æ•°æœ¬èº«ä»¥åŠçº¿æ€§æ€§å’Œè¿ç»­æ€§çš„å±æ€§ã€‚Leanå°†æ’å…¥ä¸€ä¸ªå¼ºåˆ¶è½¬æ¢ï¼Œä»¥ä¾¿è¿ç»­çº¿æ€§æ˜ å°„å¯ä»¥è¢«è§†ä¸ºä¸€ä¸ªå‡½æ•°ã€‚
- en: '[PRE14]'
  id: totrans-38
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: Continuous linear maps have an operator norm that is characterized by the following
    properties.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: è¿ç»­çº¿æ€§æ˜ å°„æœ‰ä¸€ä¸ªç”±ä»¥ä¸‹æ€§è´¨è¡¨å¾çš„ç®—å­èŒƒæ•°ã€‚
- en: '[PRE15]'
  id: totrans-40
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: There is also a notion of bundled continuous linear *isomorphism*. Their type
    of such isomorphisms is `E â‰ƒL[ğ•œ] F`.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: è¿˜æœ‰ä¸€ä¸ªå…³äºæ†ç»‘è¿ç»­çº¿æ€§**åŒæ„**çš„æ¦‚å¿µã€‚è¿™ç±»åŒæ„çš„ç±»å‹æ˜¯`E â‰ƒL[ğ•œ] F`ã€‚
- en: As a challenging exercise, you can prove the Banach-Steinhaus theorem, also
    known as the Uniform Boundedness Principle. The principle states that a family
    of continuous linear maps from a Banach space into a normed space is pointwise
    bounded, then the norms of these linear maps are uniformly bounded. The main ingredient
    is Baireâ€™s theorem `nonempty_interior_of_iUnion_of_closed`. (You proved a version
    of this in the topology chapter.) Minor ingredients include `continuous_linear_map.opNorm_le_of_shell`,
    `interior_subset` and `interior_iInter_subset` and `isClosed_le`.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: ä½œä¸ºä¸€é¡¹å…·æœ‰æŒ‘æˆ˜æ€§çš„ç»ƒä¹ ï¼Œä½ å¯ä»¥è¯æ˜Banach-Steinhauså®šç†ï¼Œä¹Ÿç§°ä¸ºä¸€è‡´æœ‰ç•Œæ€§åŸç†ã€‚è¯¥åŸç†è¡¨æ˜ï¼Œä»Banachç©ºé—´åˆ°èŒƒæ•°ç©ºé—´çš„ä¸€æ—è¿ç»­çº¿æ€§æ˜ å°„åœ¨æ¯ä¸€ç‚¹ä¸Šæ˜¯æœ‰ç•Œçš„ï¼Œé‚£ä¹ˆè¿™äº›çº¿æ€§æ˜ å°„çš„èŒƒæ•°æ˜¯ä¸€è‡´æœ‰ç•Œçš„ã€‚ä¸»è¦æˆåˆ†æ˜¯Baireå®šç†`nonempty_interior_of_iUnion_of_closed`ã€‚ï¼ˆä½ åœ¨æ‹“æ‰‘ç« èŠ‚ä¸­è¯æ˜äº†è¿™ä¸€ç‰ˆæœ¬ã€‚ï¼‰æ¬¡è¦æˆåˆ†åŒ…æ‹¬`continuous_linear_map.opNorm_le_of_shell`ã€`interior_subset`å’Œ`interior_iInter_subset`ä»¥åŠ`isClosed_le`ã€‚
- en: '[PRE16]'
  id: totrans-43
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: 12.2.3\. Asymptotic comparisons[ïƒ](#asymptotic-comparisons "Link to this heading")
  id: totrans-44
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 12.2.3\. æ¸è¿‘æ¯”è¾ƒ[ïƒ](#asymptotic-comparisons "é“¾æ¥åˆ°è¿™ä¸ªæ ‡é¢˜")
- en: Defining differentiability also requires asymptotic comparisons. Mathlib has
    an extensive library covering the big O and little o relations, whose definitions
    are shown below. Opening the `asymptotics` locale allows us to use the corresponding
    notation. Here we will only use little o to define differentiability.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: å®šä¹‰å¯å¾®æ€§è¿˜éœ€è¦è¿›è¡Œæ¸è¿‘æ¯”è¾ƒã€‚Mathlib æœ‰ä¸€ä¸ªå¹¿æ³›çš„åº“ï¼Œæ¶µç›–äº†å¤§çš„ O å’Œå°çš„ o å…³ç³»ï¼Œå…¶å®šä¹‰å¦‚ä¸‹æ‰€ç¤ºã€‚æ‰“å¼€ `asymptotics` å±€åŸŸå…è®¸æˆ‘ä»¬ä½¿ç”¨ç›¸åº”çš„ç¬¦å·ã€‚è¿™é‡Œæˆ‘ä»¬åªä½¿ç”¨å°çš„
    o æ¥å®šä¹‰å¯å¾®æ€§ã€‚
- en: '[PRE17]'
  id: totrans-46
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: 12.2.4\. Differentiability[ïƒ](#differentiability "Link to this heading")
  id: totrans-47
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 12.2.4\. å¯å¾®æ€§[ïƒ](#differentiability "é“¾æ¥åˆ°è¿™ä¸ªæ ‡é¢˜")
- en: We are now ready to discuss differentiable functions between normed spaces.
    In analogy the elementary one-dimensional, Mathlib defines a predicate `HasFDerivAt`
    and a function `fderiv`. Here the letter â€œfâ€ stands for *FrÃ©chet*.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ç°åœ¨å¯ä»¥è®¨è®ºèŒƒæ•°ç©ºé—´ä¹‹é—´çš„å¯å¾®å‡½æ•°ã€‚ç±»ä¼¼äºä¸€ç»´çš„åˆç­‰æƒ…å†µï¼ŒMathlib å®šä¹‰äº†ä¸€ä¸ªè°“è¯ `HasFDerivAt` å’Œä¸€ä¸ªå‡½æ•° `fderiv`ã€‚è¿™é‡Œçš„å­—æ¯â€œfâ€ä»£è¡¨
    *FrÃ©chet*ã€‚
- en: '[PRE18]'
  id: totrans-49
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: We also have iterated derivatives that take values in the type of multilinear
    maps `E [Ã—n]â†’L[ğ•œ] F`, and we have continuously differential functions. The type
    `â„•âˆ` is `â„•` with an additional element `âˆ` that is bigger than every natural number.
    So \(\mathcal{C}^\infty\) functions are functions `f` that satisfy `ContDiff ğ•œ
    âŠ¤ f`.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬è¿˜æœ‰è¿­ä»£å¯¼æ•°ï¼Œå…¶å€¼åœ¨å¤šçº¿æ€§æ˜ å°„ç±»å‹ `E [Ã—n]â†’L[ğ•œ] F` ä¸­ï¼Œå¹¶ä¸”æˆ‘ä»¬æœ‰è¿ç»­å¯å¾®å‡½æ•°ã€‚ç±»å‹ `â„•âˆ` æ˜¯ `â„•` åŠ ä¸Šä¸€ä¸ªé¢å¤–çš„å…ƒç´  `âˆ`ï¼Œå®ƒæ¯”ä»»ä½•è‡ªç„¶æ•°éƒ½å¤§ã€‚å› æ­¤ï¼Œ\(\mathcal{C}^\infty\)
    å‡½æ•°æ˜¯æ»¡è¶³ `ContDiff ğ•œ âŠ¤ f` çš„å‡½æ•° `f`ã€‚
- en: '[PRE19]'
  id: totrans-51
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: 'The differentiability parameter in `ContDiff` can also take value `Ï‰ : WithTop
    â„•âˆ` to denote analytic functions.'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: '`ContDiff` ä¸­çš„å¯å¾®å‚æ•°ä¹Ÿå¯ä»¥å–å€¼ `Ï‰ : WithTop â„•âˆ` æ¥è¡¨ç¤ºè§£æå‡½æ•°ã€‚'
- en: There is a stricter notion of differentiability called `HasStrictFDerivAt`,
    which is used in the statement of the inverse function theorem and the statement
    of the implicit function theorem, both of which are in Mathlib. Over `â„` or `â„‚`,
    continuously differentiable functions are strictly differentiable.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: æœ‰ä¸€ä¸ªæ›´ä¸¥æ ¼çš„å¯å¾®æ€§æ¦‚å¿µç§°ä¸º `HasStrictFDerivAt`ï¼Œå®ƒåœ¨é€†å‡½æ•°å®šç†å’Œéšå‡½æ•°å®šç†çš„é™ˆè¿°ä¸­ä½¿ç”¨ï¼Œè¿™ä¸¤ä¸ªå®šç†éƒ½åœ¨ Mathlib ä¸­ã€‚åœ¨ `â„`
    æˆ– `â„‚` ä¸Šï¼Œè¿ç»­å¯å¾®å‡½æ•°æ˜¯ä¸¥æ ¼å¯å¾®çš„ã€‚
- en: '[PRE20]'
  id: totrans-54
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: The local inverse theorem is stated using an operation that produces an inverse
    function from a function and the assumptions that the function is strictly differentiable
    at a point `a` and that its derivative is an isomorphism.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: å±€éƒ¨é€†å®šç†æ˜¯é€šè¿‡ä¸€ä¸ªæ“ä½œæ¥é™ˆè¿°çš„ï¼Œè¯¥æ“ä½œä»ä¸€ä¸ªå‡½æ•°å’Œå‡è®¾å‡½æ•°åœ¨ç‚¹ `a` å¤„ä¸¥æ ¼å¯å¾®ä»¥åŠå…¶å¯¼æ•°æ˜¯ä¸€ä¸ªåŒæ„æ¥ç”Ÿæˆä¸€ä¸ªé€†å‡½æ•°ã€‚
- en: The first example below gets this local inverse. The next one states that it
    is indeed a local inverse from the left and from the right, and that it is strictly
    differentiable.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸‹é¢çš„ç¬¬ä¸€ä¸ªä¾‹å­å¾—åˆ°äº†è¿™ä¸ªå±€éƒ¨é€†ã€‚ä¸‹ä¸€ä¸ªä¾‹å­é™ˆè¿°äº†å®ƒç¡®å®æ˜¯å·¦å’Œå³çš„å±€éƒ¨é€†ï¼Œå¹¶ä¸”å®ƒæ˜¯ä¸¥æ ¼å¯å¾®çš„ã€‚
- en: '[PRE21]'
  id: totrans-57
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: This has been only a quick tour of the differential calculus in Mathlib. The
    library contains many variations that we have not discussed. For example, you
    may want to use one-sided derivatives in the one-dimensional setting. The means
    to do so are found in Mathlib in a more general context; see `HasFDerivWithinAt`
    or the even more general `HasFDerivAtFilter`. [Previous](C11_Topology.html "11\.
    Topology") [Next](C13_Integration_and_Measure_Theory.html "13\. Integration and
    Measure Theory")
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™åªæ˜¯å¯¹ Mathlib ä¸­çš„å¾®åˆ†å­¦çš„å¿«é€Ÿæµè§ˆã€‚åº“ä¸­åŒ…å«äº†è®¸å¤šæˆ‘ä»¬æ²¡æœ‰è®¨è®ºçš„å˜ä½“ã€‚ä¾‹å¦‚ï¼Œä½ å¯èƒ½æƒ³åœ¨å•å˜é‡è®¾ç½®ä¸­ä½¿ç”¨å•ä¾§å¯¼æ•°ã€‚è¿™æ ·åšçš„æ–¹æ³•åœ¨ Mathlib
    çš„æ›´ä¸€èˆ¬èƒŒæ™¯ä¸‹å¯ä»¥æ‰¾åˆ°ï¼›å‚è§ `HasFDerivWithinAt` æˆ–æ›´é€šç”¨çš„ `HasFDerivAtFilter`ã€‚[ä¸Šä¸€èŠ‚](C11_Topology.html
    "11\. Topology") [ä¸‹ä¸€èŠ‚](C13_Integration_and_Measure_Theory.html "13\. Integration
    and Measure Theory")
- en: '* * *'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: Â© Copyright 2020-2025, Jeremy Avigad, Patrick Massot. Text licensed under CC
    BY 4.0.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: Â© ç‰ˆæƒ 2020-2025ï¼ŒJeremy Avigadï¼ŒPatrick Massotã€‚æ–‡æœ¬è®¸å¯åè®®ä¸º CC BY 4.0ã€‚
- en: Built with [Sphinx](https://www.sphinx-doc.org/) using a [theme](https://github.com/readthedocs/sphinx_rtd_theme)
    provided by [Read the Docs](https://readthedocs.org). We now consider the formalization
    of notions from *analysis*, starting with differentiation in this chapter and
    turning integration and measure theory in the next. In [Section 12.1](#elementary-differential-calculus),
    we stick with the setting of functions from the real numbers to the real numbers,
    which is familiar from any introductory calculus class. In [Section 12.2](#normed-spaces),
    we then consider the notion of a derivative in a much broader setting.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨ [Sphinx](https://www.sphinx-doc.org/) å’Œç”± [Read the Docs](https://readthedocs.org)
    æä¾›çš„ [ä¸»é¢˜](https://github.com/readthedocs/sphinx_rtd_theme) æ„å»ºã€‚æˆ‘ä»¬ç°åœ¨è€ƒè™‘ä» *åˆ†æ* çš„æ¦‚å¿µå½¢å¼åŒ–ï¼Œä»æœ¬ç« çš„å¾®åˆ†å¼€å§‹ï¼Œå¹¶åœ¨ä¸‹ä¸€ç« è½¬å‘ç§¯åˆ†å’Œæµ‹åº¦ç†è®ºã€‚åœ¨
    [ç¬¬ 12.1 èŠ‚](#elementary-differential-calculus) ä¸­ï¼Œæˆ‘ä»¬åšæŒä½¿ç”¨ä»å®æ•°åˆ°å®æ•°çš„å‡½æ•°çš„è®¾ç½®ï¼Œè¿™åœ¨ä»»ä½•åˆç­‰å¾®ç§¯åˆ†è¯¾ç¨‹ä¸­éƒ½å¾ˆç†Ÿæ‚‰ã€‚åœ¨
    [ç¬¬ 12.2 èŠ‚](#normed-spaces) ä¸­ï¼Œæˆ‘ä»¬éšåè€ƒè™‘åœ¨æ›´å¹¿æ³›çš„è®¾ç½®ä¸­çš„å¯¼æ•°æ¦‚å¿µã€‚
- en: '## 12.1\. Elementary Differential Calculus[ïƒ](#elementary-differential-calculus
    "Link to this heading")'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: '## 12.1\. åˆç­‰å¾®åˆ†å­¦[ïƒ](#elementary-differential-calculus "é“¾æ¥åˆ°è¿™ä¸ªæ ‡é¢˜")'
- en: Let `f` be a function from the reals to the reals. There is a difference between
    talking about the derivative of `f` at a single point and talking about the derivative
    function. In Mathlib, the first notion is represented as follows.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: è®¾ `f` æ˜¯ä»å®æ•°åˆ°å®æ•°çš„å‡½æ•°ã€‚åœ¨è°ˆè®º `f` åœ¨æŸä¸€ç‚¹çš„å¯¼æ•°å’Œè°ˆè®ºå¯¼æ•°å‡½æ•°ä¹‹é—´æœ‰ä¸€ä¸ªåŒºåˆ«ã€‚åœ¨ Mathlib ä¸­ï¼Œç¬¬ä¸€ä¸ªæ¦‚å¿µè¡¨ç¤ºå¦‚ä¸‹ã€‚
- en: '[PRE22]'
  id: totrans-64
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: We can also express that `f` is differentiable at a point without specifying
    its derivative there by writing `DifferentiableAt â„`. We specify `â„` explicitly
    because in a slightly more general context, when talking about functions from
    `â„‚` to `â„‚`, we want to be able to distinguish between being differentiable in
    the real sense and being differentiable in the sense of the complex derivative.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡å†™ `DifferentiableAt â„` æ¥è¡¨è¾¾ `f` åœ¨æŸä¸€ç‚¹å¯å¾®ï¼Œè€Œä¸å¿…æŒ‡å®šå…¶åœ¨è¯¥ç‚¹çš„å¯¼æ•°ã€‚æˆ‘ä»¬æ˜ç¡®æŒ‡å®š `â„`ï¼Œå› ä¸ºåœ¨ç¨å¾®æ›´ä¸€èˆ¬çš„ç¯å¢ƒä¸­ï¼Œå½“æˆ‘ä»¬è°ˆè®ºä»
    `â„‚` åˆ° `â„‚` çš„å‡½æ•°æ—¶ï¼Œæˆ‘ä»¬å¸Œæœ›èƒ½å¤ŸåŒºåˆ†åœ¨å®æ„ä¹‰ä¸‹å¯å¾®å’Œåœ¨å¤å¯¼æ•°æ„ä¹‰ä¸‹å¯å¾®ã€‚
- en: '[PRE23]'
  id: totrans-66
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: 'It would be inconvenient to have to provide a proof of differentiability every
    time we want to refer to a derivative. So Mathlib provides a function `deriv f
    : â„ â†’ â„` that is defined for any function `f : â„ â†’ â„` but is defined to take the
    value `0` at any point where `f` is not differentiable.'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 'æ¯æ¬¡æˆ‘ä»¬æƒ³è¦å¼•ç”¨å¯¼æ•°æ—¶éƒ½å¿…é¡»æä¾›å¯å¾®æ€§çš„è¯æ˜å°†ä¼šå¾ˆéº»çƒ¦ã€‚å› æ­¤ï¼ŒMathlib æä¾›äº†ä¸€ä¸ªå‡½æ•° `deriv f : â„ â†’ â„`ï¼Œå®ƒå¯¹ä»»ä½•å‡½æ•° `f
    : â„ â†’ â„` éƒ½æœ‰å®šä¹‰ï¼Œä½†åœ¨ `f` ä¸å¯å¾®çš„ç‚¹è¢«å®šä¹‰ä¸ºå–å€¼ `0`ã€‚'
- en: '[PRE24]'
  id: totrans-68
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: Of course there are many lemmas about `deriv` that do require differentiability
    assumptions. For instance, you should think about a counterexample to the next
    lemma without the differentiability assumptions.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: å½“ç„¶ï¼Œå…³äº `deriv` çš„å¼•ç†ä¸­æœ‰å¾ˆå¤šæ˜¯è¦æ±‚å¯å¾®æ€§å‡è®¾çš„ã€‚ä¾‹å¦‚ï¼Œä½ åº”è¯¥è€ƒè™‘åœ¨æ²¡æœ‰å¯å¾®æ€§å‡è®¾çš„æƒ…å†µä¸‹ï¼Œä¸‹ä¸€ä¸ªå¼•ç†çš„åä¾‹ã€‚
- en: '[PRE25]'
  id: totrans-70
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: Interestingly, however, there are statements that can avoid differentiability
    assumptions by taking advantage of the fact that the value of `deriv` defaults
    to zero when the function is not differentiable. So making sense of the following
    statement requires knowing the precise definition of `deriv`.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶è€Œï¼Œæœ‰è¶£çš„æ˜¯ï¼Œæœ‰ä¸€äº›é™ˆè¿°å¯ä»¥é€šè¿‡åˆ©ç”¨ `deriv` åœ¨å‡½æ•°ä¸å¯å¯¼æ—¶é»˜è®¤ä¸ºé›¶çš„äº‹å®æ¥é¿å…å¯å¾®æ€§çš„å‡è®¾ã€‚å› æ­¤ï¼Œç†è§£ä»¥ä¸‹é™ˆè¿°éœ€è¦çŸ¥é“ `deriv` çš„ç²¾ç¡®å®šä¹‰ã€‚
- en: '[PRE26]'
  id: totrans-72
  prefs: []
  type: TYPE_PRE
  zh: '[PRE26]'
- en: We can even state Rolleâ€™s theorem without any differentiability assumptions,
    which seems even weirder.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ç”šè‡³å¯ä»¥åœ¨æ²¡æœ‰ä»»ä½•å¯å¾®æ€§å‡è®¾çš„æƒ…å†µä¸‹é™ˆè¿°ç½—å°”å®šç†ï¼Œè¿™çœ‹èµ·æ¥ç”šè‡³æ›´å¥‡æ€ªã€‚
- en: '[PRE27]'
  id: totrans-74
  prefs: []
  type: TYPE_PRE
  zh: '[PRE27]'
- en: Of course, this trick does not work for the general mean value theorem.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: å½“ç„¶ï¼Œè¿™ä¸ªæŠ€å·§å¯¹ä¸€èˆ¬å¹³å‡å€¼å®šç†ä¸é€‚ç”¨ã€‚
- en: '[PRE28]'
  id: totrans-76
  prefs: []
  type: TYPE_PRE
  zh: '[PRE28]'
- en: Lean can automatically compute some simple derivatives using the `simp` tactic.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: Lean å¯ä»¥ä½¿ç”¨ `simp` ç­–ç•¥è‡ªåŠ¨è®¡ç®—ä¸€äº›ç®€å•çš„å¯¼æ•°ã€‚
- en: '[PRE29]  ## 12.2\. Differential Calculus in Normed Spaces[ïƒ](#differential-calculus-in-normed-spaces
    "Link to this heading")'
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE29]  ## 12.2\. èµ‹èŒƒç©ºé—´ä¸­çš„å¾®åˆ†å­¦[ïƒ](#differential-calculus-in-normed-spaces "é“¾æ¥åˆ°è¿™ä¸ªæ ‡é¢˜")'
- en: 12.2.1\. Normed spaces[ïƒ](#id3 "Link to this heading")
  id: totrans-79
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 12.2.1\. èµ‹èŒƒç©ºé—´[ïƒ](#id3 "é“¾æ¥åˆ°è¿™ä¸ªæ ‡é¢˜")
- en: Differentiation can be generalized beyond `â„` using the notion of a *normed
    vector space*, which encapsulates both direction and distance. We start with the
    notion of a *normed group*, which is an additive commutative group equipped with
    a real-valued norm function satisfying the following conditions.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: å¯ä»¥ä½¿ç”¨ *èµ‹èŒƒå‘é‡ç©ºé—´* çš„æ¦‚å¿µå°†å¾®åˆ†æ¨å¹¿åˆ° `â„` ä¹‹å¤–ï¼Œå®ƒå°è£…äº†æ–¹å‘å’Œè·ç¦»ã€‚æˆ‘ä»¬é¦–å…ˆä» *èµ‹èŒƒç¾¤* çš„æ¦‚å¿µå¼€å§‹ï¼Œå®ƒæ˜¯ä¸€ä¸ªåŠ æ³•äº¤æ¢ç¾¤ï¼Œå¹¶é…å¤‡äº†æ»¡è¶³ä»¥ä¸‹æ¡ä»¶çš„å®å€¼èŒƒæ•°å‡½æ•°ã€‚
- en: '[PRE30]'
  id: totrans-81
  prefs: []
  type: TYPE_PRE
  zh: '[PRE30]'
- en: Every normed space is a metric space with distance function \(d(x, y) = \| x
    - y \|\), and hence it is also a topological space. Lean and Mathlib know this.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: æ¯ä¸ªèµ‹èŒƒç©ºé—´éƒ½æ˜¯ä¸€ä¸ªå…·æœ‰è·ç¦»å‡½æ•° \(d(x, y) = \| x - y \|\) çš„åº¦é‡ç©ºé—´ï¼Œå› æ­¤å®ƒä¹Ÿæ˜¯ä¸€ä¸ªæ‹“æ‰‘ç©ºé—´ã€‚Lean å’Œ Mathlib
    éƒ½çŸ¥é“è¿™ä¸€ç‚¹ã€‚
- en: '[PRE31]'
  id: totrans-83
  prefs: []
  type: TYPE_PRE
  zh: '[PRE31]'
- en: In order to use the notion of a norm with concepts from linear algebra, we add
    the assumption `NormedSpace â„ E` on top of `NormedAddGroup E`. This stipulates
    that `E` is a vector space over `â„` and that scalar multiplication satisfies the
    following condition.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†ä½¿ç”¨æ¥è‡ªçº¿æ€§ä»£æ•°çš„èŒƒæ•°æ¦‚å¿µï¼Œæˆ‘ä»¬åœ¨ `NormedAddGroup E` ä¸Šæ·»åŠ äº† `NormedSpace â„ E` çš„å‡è®¾ã€‚è¿™è§„å®š `E` æ˜¯ä¸€ä¸ªå®å‘é‡ç©ºé—´ï¼Œå¹¶ä¸”æ ‡é‡ä¹˜æ³•æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ã€‚
- en: '[PRE32]'
  id: totrans-85
  prefs: []
  type: TYPE_PRE
  zh: '[PRE32]'
- en: A complete normed space is known as a *Banach space*. Every finite-dimensional
    vector space is complete.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: å®Œå…¨èµ‹èŒƒç©ºé—´è¢«ç§°ä¸º *Banach ç©ºé—´*ã€‚æ¯ä¸ªæœ‰é™ç»´å‘é‡ç©ºé—´éƒ½æ˜¯å®Œå¤‡çš„ã€‚
- en: '[PRE33]'
  id: totrans-87
  prefs: []
  type: TYPE_PRE
  zh: '[PRE33]'
- en: In all the previous examples, we used the real numbers as the base field. More
    generally, we can make sense of calculus with a vector space over any *nontrivially
    normed field*. These are fields that are equipped with a real-valued norm that
    is multiplicative and has the property that not every element has norm zero or
    one (equivalently, there is an element whose norm is bigger than one).
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æ‰€æœ‰ä¹‹å‰çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†å®æ•°ä½œä¸ºåŸºåŸŸã€‚æ›´ä¸€èˆ¬åœ°ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä»»ä½•*éå¹³å‡¡èŒƒæ•°åŸŸ*ä¸Šçš„å‘é‡ç©ºé—´ä¸­è¿›è¡Œå¾®ç§¯åˆ†ã€‚è¿™äº›æ˜¯é…å¤‡äº†å®å€¼èŒƒæ•°ä¸”èŒƒæ•°ä¹˜æ³•ä¸”å…·æœ‰ä¸æ˜¯æ¯ä¸ªå…ƒç´ èŒƒæ•°ä¸ºé›¶æˆ–ä¸€çš„ç‰¹æ€§çš„åŸŸï¼ˆç­‰ä»·åœ°ï¼Œå­˜åœ¨ä¸€ä¸ªèŒƒæ•°å¤§äºä¸€çš„å…ƒç´ ï¼‰ã€‚
- en: '[PRE34]'
  id: totrans-89
  prefs: []
  type: TYPE_PRE
  zh: '[PRE34]'
- en: A finite-dimensional vector space over a nontrivially normed field is complete
    as long as the field itself is complete.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨éå¹³å‡¡èŒƒæ•°åŸŸä¸Šçš„æœ‰é™ç»´å‘é‡ç©ºé—´åªè¦åŸŸæœ¬èº«æ˜¯å®Œå¤‡çš„ï¼Œå°±æ˜¯å®Œå¤‡çš„ã€‚
- en: '[PRE35]'
  id: totrans-91
  prefs: []
  type: TYPE_PRE
  zh: '[PRE35]'
- en: 12.2.2\. Continuous linear maps[ïƒ](#continuous-linear-maps "Link to this heading")
  id: totrans-92
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 12.2.2\. è¿ç»­çº¿æ€§æ˜ å°„[ïƒ](#continuous-linear-maps "é“¾æ¥åˆ°æœ¬æ ‡é¢˜")
- en: We now turn to the morphisms in the category of normed spaces, namely, continuous
    linear maps. In Mathlib, the type of `ğ•œ`-linear continuous maps between normed
    spaces `E` and `F` is written `E â†’L[ğ•œ] F`. They are implemented as *bundled maps*,
    which means that an element of this type a structure that that includes the function
    itself and the properties of being linear and continuous. Lean will insert a coercion
    so that a continuous linear map can be treated as a function.
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨æˆ‘ä»¬è½¬å‘èŒƒæ•°ç©ºé—´èŒƒç•´ä¸­çš„æ€å°„ï¼Œå³è¿ç»­çº¿æ€§æ˜ å°„ã€‚åœ¨Mathlibä¸­ï¼ŒèŒƒæ•°ç©ºé—´`E`å’Œ`F`ä¹‹é—´çš„`ğ•œ`-çº¿æ€§è¿ç»­æ˜ å°„çš„ç±»å‹è¢«å†™æˆ`E â†’L[ğ•œ] F`ã€‚å®ƒä»¬è¢«å®ç°ä¸º*æ†ç»‘æ˜ å°„*ï¼Œè¿™æ„å‘³ç€è¯¥ç±»å‹çš„å…ƒç´ åŒ…å«å‡½æ•°æœ¬èº«ä»¥åŠçº¿æ€§æ€§å’Œè¿ç»­æ€§çš„å±æ€§ã€‚Leanå°†æ’å…¥ä¸€ä¸ªå¼ºåˆ¶è½¬æ¢ï¼Œä»¥ä¾¿è¿ç»­çº¿æ€§æ˜ å°„å¯ä»¥è¢«è§†ä¸ºå‡½æ•°ã€‚
- en: '[PRE36]'
  id: totrans-94
  prefs: []
  type: TYPE_PRE
  zh: '[PRE36]'
- en: Continuous linear maps have an operator norm that is characterized by the following
    properties.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: è¿ç»­çº¿æ€§æ˜ å°„æœ‰ä¸€ä¸ªç”±ä»¥ä¸‹æ€§è´¨è¡¨å¾çš„ç®—å­èŒƒæ•°ã€‚
- en: '[PRE37]'
  id: totrans-96
  prefs: []
  type: TYPE_PRE
  zh: '[PRE37]'
- en: There is also a notion of bundled continuous linear *isomorphism*. Their type
    of such isomorphisms is `E â‰ƒL[ğ•œ] F`.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: è¿˜æœ‰ä¸€ä¸ªæ†ç»‘è¿ç»­çº¿æ€§*åŒæ„*çš„æ¦‚å¿µã€‚è¿™ç§åŒæ„çš„ç±»å‹æ˜¯`E â‰ƒL[ğ•œ] F`ã€‚
- en: As a challenging exercise, you can prove the Banach-Steinhaus theorem, also
    known as the Uniform Boundedness Principle. The principle states that a family
    of continuous linear maps from a Banach space into a normed space is pointwise
    bounded, then the norms of these linear maps are uniformly bounded. The main ingredient
    is Baireâ€™s theorem `nonempty_interior_of_iUnion_of_closed`. (You proved a version
    of this in the topology chapter.) Minor ingredients include `continuous_linear_map.opNorm_le_of_shell`,
    `interior_subset` and `interior_iInter_subset` and `isClosed_le`.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: ä½œä¸ºä¸€é¡¹æŒ‘æˆ˜æ€§çš„ç»ƒä¹ ï¼Œä½ å¯ä»¥è¯æ˜Banach-Steinhauså®šç†ï¼Œä¹Ÿç§°ä¸ºä¸€è‡´æœ‰ç•Œæ€§åŸç†ã€‚è¯¥åŸç†è¡¨æ˜ï¼Œä»Banachç©ºé—´åˆ°èŒƒæ•°ç©ºé—´çš„ä¸€æ—è¿ç»­çº¿æ€§æ˜ å°„æ˜¯é€ç‚¹æœ‰ç•Œçš„ï¼Œé‚£ä¹ˆè¿™äº›çº¿æ€§æ˜ å°„çš„èŒƒæ•°æ˜¯ä¸€è‡´æœ‰ç•Œçš„ã€‚ä¸»è¦æˆåˆ†æ˜¯Baireå®šç†`nonempty_interior_of_iUnion_of_closed`ã€‚ï¼ˆä½ åœ¨æ‹“æ‰‘ç« èŠ‚ä¸­è¯æ˜äº†è¿™ä¸€ç‰ˆæœ¬ã€‚ï¼‰æ¬¡è¦æˆåˆ†åŒ…æ‹¬`continuous_linear_map.opNorm_le_of_shell`ã€`interior_subset`å’Œ`interior_iInter_subset`ä»¥åŠ`isClosed_le`ã€‚
- en: '[PRE38]'
  id: totrans-99
  prefs: []
  type: TYPE_PRE
  zh: '[PRE38]'
- en: 12.2.3\. Asymptotic comparisons[ïƒ](#asymptotic-comparisons "Link to this heading")
  id: totrans-100
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 12.2.3\. ä½œä¸ºæ¸è¿‘æ¯”è¾ƒ[ïƒ](#asymptotic-comparisons "é“¾æ¥åˆ°æœ¬æ ‡é¢˜")
- en: Defining differentiability also requires asymptotic comparisons. Mathlib has
    an extensive library covering the big O and little o relations, whose definitions
    are shown below. Opening the `asymptotics` locale allows us to use the corresponding
    notation. Here we will only use little o to define differentiability.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: å®šä¹‰å¯å¾®æ€§ä¹Ÿéœ€è¦æ¸è¿‘æ¯”è¾ƒã€‚Mathlibæœ‰ä¸€ä¸ªå¹¿æ³›çš„åº“ï¼Œæ¶µç›–äº†å¤§çš„Oå’Œå°çš„å°oå…³ç³»ï¼Œå…¶å®šä¹‰å¦‚ä¸‹æ‰€ç¤ºã€‚æ‰“å¼€`asymptotics`åŒºåŸŸå…è®¸æˆ‘ä»¬ä½¿ç”¨ç›¸åº”çš„ç¬¦å·ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬åªä½¿ç”¨å°oæ¥å®šä¹‰å¯å¾®æ€§ã€‚
- en: '[PRE39]'
  id: totrans-102
  prefs: []
  type: TYPE_PRE
  zh: '[PRE39]'
- en: 12.2.4\. Differentiability[ïƒ](#differentiability "Link to this heading")
  id: totrans-103
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 12.2.4\. å¯å¾®æ€§[ïƒ](#differentiability "é“¾æ¥åˆ°æœ¬æ ‡é¢˜")
- en: We are now ready to discuss differentiable functions between normed spaces.
    In analogy the elementary one-dimensional, Mathlib defines a predicate `HasFDerivAt`
    and a function `fderiv`. Here the letter â€œfâ€ stands for *FrÃ©chet*.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ç°åœ¨å¯ä»¥è®¨è®ºèŒƒæ•°ç©ºé—´ä¹‹é—´çš„å¯å¾®å‡½æ•°ã€‚ç±»æ¯”äºä¸€ç»´çš„åˆç­‰å‡½æ•°ï¼ŒMathlibå®šä¹‰äº†ä¸€ä¸ªè°“è¯`HasFDerivAt`å’Œä¸€ä¸ªå‡½æ•°`fderiv`ã€‚åœ¨è¿™é‡Œï¼Œâ€œfâ€ä»£è¡¨*FrÃ©chet*ã€‚
- en: '[PRE40]'
  id: totrans-105
  prefs: []
  type: TYPE_PRE
  zh: '[PRE40]'
- en: We also have iterated derivatives that take values in the type of multilinear
    maps `E [Ã—n]â†’L[ğ•œ] F`, and we have continuously differential functions. The type
    `â„•âˆ` is `â„•` with an additional element `âˆ` that is bigger than every natural number.
    So \(\mathcal{C}^\infty\) functions are functions `f` that satisfy `ContDiff ğ•œ
    âŠ¤ f`.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬è¿˜æœ‰è¿­ä»£å¯¼æ•°ï¼Œå…¶å€¼åœ¨å¤šçº¿æ€§æ˜ å°„ç±»å‹`E [Ã—n]â†’L[ğ•œ] F`ä¸­ï¼Œå¹¶ä¸”æˆ‘ä»¬æœ‰è¿ç»­å¾®åˆ†å‡½æ•°ã€‚ç±»å‹`â„•âˆ`æ˜¯`â„•`åŠ ä¸Šä¸€ä¸ªé¢å¤–çš„å…ƒç´ `âˆ`ï¼Œå®ƒæ¯”æ¯ä¸€ä¸ªè‡ªç„¶æ•°éƒ½è¦å¤§ã€‚æ‰€ä»¥\(\mathcal{C}^\infty\)å‡½æ•°æ˜¯æ»¡è¶³`ContDiff
    ğ•œ âŠ¤ f`çš„å‡½æ•°`f`ã€‚
- en: '[PRE41]'
  id: totrans-107
  prefs: []
  type: TYPE_PRE
  zh: '[PRE41]'
- en: 'The differentiability parameter in `ContDiff` can also take value `Ï‰ : WithTop
    â„•âˆ` to denote analytic functions.'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: '`ContDiff`ä¸­çš„å¯å¾®å‚æ•°ä¹Ÿå¯ä»¥å–å€¼`Ï‰ : WithTop â„•âˆ`æ¥è¡¨ç¤ºè§£æå‡½æ•°ã€‚'
- en: There is a stricter notion of differentiability called `HasStrictFDerivAt`,
    which is used in the statement of the inverse function theorem and the statement
    of the implicit function theorem, both of which are in Mathlib. Over `â„` or `â„‚`,
    continuously differentiable functions are strictly differentiable.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: æœ‰ä¸€ä¸ªæ›´ä¸¥æ ¼çš„å¯å¾®æ€§æ¦‚å¿µç§°ä¸º `HasStrictFDerivAt`ï¼Œå®ƒåœ¨é€†å‡½æ•°å®šç†å’Œéšå‡½æ•°å®šç†çš„é™ˆè¿°ä¸­ä½¿ç”¨ï¼Œè¿™ä¸¤ä¸ªå®šç†éƒ½åœ¨ Mathlib ä¸­ã€‚åœ¨ `â„`
    æˆ– `â„‚` ä¸Šï¼Œè¿ç»­å¯å¾®çš„å‡½æ•°æ˜¯ä¸¥æ ¼å¯å¾®çš„ã€‚
- en: '[PRE42]'
  id: totrans-110
  prefs: []
  type: TYPE_PRE
  zh: '[PRE42]'
- en: The local inverse theorem is stated using an operation that produces an inverse
    function from a function and the assumptions that the function is strictly differentiable
    at a point `a` and that its derivative is an isomorphism.
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: å±€éƒ¨é€†å®šç†æ˜¯é€šè¿‡ä¸€ä¸ªæ“ä½œæ¥é™ˆè¿°çš„ï¼Œè¯¥æ“ä½œä»ä¸€ä¸ªå‡½æ•°å’Œå‡è®¾å‡½æ•°åœ¨ç‚¹ `a` å¤„ä¸¥æ ¼å¯å¾®ä»¥åŠå…¶å¯¼æ•°æ˜¯ä¸€ä¸ªåŒæ„çš„å‡è®¾ä¸­äº§ç”Ÿä¸€ä¸ªé€†å‡½æ•°ã€‚
- en: The first example below gets this local inverse. The next one states that it
    is indeed a local inverse from the left and from the right, and that it is strictly
    differentiable.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸‹é¢çš„ç¬¬ä¸€ä¸ªä¾‹å­å¾—åˆ°äº†è¿™ä¸ªå±€éƒ¨é€†ã€‚ä¸‹ä¸€ä¸ªä¾‹å­é™ˆè¿°äº†å®ƒç¡®å®æ˜¯å·¦é€†å’Œå³é€†ï¼Œå¹¶ä¸”å®ƒæ˜¯ä¸¥æ ¼å¯å¾®çš„ã€‚
- en: '[PRE43]'
  id: totrans-113
  prefs: []
  type: TYPE_PRE
  zh: '[PRE43]'
- en: 'This has been only a quick tour of the differential calculus in Mathlib. The
    library contains many variations that we have not discussed. For example, you
    may want to use one-sided derivatives in the one-dimensional setting. The means
    to do so are found in Mathlib in a more general context; see `HasFDerivWithinAt`
    or the even more general `HasFDerivAtFilter`.  ## 12.1\. Elementary Differential
    Calculus[ïƒ](#elementary-differential-calculus "Link to this heading")'
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 'è¿™åªæ˜¯å¯¹ Mathlib ä¸­çš„å¾®åˆ†å­¦çš„å¿«é€Ÿæµè§ˆã€‚è¯¥åº“åŒ…å«äº†è®¸å¤šæˆ‘ä»¬æ²¡æœ‰è®¨è®ºçš„å˜ä½“ã€‚ä¾‹å¦‚ï¼Œä½ å¯èƒ½æƒ³åœ¨å•å˜é‡è®¾ç½®ä¸­ä½¿ç”¨å•ä¾§å¯¼æ•°ã€‚è¿™æ ·åšçš„æ–¹æ³•åœ¨ Mathlib
    çš„æ›´ä¸€èˆ¬èƒŒæ™¯ä¸‹å¯ä»¥æ‰¾åˆ°ï¼›å‚è§ `HasFDerivWithinAt` æˆ–æ›´ä¸€èˆ¬çš„ `HasFDerivAtFilter`ã€‚  ## 12.1\. åŸºç¡€å¾®åˆ†å­¦[ïƒ](#elementary-differential-calculus
    "é“¾æ¥åˆ°è¿™ä¸ªæ ‡é¢˜")'
- en: Let `f` be a function from the reals to the reals. There is a difference between
    talking about the derivative of `f` at a single point and talking about the derivative
    function. In Mathlib, the first notion is represented as follows.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: è®¾ `f` æ˜¯ä»å®æ•°åˆ°å®æ•°çš„å‡½æ•°ã€‚åœ¨è°ˆè®º `f` åœ¨æŸä¸€ç‚¹çš„å¯¼æ•°å’Œè°ˆè®ºå¯¼æ•°å‡½æ•°ä¹‹é—´æœ‰ä¸€ä¸ªåŒºåˆ«ã€‚åœ¨ Mathlib ä¸­ï¼Œç¬¬ä¸€ä¸ªæ¦‚å¿µè¡¨ç¤ºå¦‚ä¸‹ã€‚
- en: '[PRE44]'
  id: totrans-116
  prefs: []
  type: TYPE_PRE
  zh: '[PRE44]'
- en: We can also express that `f` is differentiable at a point without specifying
    its derivative there by writing `DifferentiableAt â„`. We specify `â„` explicitly
    because in a slightly more general context, when talking about functions from
    `â„‚` to `â„‚`, we want to be able to distinguish between being differentiable in
    the real sense and being differentiable in the sense of the complex derivative.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡å†™ `DifferentiableAt â„` æ¥è¡¨è¾¾ `f` åœ¨æŸä¸€ç‚¹å¯å¾®ï¼Œè€Œä¸æŒ‡å®šå…¶åœ¨è¯¥ç‚¹çš„å¯¼æ•°ã€‚æˆ‘ä»¬æ˜ç¡®æŒ‡å®š `â„`ï¼Œå› ä¸ºåœ¨ç¨å¾®æ›´ä¸€èˆ¬çš„æƒ…å†µä¸‹ï¼Œå½“æˆ‘ä»¬è°ˆè®ºä»
    `â„‚` åˆ° `â„‚` çš„å‡½æ•°æ—¶ï¼Œæˆ‘ä»¬æƒ³è¦èƒ½å¤ŸåŒºåˆ†åœ¨å®æ•°æ„ä¹‰ä¸Šçš„å¯å¾®å’Œåœ¨å¤æ•°å¯¼æ•°æ„ä¹‰ä¸Šçš„å¯å¾®ã€‚
- en: '[PRE45]'
  id: totrans-118
  prefs: []
  type: TYPE_PRE
  zh: '[PRE45]'
- en: 'It would be inconvenient to have to provide a proof of differentiability every
    time we want to refer to a derivative. So Mathlib provides a function `deriv f
    : â„ â†’ â„` that is defined for any function `f : â„ â†’ â„` but is defined to take the
    value `0` at any point where `f` is not differentiable.'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 'æ¯æ¬¡æˆ‘ä»¬æƒ³è¦å¼•ç”¨å¯¼æ•°æ—¶éƒ½å¿…é¡»æä¾›å¯å¾®æ€§çš„è¯æ˜å°†ä¼šå¾ˆéº»çƒ¦ã€‚å› æ­¤ï¼ŒMathlib æä¾›äº†ä¸€ä¸ªå‡½æ•° `deriv f : â„ â†’ â„`ï¼Œå®ƒå¯¹ä»»ä½•å‡½æ•° `f
    : â„ â†’ â„` éƒ½æœ‰å®šä¹‰ï¼Œä½†åœ¨ `f` ä¸å¯å¾®çš„ç‚¹å¤„å®šä¹‰ä¸º `0`ã€‚'
- en: '[PRE46]'
  id: totrans-120
  prefs: []
  type: TYPE_PRE
  zh: '[PRE46]'
- en: Of course there are many lemmas about `deriv` that do require differentiability
    assumptions. For instance, you should think about a counterexample to the next
    lemma without the differentiability assumptions.
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: å½“ç„¶ï¼Œå…³äº `deriv` çš„å¼•ç†ä¸­æœ‰å¾ˆå¤šç¡®å®éœ€è¦å¯å¾®æ€§çš„å‡è®¾ã€‚ä¾‹å¦‚ï¼Œä½ åº”è¯¥åœ¨æ²¡æœ‰å¯å¾®æ€§å‡è®¾çš„æƒ…å†µä¸‹è€ƒè™‘ä¸‹ä¸€ä¸ªå¼•ç†çš„åä¾‹ã€‚
- en: '[PRE47]'
  id: totrans-122
  prefs: []
  type: TYPE_PRE
  zh: '[PRE47]'
- en: Interestingly, however, there are statements that can avoid differentiability
    assumptions by taking advantage of the fact that the value of `deriv` defaults
    to zero when the function is not differentiable. So making sense of the following
    statement requires knowing the precise definition of `deriv`.
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶è€Œï¼Œæœ‰è¶£çš„æ˜¯ï¼Œæœ‰ä¸€äº›é™ˆè¿°å¯ä»¥é€šè¿‡åˆ©ç”¨ `deriv` åœ¨å‡½æ•°ä¸å¯å¾®æ—¶é»˜è®¤ä¸ºé›¶çš„äº‹å®æ¥é¿å…å¯å¾®æ€§çš„å‡è®¾ã€‚å› æ­¤ï¼Œç†è§£ä»¥ä¸‹é™ˆè¿°éœ€è¦çŸ¥é“ `deriv` çš„ç²¾ç¡®å®šä¹‰ã€‚
- en: '[PRE48]'
  id: totrans-124
  prefs: []
  type: TYPE_PRE
  zh: '[PRE48]'
- en: We can even state Rolleâ€™s theorem without any differentiability assumptions,
    which seems even weirder.
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ç”šè‡³å¯ä»¥åœ¨æ²¡æœ‰ä»»ä½•å¯å¾®æ€§å‡è®¾çš„æƒ…å†µä¸‹é™ˆè¿°ç½—å°”å®šç†ï¼Œè¿™ä¼¼ä¹æ›´åŠ å¥‡æ€ªã€‚
- en: '[PRE49]'
  id: totrans-126
  prefs: []
  type: TYPE_PRE
  zh: '[PRE49]'
- en: Of course, this trick does not work for the general mean value theorem.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: å½“ç„¶ï¼Œè¿™ä¸ªæŠ€å·§å¯¹ä¸€èˆ¬å¹³å‡å€¼å®šç†ä¸é€‚ç”¨ã€‚
- en: '[PRE50]'
  id: totrans-128
  prefs: []
  type: TYPE_PRE
  zh: '[PRE50]'
- en: Lean can automatically compute some simple derivatives using the `simp` tactic.
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: Lean å¯ä»¥ä½¿ç”¨ `simp` ç­–ç•¥è‡ªåŠ¨è®¡ç®—ä¸€äº›ç®€å•çš„å¯¼æ•°ã€‚
- en: '[PRE51]'
  id: totrans-130
  prefs: []
  type: TYPE_PRE
  zh: '[PRE51]'
- en: '## 12.2\. Differential Calculus in Normed Spaces[ïƒ](#differential-calculus-in-normed-spaces
    "Link to this heading")'
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: '## 12.2\. èŒƒæ•°ç©ºé—´ä¸­çš„å¾®åˆ†å­¦[ïƒ](#differential-calculus-in-normed-spaces "é“¾æ¥åˆ°è¿™ä¸ªæ ‡é¢˜")'
- en: 12.2.1\. Normed spaces[ïƒ](#id3 "Link to this heading")
  id: totrans-132
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 12.2.1. èŒƒæ•°ç©ºé—´[ïƒ](#id3 "é“¾æ¥åˆ°è¿™ä¸ªæ ‡é¢˜")
- en: Differentiation can be generalized beyond `â„` using the notion of a *normed
    vector space*, which encapsulates both direction and distance. We start with the
    notion of a *normed group*, which is an additive commutative group equipped with
    a real-valued norm function satisfying the following conditions.
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨*èŒƒæ•°å‘é‡ç©ºé—´*çš„æ¦‚å¿µï¼Œå¯ä»¥å°†å¾®åˆ†æ¨å¹¿åˆ°`â„`ä¹‹å¤–ï¼Œè¯¥æ¦‚å¿µå°è£…äº†æ–¹å‘å’Œè·ç¦»ã€‚æˆ‘ä»¬é¦–å…ˆä»*èŒƒæ•°ç¾¤*çš„æ¦‚å¿µå¼€å§‹ï¼Œè¿™æ˜¯ä¸€ä¸ªåŠ æ³•äº¤æ¢ç¾¤ï¼Œå®ƒé…å¤‡äº†æ»¡è¶³ä»¥ä¸‹æ¡ä»¶çš„å®å€¼èŒƒæ•°å‡½æ•°ã€‚
- en: '[PRE52]'
  id: totrans-134
  prefs: []
  type: TYPE_PRE
  zh: '[PRE52]'
- en: Every normed space is a metric space with distance function \(d(x, y) = \| x
    - y \|\), and hence it is also a topological space. Lean and Mathlib know this.
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: æ¯ä¸ªèŒƒæ•°ç©ºé—´éƒ½æ˜¯ä¸€ä¸ªå…·æœ‰è·ç¦»å‡½æ•° \(d(x, y) = \| x - y \|\) çš„åº¦é‡ç©ºé—´ï¼Œå› æ­¤å®ƒä¹Ÿæ˜¯ä¸€ä¸ªæ‹“æ‰‘ç©ºé—´ã€‚Leanå’ŒMathlibéƒ½çŸ¥é“è¿™ä¸€ç‚¹ã€‚
- en: '[PRE53]'
  id: totrans-136
  prefs: []
  type: TYPE_PRE
  zh: '[PRE53]'
- en: In order to use the notion of a norm with concepts from linear algebra, we add
    the assumption `NormedSpace â„ E` on top of `NormedAddGroup E`. This stipulates
    that `E` is a vector space over `â„` and that scalar multiplication satisfies the
    following condition.
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†ä½¿ç”¨èŒƒæ•°çš„æ¦‚å¿µä¸çº¿æ€§ä»£æ•°çš„æ¦‚å¿µç›¸ç»“åˆï¼Œæˆ‘ä»¬åœ¨`NormedAddGroup E`ä¹‹ä¸Šæ·»åŠ äº†å‡è®¾`NormedSpace â„ E`ã€‚è¿™è§„å®š`E`æ˜¯`â„`ä¸Šçš„å‘é‡ç©ºé—´ï¼Œå¹¶ä¸”æ ‡é‡ä¹˜æ³•æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ã€‚
- en: '[PRE54]'
  id: totrans-138
  prefs: []
  type: TYPE_PRE
  zh: '[PRE54]'
- en: A complete normed space is known as a *Banach space*. Every finite-dimensional
    vector space is complete.
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: å®Œå…¨èŒƒæ•°ç©ºé—´è¢«ç§°ä¸º*Banachç©ºé—´*ã€‚æ¯ä¸ªæœ‰é™ç»´å‘é‡ç©ºé—´éƒ½æ˜¯å®Œå¤‡çš„ã€‚
- en: '[PRE55]'
  id: totrans-140
  prefs: []
  type: TYPE_PRE
  zh: '[PRE55]'
- en: In all the previous examples, we used the real numbers as the base field. More
    generally, we can make sense of calculus with a vector space over any *nontrivially
    normed field*. These are fields that are equipped with a real-valued norm that
    is multiplicative and has the property that not every element has norm zero or
    one (equivalently, there is an element whose norm is bigger than one).
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æ‰€æœ‰ä¹‹å‰çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†å®æ•°ä½œä¸ºåŸºåŸŸã€‚æ›´ä¸€èˆ¬åœ°ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä»»ä½•*éå¹³å‡¡èŒƒæ•°åŸŸ*ä¸Šçš„å‘é‡ç©ºé—´ä¸­è¿›è¡Œå¾®ç§¯åˆ†ã€‚è¿™äº›æ˜¯é…å¤‡äº†å®å€¼èŒƒæ•°ä¸”èŒƒæ•°ä¹˜æ³•ä¸”å…·æœ‰ä»¥ä¸‹æ€§è´¨çš„åŸŸï¼šå¹¶éæ¯ä¸ªå…ƒç´ éƒ½æœ‰èŒƒæ•°ä¸ºé›¶æˆ–ä¸€ï¼ˆç­‰ä»·åœ°ï¼Œå­˜åœ¨ä¸€ä¸ªèŒƒæ•°å¤§äºä¸€çš„å…ƒç´ ï¼‰ã€‚
- en: '[PRE56]'
  id: totrans-142
  prefs: []
  type: TYPE_PRE
  zh: '[PRE56]'
- en: A finite-dimensional vector space over a nontrivially normed field is complete
    as long as the field itself is complete.
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨éå¹³å‡¡èŒƒæ•°åŸŸä¸Šçš„æœ‰é™ç»´å‘é‡ç©ºé—´åªè¦è¯¥åŸŸæœ¬èº«æ˜¯å®Œå¤‡çš„ï¼Œå°±æ˜¯å®Œå¤‡çš„ã€‚
- en: '[PRE57]'
  id: totrans-144
  prefs: []
  type: TYPE_PRE
  zh: '[PRE57]'
- en: 12.2.2\. Continuous linear maps[ïƒ](#continuous-linear-maps "Link to this heading")
  id: totrans-145
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 12.2.2. è¿ç»­çº¿æ€§æ˜ å°„[ïƒ](#continuous-linear-maps "é“¾æ¥åˆ°è¿™ä¸ªæ ‡é¢˜")
- en: We now turn to the morphisms in the category of normed spaces, namely, continuous
    linear maps. In Mathlib, the type of `ğ•œ`-linear continuous maps between normed
    spaces `E` and `F` is written `E â†’L[ğ•œ] F`. They are implemented as *bundled maps*,
    which means that an element of this type a structure that that includes the function
    itself and the properties of being linear and continuous. Lean will insert a coercion
    so that a continuous linear map can be treated as a function.
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ç°åœ¨è½¬å‘èŒƒæ•°ç©ºé—´èŒƒç•´ä¸­çš„å½¢æ€ï¼Œå³è¿ç»­çº¿æ€§æ˜ å°„ã€‚åœ¨Mathlibä¸­ï¼ŒèŒƒæ•°ç©ºé—´`E`å’Œ`F`ä¹‹é—´`ğ•œ`-çº¿æ€§è¿ç»­æ˜ å°„çš„ç±»å‹è¢«å†™æˆ`E â†’L[ğ•œ] F`ã€‚å®ƒä»¬è¢«å®ç°ä¸º*æ†ç»‘æ˜ å°„*ï¼Œè¿™æ„å‘³ç€è¯¥ç±»å‹çš„å…ƒç´ åŒ…å«å‡½æ•°æœ¬èº«ä»¥åŠçº¿æ€§æ€§å’Œè¿ç»­æ€§çš„å±æ€§ã€‚Leanå°†æ’å…¥ä¸€ä¸ªå¼ºåˆ¶è½¬æ¢ï¼Œä»¥ä¾¿è¿ç»­çº¿æ€§æ˜ å°„å¯ä»¥è¢«è§†ä¸ºå‡½æ•°ã€‚
- en: '[PRE58]'
  id: totrans-147
  prefs: []
  type: TYPE_PRE
  zh: '[PRE58]'
- en: Continuous linear maps have an operator norm that is characterized by the following
    properties.
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: è¿ç»­çº¿æ€§æ˜ å°„æœ‰ä¸€ä¸ªç®—å­èŒƒæ•°ï¼Œå…¶ç‰¹å¾å¦‚ä¸‹ã€‚
- en: '[PRE59]'
  id: totrans-149
  prefs: []
  type: TYPE_PRE
  zh: '[PRE59]'
- en: There is also a notion of bundled continuous linear *isomorphism*. Their type
    of such isomorphisms is `E â‰ƒL[ğ•œ] F`.
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: è¿˜æœ‰ä¸€ä¸ªæ†ç»‘è¿ç»­çº¿æ€§*åŒæ„*çš„æ¦‚å¿µã€‚è¿™ç±»åŒæ„çš„ç±»å‹æ˜¯`E â‰ƒL[ğ•œ] F`ã€‚
- en: As a challenging exercise, you can prove the Banach-Steinhaus theorem, also
    known as the Uniform Boundedness Principle. The principle states that a family
    of continuous linear maps from a Banach space into a normed space is pointwise
    bounded, then the norms of these linear maps are uniformly bounded. The main ingredient
    is Baireâ€™s theorem `nonempty_interior_of_iUnion_of_closed`. (You proved a version
    of this in the topology chapter.) Minor ingredients include `continuous_linear_map.opNorm_le_of_shell`,
    `interior_subset` and `interior_iInter_subset` and `isClosed_le`.
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: ä½œä¸ºä¸€é¡¹æŒ‘æˆ˜æ€§çš„ç»ƒä¹ ï¼Œä½ å¯ä»¥è¯æ˜Banach-Steinhauså®šç†ï¼Œä¹Ÿç§°ä¸ºä¸€è‡´æœ‰ç•Œæ€§åŸç†ã€‚è¯¥åŸç†è¡¨æ˜ï¼Œä»Banachç©ºé—´åˆ°èŒƒæ•°ç©ºé—´çš„è¿ç»­çº¿æ€§æ˜ å°„æ—æ˜¯é€ç‚¹æœ‰ç•Œçš„ï¼Œé‚£ä¹ˆè¿™äº›çº¿æ€§æ˜ å°„çš„èŒƒæ•°æ˜¯ä¸€è‡´æœ‰ç•Œçš„ã€‚ä¸»è¦æˆåˆ†æ˜¯Baireå®šç†`nonempty_interior_of_iUnion_of_closed`ã€‚ï¼ˆä½ åœ¨æ‹“æ‰‘ç« èŠ‚ä¸­è¯æ˜äº†è¿™ä¸€ç‰ˆæœ¬ã€‚ï¼‰æ¬¡è¦æˆåˆ†åŒ…æ‹¬`continuous_linear_map.opNorm_le_of_shell`ã€`interior_subset`å’Œ`interior_iInter_subset`ä»¥åŠ`isClosed_le`ã€‚
- en: '[PRE60]'
  id: totrans-152
  prefs: []
  type: TYPE_PRE
  zh: '[PRE60]'
- en: 12.2.3\. Asymptotic comparisons[ïƒ](#asymptotic-comparisons "Link to this heading")
  id: totrans-153
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 12.2.3. æ¸è¿‘æ¯”è¾ƒ[ïƒ](#asymptotic-comparisons "é“¾æ¥åˆ°è¿™ä¸ªæ ‡é¢˜")
- en: Defining differentiability also requires asymptotic comparisons. Mathlib has
    an extensive library covering the big O and little o relations, whose definitions
    are shown below. Opening the `asymptotics` locale allows us to use the corresponding
    notation. Here we will only use little o to define differentiability.
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: å®šä¹‰å¯å¾®æ€§è¿˜éœ€è¦è¿›è¡Œæ¸è¿‘æ¯”è¾ƒã€‚Mathlib æœ‰ä¸€ä¸ªå¹¿æ³›çš„åº“ï¼Œæ¶µç›–äº†å¤§çš„ O å’Œå°çš„ o å…³ç³»ï¼Œå…¶å®šä¹‰å¦‚ä¸‹ã€‚æ‰“å¼€ `asymptotics` å±€éƒ¨å…è®¸æˆ‘ä»¬ä½¿ç”¨ç›¸åº”çš„ç¬¦å·ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬åªä½¿ç”¨å°çš„
    o æ¥å®šä¹‰å¯å¾®æ€§ã€‚
- en: '[PRE61]'
  id: totrans-155
  prefs: []
  type: TYPE_PRE
  zh: '[PRE61]'
- en: 12.2.4\. Differentiability[ïƒ](#differentiability "Link to this heading")
  id: totrans-156
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 12.2.4\. å¯å¾®æ€§[ïƒ](#differentiability "é“¾æ¥åˆ°è¿™ä¸ªæ ‡é¢˜")
- en: We are now ready to discuss differentiable functions between normed spaces.
    In analogy the elementary one-dimensional, Mathlib defines a predicate `HasFDerivAt`
    and a function `fderiv`. Here the letter â€œfâ€ stands for *FrÃ©chet*.
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨æˆ‘ä»¬å·²ç»å‡†å¤‡å¥½è®¨è®ºèŒƒæ•°ç©ºé—´ä¹‹é—´çš„å¯å¾®å‡½æ•°ã€‚ç±»æ¯”äºä¸€ç»´çš„åˆç­‰æƒ…å†µï¼ŒMathlib å®šä¹‰äº†ä¸€ä¸ªè°“è¯ `HasFDerivAt` å’Œä¸€ä¸ªå‡½æ•° `fderiv`ã€‚è¿™é‡Œçš„å­—æ¯â€œfâ€ä»£è¡¨
    *FrÃ©chet*ã€‚
- en: '[PRE62]'
  id: totrans-158
  prefs: []
  type: TYPE_PRE
  zh: '[PRE62]'
- en: We also have iterated derivatives that take values in the type of multilinear
    maps `E [Ã—n]â†’L[ğ•œ] F`, and we have continuously differential functions. The type
    `â„•âˆ` is `â„•` with an additional element `âˆ` that is bigger than every natural number.
    So \(\mathcal{C}^\infty\) functions are functions `f` that satisfy `ContDiff ğ•œ
    âŠ¤ f`.
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬è¿˜æœ‰è¿­ä»£å¯¼æ•°ï¼Œå…¶å€¼åœ¨å¤šçº¿æ€§æ˜ å°„ç±»å‹ `E [Ã—n]â†’L[ğ•œ] F` ä¸­ï¼Œæˆ‘ä»¬è¿˜æœ‰è¿ç»­å¾®åˆ†å‡½æ•°ã€‚ç±»å‹ `â„•âˆ` æ˜¯ `â„•` åŠ ä¸Šä¸€ä¸ªé¢å¤–çš„å…ƒç´  `âˆ`ï¼Œå®ƒæ¯”æ¯ä¸€ä¸ªè‡ªç„¶æ•°éƒ½è¦å¤§ã€‚å› æ­¤
    \(\mathcal{C}^\infty\) å‡½æ•°æ˜¯æ»¡è¶³ `ContDiff ğ•œ âŠ¤ f` çš„å‡½æ•° `f`ã€‚
- en: '[PRE63]'
  id: totrans-160
  prefs: []
  type: TYPE_PRE
  zh: '[PRE63]'
- en: 'The differentiability parameter in `ContDiff` can also take value `Ï‰ : WithTop
    â„•âˆ` to denote analytic functions.'
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: '`ContDiff` ä¸­çš„å¯å¾®æ€§å‚æ•°ä¹Ÿå¯ä»¥å–å€¼ `Ï‰ : WithTop â„•âˆ` æ¥è¡¨ç¤ºè§£æå‡½æ•°ã€‚'
- en: There is a stricter notion of differentiability called `HasStrictFDerivAt`,
    which is used in the statement of the inverse function theorem and the statement
    of the implicit function theorem, both of which are in Mathlib. Over `â„` or `â„‚`,
    continuously differentiable functions are strictly differentiable.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: æœ‰ä¸€ä¸ªæ›´ä¸¥æ ¼çš„å¯å¾®æ€§æ¦‚å¿µç§°ä¸º `HasStrictFDerivAt`ï¼Œå®ƒåœ¨é€†å‡½æ•°å®šç†å’Œéšå‡½æ•°å®šç†çš„è¡¨è¿°ä¸­ä½¿ç”¨ï¼Œè¿™ä¸¤ä¸ªå®šç†éƒ½åœ¨ Mathlib ä¸­ã€‚åœ¨ `â„`
    æˆ– `â„‚` ä¸Šï¼Œè¿ç»­å¯å¾®çš„å‡½æ•°æ˜¯ä¸¥æ ¼å¯å¾®çš„ã€‚
- en: '[PRE64]'
  id: totrans-163
  prefs: []
  type: TYPE_PRE
  zh: '[PRE64]'
- en: The local inverse theorem is stated using an operation that produces an inverse
    function from a function and the assumptions that the function is strictly differentiable
    at a point `a` and that its derivative is an isomorphism.
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: æœ¬åœ°é€†å®šç†æ˜¯é€šè¿‡ä¸€ä¸ªæ“ä½œæ¥è¡¨è¿°çš„ï¼Œè¯¥æ“ä½œä»ä¸€ä¸ªå‡½æ•°åŠå…¶åœ¨ç‚¹ `a` å¤„ä¸¥æ ¼å¯å¾®çš„å‡è®¾ä»¥åŠå…¶å¯¼æ•°æ˜¯ä¸€ä¸ªåŒæ„çš„å‡è®¾ä¸­äº§ç”Ÿä¸€ä¸ªé€†å‡½æ•°ã€‚
- en: The first example below gets this local inverse. The next one states that it
    is indeed a local inverse from the left and from the right, and that it is strictly
    differentiable.
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸‹é¢çš„ç¬¬ä¸€ä¸ªä¾‹å­å¾—åˆ°äº†è¿™ä¸ªå±€éƒ¨é€†ã€‚ä¸‹ä¸€ä¸ªä¾‹å­è¯´æ˜å®ƒç¡®å®æ˜¯å·¦é€†å’Œå³é€†ï¼Œå¹¶ä¸”å®ƒæ˜¯ä¸¥æ ¼å¯å¾®çš„ã€‚
- en: '[PRE65]'
  id: totrans-166
  prefs: []
  type: TYPE_PRE
  zh: '[PRE65]'
- en: This has been only a quick tour of the differential calculus in Mathlib. The
    library contains many variations that we have not discussed. For example, you
    may want to use one-sided derivatives in the one-dimensional setting. The means
    to do so are found in Mathlib in a more general context; see `HasFDerivWithinAt`
    or the even more general `HasFDerivAtFilter`.
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™åªæ˜¯å¯¹ Mathlib ä¸­çš„å¾®åˆ†å­¦çš„å¿«é€Ÿæµè§ˆã€‚è¯¥åº“åŒ…å«äº†è®¸å¤šæˆ‘ä»¬æ²¡æœ‰è®¨è®ºçš„å˜ä½“ã€‚ä¾‹å¦‚ï¼Œä½ å¯èƒ½åœ¨å•å˜é‡è®¾ç½®ä¸­ä½¿ç”¨å•ä¾§å¯¼æ•°ã€‚è¿™æ ·åšçš„æ–¹æ³•åœ¨ Mathlib
    çš„æ›´ä¸€èˆ¬èƒŒæ™¯ä¸‹å¯ä»¥æ‰¾åˆ°ï¼›å‚è§ `HasFDerivWithinAt` æˆ–æ›´ä¸€èˆ¬çš„ `HasFDerivAtFilter`ã€‚
- en: 12.2.1\. Normed spaces[ïƒ](#id3 "Link to this heading")
  id: totrans-168
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 12.2.1\. èŒƒæ•°ç©ºé—´[ïƒ](#id3 "é“¾æ¥åˆ°è¿™ä¸ªæ ‡é¢˜")
- en: Differentiation can be generalized beyond `â„` using the notion of a *normed
    vector space*, which encapsulates both direction and distance. We start with the
    notion of a *normed group*, which is an additive commutative group equipped with
    a real-valued norm function satisfying the following conditions.
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨ *èŒƒæ•°å‘é‡ç©ºé—´* çš„æ¦‚å¿µå¯ä»¥å°†å¾®åˆ†æ¨å¹¿åˆ° `â„` ä¹‹å¤–ï¼Œè¯¥æ¦‚å¿µå°è£…äº†æ–¹å‘å’Œè·ç¦»ã€‚æˆ‘ä»¬é¦–å…ˆä» *èŒƒæ•°ç¾¤* çš„æ¦‚å¿µå¼€å§‹ï¼Œå®ƒæ˜¯ä¸€ä¸ªåŠ æ³•äº¤æ¢ç¾¤ï¼Œå¹¶é…å¤‡äº†ä¸€ä¸ªæ»¡è¶³ä»¥ä¸‹æ¡ä»¶çš„å®å€¼èŒƒæ•°å‡½æ•°ã€‚
- en: '[PRE66]'
  id: totrans-170
  prefs: []
  type: TYPE_PRE
  zh: '[PRE66]'
- en: Every normed space is a metric space with distance function \(d(x, y) = \| x
    - y \|\), and hence it is also a topological space. Lean and Mathlib know this.
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: æ¯ä¸ªèŒƒæ•°ç©ºé—´éƒ½æ˜¯ä¸€ä¸ªå¸¦æœ‰è·ç¦»å‡½æ•° \(d(x, y) = \| x - y \|\) çš„åº¦é‡ç©ºé—´ï¼Œå› æ­¤å®ƒä¹Ÿæ˜¯ä¸€ä¸ªæ‹“æ‰‘ç©ºé—´ã€‚Lean å’Œ Mathlib
    éƒ½çŸ¥é“è¿™ä¸€ç‚¹ã€‚
- en: '[PRE67]'
  id: totrans-172
  prefs: []
  type: TYPE_PRE
  zh: '[PRE67]'
- en: In order to use the notion of a norm with concepts from linear algebra, we add
    the assumption `NormedSpace â„ E` on top of `NormedAddGroup E`. This stipulates
    that `E` is a vector space over `â„` and that scalar multiplication satisfies the
    following condition.
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†ä½¿ç”¨æ¥è‡ªçº¿æ€§ä»£æ•°çš„èŒƒæ•°æ¦‚å¿µï¼Œæˆ‘ä»¬åœ¨ `NormedAddGroup E` ä¸Šæ·»åŠ äº†å‡è®¾ `NormedSpace â„ E`ã€‚è¿™è§„å®š `E` æ˜¯ä¸€ä¸ªå®æ•°åŸŸä¸Šçš„å‘é‡ç©ºé—´ï¼Œå¹¶ä¸”æ ‡é‡ä¹˜æ³•æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ã€‚
- en: '[PRE68]'
  id: totrans-174
  prefs: []
  type: TYPE_PRE
  zh: '[PRE68]'
- en: A complete normed space is known as a *Banach space*. Every finite-dimensional
    vector space is complete.
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: å®Œå…¨èŒƒæ•°ç©ºé—´è¢«ç§°ä¸º *Banach ç©ºé—´*ã€‚æ¯ä¸ªæœ‰é™ç»´å‘é‡ç©ºé—´éƒ½æ˜¯å®Œå¤‡çš„ã€‚
- en: '[PRE69]'
  id: totrans-176
  prefs: []
  type: TYPE_PRE
  zh: '[PRE69]'
- en: In all the previous examples, we used the real numbers as the base field. More
    generally, we can make sense of calculus with a vector space over any *nontrivially
    normed field*. These are fields that are equipped with a real-valued norm that
    is multiplicative and has the property that not every element has norm zero or
    one (equivalently, there is an element whose norm is bigger than one).
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æ‰€æœ‰ä¹‹å‰çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†å®æ•°ä½œä¸ºåŸºåŸŸã€‚æ›´ä¸€èˆ¬åœ°è¯´ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹ä»»ä½• *éå¹³å‡¡èŒƒæ•°åŸŸ* ä¸Šçš„å‘é‡ç©ºé—´è¿›è¡Œå¾®ç§¯åˆ†ã€‚è¿™äº›æ˜¯é…å¤‡äº†å®å€¼èŒƒæ•°ä¸”è¯¥èŒƒæ•°æ˜¯ä¹˜æ³•çš„ï¼Œå¹¶ä¸”å…·æœ‰ä¸æ˜¯æ¯ä¸ªå…ƒç´ éƒ½æœ‰èŒƒæ•°é›¶æˆ–ä¸€çš„å±æ€§ï¼ˆç­‰ä»·åœ°ï¼Œå­˜åœ¨ä¸€ä¸ªèŒƒæ•°å¤§äºä¸€çš„å…ƒç´ ï¼‰ã€‚
- en: '[PRE70]'
  id: totrans-178
  prefs: []
  type: TYPE_PRE
  zh: '[PRE70]'
- en: A finite-dimensional vector space over a nontrivially normed field is complete
    as long as the field itself is complete.
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ä¸€ä¸ªéå¹³å‡¡èŒƒæ•°åŸŸä¸Šçš„æœ‰é™ç»´å‘é‡ç©ºé—´åªè¦è¯¥åŸŸæœ¬èº«æ˜¯å®Œå¤‡çš„ï¼Œå°±æ˜¯å®Œå¤‡çš„ã€‚
- en: '[PRE71]'
  id: totrans-180
  prefs: []
  type: TYPE_PRE
  zh: '[PRE71]'
- en: 12.2.2\. Continuous linear maps[ïƒ](#continuous-linear-maps "Link to this heading")
  id: totrans-181
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 12.2.2\. è¿ç»­çº¿æ€§æ˜ å°„[ïƒ](#continuous-linear-maps "é“¾æ¥åˆ°è¿™ä¸ªæ ‡é¢˜")
- en: We now turn to the morphisms in the category of normed spaces, namely, continuous
    linear maps. In Mathlib, the type of `ğ•œ`-linear continuous maps between normed
    spaces `E` and `F` is written `E â†’L[ğ•œ] F`. They are implemented as *bundled maps*,
    which means that an element of this type a structure that that includes the function
    itself and the properties of being linear and continuous. Lean will insert a coercion
    so that a continuous linear map can be treated as a function.
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨ï¼Œæˆ‘ä»¬è½¬å‘èŒƒæ•°ç©ºé—´èŒƒç•´ä¸­çš„æ€å°„ï¼Œå³è¿ç»­çº¿æ€§æ˜ å°„ã€‚åœ¨ Mathlib ä¸­ï¼ŒèŒƒæ•°ç©ºé—´ `E` å’Œ `F` ä¹‹é—´ `ğ•œ`-çº¿æ€§è¿ç»­æ˜ å°„çš„ç±»å‹è¢«å†™æˆ `E
    â†’L[ğ•œ] F`ã€‚å®ƒä»¬è¢«å®ç°ä¸º *æ†ç»‘æ˜ å°„*ï¼Œè¿™æ„å‘³ç€è¿™ä¸ªç±»å‹çš„å…ƒç´ åŒ…å«å‡½æ•°æœ¬èº«ä»¥åŠçº¿æ€§æ€§å’Œè¿ç»­æ€§çš„å±æ€§ã€‚Lean å°†æ’å…¥ä¸€ä¸ªå¼ºåˆ¶è½¬æ¢ï¼Œä»¥ä¾¿è¿ç»­çº¿æ€§æ˜ å°„å¯ä»¥è¢«è§†ä¸ºä¸€ä¸ªå‡½æ•°ã€‚
- en: '[PRE72]'
  id: totrans-183
  prefs: []
  type: TYPE_PRE
  zh: '[PRE72]'
- en: Continuous linear maps have an operator norm that is characterized by the following
    properties.
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: è¿ç»­çº¿æ€§æ˜ å°„æœ‰ä¸€ä¸ªç”±ä»¥ä¸‹æ€§è´¨è¡¨å¾çš„ç®—å­èŒƒæ•°ã€‚
- en: '[PRE73]'
  id: totrans-185
  prefs: []
  type: TYPE_PRE
  zh: '[PRE73]'
- en: There is also a notion of bundled continuous linear *isomorphism*. Their type
    of such isomorphisms is `E â‰ƒL[ğ•œ] F`.
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: è¿˜æœ‰ä¸€ä¸ªæ†ç»‘è¿ç»­çº¿æ€§ *åŒæ„* çš„æ¦‚å¿µã€‚è¿™ç§åŒæ„çš„ç±»å‹æ˜¯ `E â‰ƒL[ğ•œ] F`ã€‚
- en: As a challenging exercise, you can prove the Banach-Steinhaus theorem, also
    known as the Uniform Boundedness Principle. The principle states that a family
    of continuous linear maps from a Banach space into a normed space is pointwise
    bounded, then the norms of these linear maps are uniformly bounded. The main ingredient
    is Baireâ€™s theorem `nonempty_interior_of_iUnion_of_closed`. (You proved a version
    of this in the topology chapter.) Minor ingredients include `continuous_linear_map.opNorm_le_of_shell`,
    `interior_subset` and `interior_iInter_subset` and `isClosed_le`.
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: ä½œä¸ºä¸€é¡¹å…·æœ‰æŒ‘æˆ˜æ€§çš„ç»ƒä¹ ï¼Œä½ å¯ä»¥è¯æ˜ Banach-Steinhaus å®šç†ï¼Œä¹Ÿç§°ä¸ºä¸€è‡´æœ‰ç•Œæ€§åŸç†ã€‚è¯¥åŸç†è¡¨æ˜ï¼Œä» Banach ç©ºé—´åˆ°èŒƒæ•°ç©ºé—´çš„è¿ç»­çº¿æ€§æ˜ å°„æ—åœ¨æ¯ä¸€ç‚¹ä¸Šæ˜¯æœ‰ç•Œçš„ï¼Œé‚£ä¹ˆè¿™äº›çº¿æ€§æ˜ å°„çš„èŒƒæ•°æ˜¯ä¸€è‡´æœ‰ç•Œçš„ã€‚ä¸»è¦æˆåˆ†æ˜¯
    Baire å®šç† `nonempty_interior_of_iUnion_of_closed`ã€‚ï¼ˆä½ åœ¨æ‹“æ‰‘ç« èŠ‚ä¸­è¯æ˜äº†è¯¥å®šç†çš„ä¸€ä¸ªç‰ˆæœ¬ã€‚ï¼‰æ¬¡è¦æˆåˆ†åŒ…æ‹¬ `continuous_linear_map.opNorm_le_of_shell`ã€`interior_subset`
    å’Œ `interior_iInter_subset` ä»¥åŠ `isClosed_le`ã€‚
- en: '[PRE74]'
  id: totrans-188
  prefs: []
  type: TYPE_PRE
  zh: '[PRE74]'
- en: 12.2.3\. Asymptotic comparisons[ïƒ](#asymptotic-comparisons "Link to this heading")
  id: totrans-189
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 12.2.3\. æ¸è¿‘æ¯”è¾ƒ[ïƒ](#asymptotic-comparisons "é“¾æ¥åˆ°è¿™ä¸ªæ ‡é¢˜")
- en: Defining differentiability also requires asymptotic comparisons. Mathlib has
    an extensive library covering the big O and little o relations, whose definitions
    are shown below. Opening the `asymptotics` locale allows us to use the corresponding
    notation. Here we will only use little o to define differentiability.
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: å®šä¹‰å¯å¾®æ€§ä¹Ÿéœ€è¦è¿›è¡Œæ¸è¿‘æ¯”è¾ƒã€‚Mathlib æœ‰ä¸€ä¸ªæ¶µç›–å¤§ O å’Œå° o å…³ç³»çš„å¹¿æ³›åº“ï¼Œå…¶å®šä¹‰å¦‚ä¸‹æ‰€ç¤ºã€‚æ‰“å¼€ `asymptotics` å±€åŸŸå…è®¸æˆ‘ä»¬ä½¿ç”¨ç›¸åº”çš„ç¬¦å·ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬åªä½¿ç”¨å°
    o æ¥å®šä¹‰å¯å¾®æ€§ã€‚
- en: '[PRE75]'
  id: totrans-191
  prefs: []
  type: TYPE_PRE
  zh: '[PRE75]'
- en: 12.2.4\. Differentiability[ïƒ](#differentiability "Link to this heading")
  id: totrans-192
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 12.2.4\. å¯å¾®æ€§[ïƒ](#differentiability "é“¾æ¥åˆ°è¿™ä¸ªæ ‡é¢˜")
- en: We are now ready to discuss differentiable functions between normed spaces.
    In analogy the elementary one-dimensional, Mathlib defines a predicate `HasFDerivAt`
    and a function `fderiv`. Here the letter â€œfâ€ stands for *FrÃ©chet*.
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨ï¼Œæˆ‘ä»¬å‡†å¤‡è®¨è®ºèŒƒæ•°ç©ºé—´ä¹‹é—´çš„å¯å¾®å‡½æ•°ã€‚ç±»æ¯”äºä¸€ç»´çš„åˆç­‰æƒ…å†µï¼ŒMathlib å®šä¹‰äº†ä¸€ä¸ªè°“è¯ `HasFDerivAt` å’Œä¸€ä¸ªå‡½æ•° `fderiv`ã€‚åœ¨è¿™é‡Œï¼Œâ€œfâ€ä»£è¡¨
    *FrÃ©chet*ã€‚
- en: '[PRE76]'
  id: totrans-194
  prefs: []
  type: TYPE_PRE
  zh: '[PRE76]'
- en: We also have iterated derivatives that take values in the type of multilinear
    maps `E [Ã—n]â†’L[ğ•œ] F`, and we have continuously differential functions. The type
    `â„•âˆ` is `â„•` with an additional element `âˆ` that is bigger than every natural number.
    So \(\mathcal{C}^\infty\) functions are functions `f` that satisfy `ContDiff ğ•œ
    âŠ¤ f`.
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬è¿˜æœ‰è¿­ä»£å¯¼æ•°ï¼Œå…¶å€¼åœ¨å¤šçº¿æ€§æ˜ å°„ç±»å‹ `E [Ã—n]â†’L[ğ•œ] F` ä¸­ï¼Œå¹¶ä¸”æˆ‘ä»¬æœ‰è¿ç»­å¾®åˆ†å‡½æ•°ã€‚ç±»å‹ `â„•âˆ` æ˜¯åœ¨ `â„•` çš„åŸºç¡€ä¸Šå¢åŠ äº†ä¸€ä¸ªå…ƒç´ 
    `âˆ`ï¼Œè¿™ä¸ªå…ƒç´ æ¯”ä»»ä½•è‡ªç„¶æ•°éƒ½è¦å¤§ã€‚å› æ­¤ï¼Œ\(\mathcal{C}^\infty\) å‡½æ•°æ˜¯æ»¡è¶³ `ContDiff ğ•œ âŠ¤ f` çš„å‡½æ•° `f`ã€‚
- en: '[PRE77]'
  id: totrans-196
  prefs: []
  type: TYPE_PRE
  zh: '[PRE77]'
- en: 'The differentiability parameter in `ContDiff` can also take value `Ï‰ : WithTop
    â„•âˆ` to denote analytic functions.'
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: '`ContDiff` ä¸­çš„å¯å¾®æ€§å‚æ•°ä¹Ÿå¯ä»¥å–å€¼ `Ï‰ : WithTop â„•âˆ` æ¥è¡¨ç¤ºè§£æå‡½æ•°ã€‚'
- en: There is a stricter notion of differentiability called `HasStrictFDerivAt`,
    which is used in the statement of the inverse function theorem and the statement
    of the implicit function theorem, both of which are in Mathlib. Over `â„` or `â„‚`,
    continuously differentiable functions are strictly differentiable.
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: å­˜åœ¨ä¸€ä¸ªæ›´ä¸¥æ ¼çš„å¯å¾®æ€§æ¦‚å¿µï¼Œç§°ä¸º `HasStrictFDerivAt`ï¼Œå®ƒåœ¨é€†å‡½æ•°å®šç†å’Œéšå‡½æ•°å®šç†çš„é™ˆè¿°ä¸­ä½¿ç”¨ï¼Œè¿™ä¸¤ä¸ªå®šç†éƒ½åœ¨ Mathlib ä¸­ã€‚åœ¨
    `â„` æˆ– `â„‚` ä¸Šï¼Œè¿ç»­å¯å¾®çš„å‡½æ•°æ˜¯ä¸¥æ ¼å¯å¾®çš„ã€‚
- en: '[PRE78]'
  id: totrans-199
  prefs: []
  type: TYPE_PRE
  zh: '[PRE78]'
- en: The local inverse theorem is stated using an operation that produces an inverse
    function from a function and the assumptions that the function is strictly differentiable
    at a point `a` and that its derivative is an isomorphism.
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: å±€éƒ¨é€†å®šç†æ˜¯é€šè¿‡ä¸€ä¸ªæ“ä½œæ¥é™ˆè¿°çš„ï¼Œè¯¥æ“ä½œä»ä¸€ä¸ªå‡½æ•°å’Œå‡è®¾å‡½æ•°åœ¨ç‚¹ `a` å¤„ä¸¥æ ¼å¯å¾®ä»¥åŠå…¶å¯¼æ•°æ˜¯ä¸€ä¸ªåŒæ„æ¥ç”Ÿæˆé€†å‡½æ•°ã€‚
- en: The first example below gets this local inverse. The next one states that it
    is indeed a local inverse from the left and from the right, and that it is strictly
    differentiable.
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸‹é¢çš„ç¬¬ä¸€ä¸ªä¾‹å­å¾—åˆ°äº†è¿™ä¸ªå±€éƒ¨é€†ã€‚ä¸‹ä¸€ä¸ªä¾‹å­æŒ‡å‡ºï¼Œè¿™ç¡®å®æ˜¯ä¸€ä¸ªä»å·¦åˆ°å³çš„å±€éƒ¨é€†ï¼Œå¹¶ä¸”å®ƒæ˜¯ä¸¥æ ¼å¯å¾®çš„ã€‚
- en: '[PRE79]'
  id: totrans-202
  prefs: []
  type: TYPE_PRE
  zh: '[PRE79]'
- en: This has been only a quick tour of the differential calculus in Mathlib. The
    library contains many variations that we have not discussed. For example, you
    may want to use one-sided derivatives in the one-dimensional setting. The means
    to do so are found in Mathlib in a more general context; see `HasFDerivWithinAt`
    or the even more general `HasFDerivAtFilter`.*
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™åªæ˜¯å¯¹ Mathlib ä¸­çš„å¾®åˆ†å­¦çš„å¿«é€Ÿæµè§ˆã€‚è¯¥åº“åŒ…å«äº†è®¸å¤šæˆ‘ä»¬æ²¡æœ‰è®¨è®ºçš„å˜ä½“ã€‚ä¾‹å¦‚ï¼Œä½ å¯èƒ½æƒ³åœ¨å•å˜é‡è®¾ç½®ä¸­ä½¿ç”¨å•ä¾§å¯¼æ•°ã€‚è¿™æ ·åšçš„æ–¹æ³•åœ¨ Mathlib
    çš„æ›´ä¸€èˆ¬èƒŒæ™¯ä¸‹å¯ä»¥æ‰¾åˆ°ï¼›å‚è§ `HasFDerivWithinAt` æˆ–æ›´é€šç”¨çš„ `HasFDerivAtFilter`*ã€‚
