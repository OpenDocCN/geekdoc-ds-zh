["```r\nlibrary(tidyverse)\nlibrary(tidymodels)\n\nset.seed(7)\n\nsacramento <- read_csv(\"data/sacramento.csv\")\n\nsacramento_split <- initial_split(sacramento, prop = 0.75, strata = price)\nsacramento_train <- training(sacramento_split)\nsacramento_test <- testing(sacramento_split)\n```", "```r\nlm_spec <- linear_reg() |>\n set_engine(\"lm\") |>\n set_mode(\"regression\")\n\nlm_recipe <- recipe(price ~ sqft, data = sacramento_train)\n\nlm_fit <- workflow() |>\n add_recipe(lm_recipe) |>\n add_model(lm_spec) |>\n fit(data = sacramento_train)\n\nlm_fit\n```", "```r\n## ══ Workflow [trained] ══════════\n## Preprocessor: Recipe\n## Model: linear_reg()\n## \n## ── Preprocessor ──────────\n## 0 Recipe Steps\n## \n## ── Model ──────────\n## \n## Call:\n## stats::lm(formula = ..y ~ ., data = data)\n## \n## Coefficients:\n## (Intercept)         sqft  \n##     18450.3        134.8\n```", "```r\nlm_test_results <- lm_fit |>\n predict(sacramento_test) |>\n bind_cols(sacramento_test) |>\n metrics(truth = price, estimate = .pred)\n\nlm_test_results\n```", "```r\n## # A tibble: 3 × 3\n##   .metric .estimator .estimate\n##   <chr>   <chr>          <dbl>\n## 1 rmse    standard   88528\\.   \n## 2 rsq     standard       0.608\n## 3 mae     standard   61892.\n```", "```r\nsqft_prediction_grid <- tibble(\n sqft = c(\n sacramento |> select(sqft) |> min(),\n sacramento |> select(sqft) |> max()\n )\n)\n\nsacr_preds <- lm_fit |>\n predict(sqft_prediction_grid) |>\n bind_cols(sqft_prediction_grid)\n\nlm_plot_final <- ggplot(sacramento, aes(x = sqft, y = price)) +\n geom_point(alpha = 0.4) +\n geom_line(data = sacr_preds,\n mapping = aes(x = sqft, y = .pred),\n color = \"steelblue\",\n linewidth = 1) +\n xlab(\"House size (square feet)\") +\n ylab(\"Price (USD)\") +\n scale_y_continuous(labels = dollar_format()) +\n theme(text = element_text(size = 12))\n\nlm_plot_final\n```", "```r\ncoeffs <- lm_fit |>\n extract_fit_parsnip() |>\n tidy()\n\ncoeffs\n```", "```r\n## # A tibble: 2 × 5\n##   term        estimate std.error statistic   p.value\n##   <chr>          <dbl>     <dbl>     <dbl>     <dbl>\n## 1 (Intercept)   18450\\.   7916\\.        2.33 2.01e-  2\n## 2 sqft            135\\.      4.31     31.2  1.37e-134\n```", "```r\nmlm_recipe <- recipe(price ~ sqft + beds, data = sacramento_train)\n```", "```r\nmlm_fit <- workflow() |>\n add_recipe(mlm_recipe) |>\n add_model(lm_spec) |>\n fit(data = sacramento_train)\n\nmlm_fit\n```", "```r\n## ══ Workflow [trained] ══════════\n## Preprocessor: Recipe\n## Model: linear_reg()\n## \n## ── Preprocessor ──────────\n## 0 Recipe Steps\n## \n## ── Model ──────────\n## \n## Call:\n## stats::lm(formula = ..y ~ ., data = data)\n## \n## Coefficients:\n## (Intercept)         sqft         beds  \n##     72547.8        160.6     -29644.3\n```", "```r\nlm_mult_test_results <- mlm_fit |>\n predict(sacramento_test) |>\n bind_cols(sacramento_test) |>\n metrics(truth = price, estimate = .pred)\n\nlm_mult_test_results\n```", "```r\n## # A tibble: 3 × 3\n##   .metric .estimator .estimate\n##   <chr>   <chr>          <dbl>\n## 1 rmse    standard   88739\\.   \n## 2 rsq     standard       0.603\n## 3 mae     standard   61732.\n```", "```r\nmcoeffs <- mlm_fit |>\n extract_fit_parsnip() |>\n tidy()\n\nmcoeffs\n```", "```r\n## # A tibble: 3 × 5\n##   term        estimate std.error statistic   p.value\n##   <chr>          <dbl>     <dbl>     <dbl>     <dbl>\n## 1 (Intercept)   72548\\.  11670\\.        6.22 8.76e- 10\n## 2 sqft            161\\.      5.93     27.1  8.34e-111\n## 3 beds         -29644\\.   4799\\.       -6.18 1.11e-  9\n```", "```r\nlm_mult_test_results\n```", "```r\n## # A tibble: 3 × 3\n##   .metric .estimator .estimate\n##   <chr>   <chr>          <dbl>\n## 1 rmse    standard   88739\\.   \n## 2 rsq     standard       0.603\n## 3 mae     standard   61732.\n```", "```r\ndf\n```", "```r\n## # A tibble: 100 × 2\n##        x      y\n##    <dbl>  <dbl>\n##  1 0.102 0.0720\n##  2 0.800 0.532 \n##  3 0.478 0.148 \n##  4 0.972 1.01  \n##  5 0.846 0.677 \n##  6 0.405 0.157 \n##  7 0.879 0.768 \n##  8 0.130 0.0402\n##  9 0.852 0.576 \n## 10 0.180 0.0847\n## # ℹ 90 more rows\n```", "```r\ndf <- df |>\n mutate(z = x^3)\n```"]