<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
  "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>1.1. Motivating example: identifying penguin species#</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>1.1. Motivating example: identifying penguin species#</h1>
<blockquote>原文：<a href="https://mmids-textbook.github.io/chap01_intro/01_motiv/roch-mmids-intro-motiv.html">https://mmids-textbook.github.io/chap01_intro/01_motiv/roch-mmids-intro-motiv.html</a></blockquote>

<p>Imagine that you are an evolutionary biologist studying penguins. You have collected measurements on a large number of individual specimens. Your goal is to identify different <a class="reference external" href="https://en.wikipedia.org/wiki/Species">species</a> within this collection based on those measurements.</p>
<p><strong>Figure:</strong> An Adelie penguin. Credit: Andrew Shiva. (<a class="reference external" href="https://commons.wikimedia.org/wiki/File:Hope_Bay-2016-Trinity_Peninsula%E2%80%93Ad%C3%A9lie_penguin_%28Pygoscelis_adeliae%29_04.jpg">Source</a>)</p>
<p><img alt="An Adelie penguin" src="../Images/a64395f1a1be1001d459ff85e5f9fe66.png" data-original-src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/e3/Hope_Bay-2016-Trinity_Peninsula%E2%80%93Ad%C3%A9lie_penguin_%28Pygoscelis_adeliae%29_04.jpg/346px-Hope_Bay-2016-Trinity_Peninsula%E2%80%93Ad%C3%A9lie_penguin_%28Pygoscelis_adeliae%29_04.jpg"/></p>
<p><span class="math notranslate nohighlight">\(\bowtie\)</span></p>
<p>We use a penguin dataset collected and made available by <a class="reference external" href="https://www.uaf.edu/cfos/people/faculty/detail/kristen-gorman.php">Dr. Kristen Gorman</a> and the <a class="reference external" href="https://pallter.marine.rutgers.edu/">Palmer Station, Antarctica LTER</a>. We upload the data in the form of a data table (similar to a spreadsheet) called <a class="reference external" href="https://pandas.pydata.org/docs/reference/frame.html"><code class="docutils literal notranslate"><span class="pre">DataFrame</span></code></a> in <a class="reference external" href="https://pandas.pydata.org/docs/"><code class="docutils literal notranslate"><span class="pre">pandas</span></code></a>, where the columns are different measurements (or features) and the rows are different samples. Below, we load the data using <a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.read_csv.html?highlight=read_csv#"><code class="docutils literal notranslate"><span class="pre">pandas.read_csv</span></code></a> and show the first <span class="math notranslate nohighlight">\(5\)</span> lines of the dataset (using <a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.head.html"><code class="docutils literal notranslate"><span class="pre">DataFrame.head</span></code></a>). This dataset is a simplified version (i.e., with some columns removed) of the full dataset from <a class="reference external" href="https://allisonhorst.com/">Allison Horst</a>’s <a class="reference external" href="https://github.com/allisonhorst/palmerpenguins/blob/main/README.md">GitHub page</a>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span/><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">'penguins-measurements.csv'</span><span class="p">)</span>
<span class="n">data</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th/>
      <th>bill_length_mm</th>
      <th>bill_depth_mm</th>
      <th>flipper_length_mm</th>
      <th>body_mass_g</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>39.1</td>
      <td>18.7</td>
      <td>181.0</td>
      <td>3750.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>39.5</td>
      <td>17.4</td>
      <td>186.0</td>
      <td>3800.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>40.3</td>
      <td>18.0</td>
      <td>195.0</td>
      <td>3250.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>36.7</td>
      <td>19.3</td>
      <td>193.0</td>
      <td>3450.0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Observe that this dataset has missing values (i.e., the entries <code class="docutils literal notranslate"><span class="pre">NaN</span></code> above). A common way to deal with this issue is to remove all rows with missing values. This can be done using <a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.dropna.html"><code class="docutils literal notranslate"><span class="pre">pandas.DataFrame.dropna</span></code></a>. This kind of pre-processing is fundamental in data science, but we will not discuss it much in this book. It is however important to be aware of it.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span/><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
<span class="n">data</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th/>
      <th>bill_length_mm</th>
      <th>bill_depth_mm</th>
      <th>flipper_length_mm</th>
      <th>body_mass_g</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>39.1</td>
      <td>18.7</td>
      <td>181.0</td>
      <td>3750.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>39.5</td>
      <td>17.4</td>
      <td>186.0</td>
      <td>3800.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>40.3</td>
      <td>18.0</td>
      <td>195.0</td>
      <td>3250.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>36.7</td>
      <td>19.3</td>
      <td>193.0</td>
      <td>3450.0</td>
    </tr>
    <tr>
      <th>5</th>
      <td>39.3</td>
      <td>20.6</td>
      <td>190.0</td>
      <td>3650.0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>There are <span class="math notranslate nohighlight">\(342\)</span> samples, as can be seen by using <a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.shape.html"><code class="docutils literal notranslate"><span class="pre">pandas.DataFrame.shape</span></code></a> which gives the dimensions of the DataFrame as a tuple.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span/><span class="n">data</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span/>(342, 4)
</pre></div>
</div>
</div>
</div>
<p>Let us first extract the columns into a NumPy array using <a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.to_numpy.html"><code class="docutils literal notranslate"><span class="pre">pandas.DataFrame.to_numpy</span></code></a>. We will have more to say later on about NumPy, a numerical library for Python that in essence allows to manipulate vectors and matrices.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span/><span class="n">X</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span/>[[  39.1   18.7  181.  3750. ]
 [  39.5   17.4  186.  3800. ]
 [  40.3   18.   195.  3250. ]
 ...
 [  50.4   15.7  222.  5750. ]
 [  45.2   14.8  212.  5200. ]
 [  49.9   16.1  213.  5400. ]]
</pre></div>
</div>
</div>
</div>
<p>We visualize two measurements in the data, the bill depth and flipper length. (The original dataset used the more precise term <a class="reference external" href="https://en.wikipedia.org/wiki/Beak#Culmen">culmen</a> depth.) Below, each point is a sample. This is called a scatter plot<span class="math notranslate nohighlight">\(\idx{scatter plot}\xdi\)</span>. Quoting <a class="reference external" href="https://en.wikipedia.org/wiki/Scatter_plot">Wikipedia</a>:</p>
<blockquote>
<div><p>The data are displayed as a collection of points, each having the value of one variable determining the position on the horizontal axis and the value of the other variable determining the position on the vertical axis.</p>
</div></blockquote>
<p>We use <a class="reference external" href="https://matplotlib.org/stable/api/pyplot_summary.html"><code class="docutils literal notranslate"><span class="pre">matplotlib.pyplot</span></code></a> for most of our plotting needs in this book, with a few exceptions. Specifically, here we use the function <a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.scatter.html"><code class="docutils literal notranslate"><span class="pre">matplotlib.pyplot.scatter</span></code></a>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span/><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">X</span><span class="p">[:,</span><span class="mi">1</span><span class="p">],</span> <span class="n">X</span><span class="p">[:,</span><span class="mi">2</span><span class="p">],</span> <span class="n">s</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">'k'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">'bill_depth_mm'</span><span class="p">),</span> <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">'flipper_length_mm'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/841ea45e51e4d9614c6e0d11681af2bd8a1b95f52ca0ce2f9019cc83e12125c3.png" src="../Images/27baf658807e24de61b4747f7526a8f4.png" data-original-src="https://mmids-textbook.github.io/_images/841ea45e51e4d9614c6e0d11681af2bd8a1b95f52ca0ce2f9019cc83e12125c3.png"/>
</div>
</div>
<p>We observe what appears to be two fairly well-defined clusters of samples on the top left and bottom right respectively. What is a <a class="reference external" href="https://en.wikipedia.org/wiki/Cluster_analysis">cluster</a>? Intuitively, it is a group of samples that are close to each other, but far from every other sample. In this case, it may be an indication that these samples come from a separate species.</p>
<p>Now let’s look at the full dataset. Visualizing the full <span class="math notranslate nohighlight">\(4\)</span>-dimensional data is not straightforward. One way to do this is to consider all pairwise scatter plots. We use the function <a class="reference external" href="https://seaborn.pydata.org/generated/seaborn.pairplot.html"><code class="docutils literal notranslate"><span class="pre">seaborn.pairplot</span></code></a> from the library <a class="reference external" href="https://seaborn.pydata.org/index.html">Seaborn</a>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span/><span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="n">sns</span><span class="o">.</span><span class="n">pairplot</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/4f74fb1d6995969d8c0a1189b3b4b33ca52879ec220dc33404a8dbedd0b259b3.png" src="../Images/55cbba0230d16ef4027d863c6d33cc84.png" data-original-src="https://mmids-textbook.github.io/_images/4f74fb1d6995969d8c0a1189b3b4b33ca52879ec220dc33404a8dbedd0b259b3.png"/>
</div>
</div>
<p>How many species of penguins do you think there are in this dataset?</p>
<p>What would be useful is a method that <em>automatically</em> identifies clusters <em>whatever the dimension of the data</em>. In this chapter, we will discuss a standard way to do this: <span class="math notranslate nohighlight">\(k\)</span>-means clustering. We will come back to the penguins dataset later in the chapter.</p>
<p>But first we need to review some basic concepts about vectors and distances in order to formulate clustering as an appropriate <em>optimization</em> problem, a perspective that will be recurring throughout.</p>
<p><strong>CHAT &amp; LEARN</strong> Ask your favorite AI chatbot for alternative ways to deal with missing values in a dataset. Implement one of these alternatives on the penguins dataset (you can ask the chatbot for the code!). (<a class="reference external" href="https://colab.research.google.com/github/MMiDS-textbook/MMiDS-textbook.github.io/blob/main/just_the_code/roch_mmids_chap_intro_notebook.ipynb">Open in Colab</a>) <span class="math notranslate nohighlight">\(\ddagger\)</span></p>
    
</body>
</html>