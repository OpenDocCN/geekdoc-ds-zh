["```py\ndata BT:\n  | leaf\n  | node(v :: Number, l :: BT, r :: BT)\nend\n```", "```py\nfun is-in-bt(e :: Number, s :: BT) -> Boolean:\n  cases (BT) s:\n    | leaf => false\n    | node(v, l, r) =>\n      if e == v:\n        true\n      else:\n        is-in-bt(e, l) or is-in-bt(e, r)\n      end\n  end\nend\n```", "```py\n> > fun is-a-bst-buggy(b :: BT) -> Boolean:\n> >   cases (BT) b:\n> >     | leaf => true\n> >     | node(v, l, r) =>\n> >       (is-leaf(l) or (l.v <= v)) and\n> >       (is-leaf(r) or (v <= r.v)) and\n> >       is-a-bst-buggy(l) and\n> >       is-a-bst-buggy(r)\n> >   end\n> > end\n> > ```", "```py\ncheck:\n  node(5, node(3, leaf, node(6, leaf, leaf)), leaf)\n    satisfies is-a-bst-buggy # FALSE!\nend\n```", "```py\ntype BST = BT%(is-a-bst)\n```", "```py\ntype TSet = BST\nmt-set = leaf\n```", "```py\nfun is-in(e :: Number, s :: BST) -> Bool:\n  cases (BST) s:\n    | leaf => ...\n    | node(v, l :: BST, r :: BST) => ...\n      ... is-in(l) ...\n      ... is-in(r) ...\n  end\nend\n```", "```py\nfun is-in(e :: Number, s :: BST) -> Boolean:\n  cases (BST) s:\n    | leaf => false\n    | node(v, l, r) =>\n      if e == v:\n        true\n      else if e < v:\n        is-in(e, l)\n      else if e > v:\n        is-in(e, r)\n      end\n  end\nend\n\nfun insert(e :: Number, s :: BST) -> BST:\n  cases (BST) s:\n    | leaf => node(e, leaf, leaf)\n    | node(v, l, r) =>\n      if e == v:\n        s\n      else if e < v:\n        node(v, insert(e, l), r)\n      else if e > v:\n        node(v, l, insert(e, r))\n      end\n  end\nend\n```", "```py\ncheck:\n  insert(4, insert(3, insert(2, insert(1, mt-set)))) is\n  node(1, leaf,\n    node(2, leaf,\n      node(3, leaf,\n        node(4, leaf, leaf))))\nend\n```", "```py\ndata BT:\n  | leaf\n  | node(v :: Number, l :: BT, r :: BT)\nend\n```", "```py\nfun is-in-bt(e :: Number, s :: BT) -> Boolean:\n  cases (BT) s:\n    | leaf => false\n    | node(v, l, r) =>\n      if e == v:\n        true\n      else:\n        is-in-bt(e, l) or is-in-bt(e, r)\n      end\n  end\nend\n```", "```py\n> > fun is-a-bst-buggy(b :: BT) -> Boolean:\n> >   cases (BT) b:\n> >     | leaf => true\n> >     | node(v, l, r) =>\n> >       (is-leaf(l) or (l.v <= v)) and\n> >       (is-leaf(r) or (v <= r.v)) and\n> >       is-a-bst-buggy(l) and\n> >       is-a-bst-buggy(r)\n> >   end\n> > end\n> > ```", "```py\ncheck:\n  node(5, node(3, leaf, node(6, leaf, leaf)), leaf)\n    satisfies is-a-bst-buggy # FALSE!\nend\n```", "```py\ntype BST = BT%(is-a-bst)\n```", "```py\ntype TSet = BST\nmt-set = leaf\n```", "```py\nfun is-in(e :: Number, s :: BST) -> Bool:\n  cases (BST) s:\n    | leaf => ...\n    | node(v, l :: BST, r :: BST) => ...\n      ... is-in(l) ...\n      ... is-in(r) ...\n  end\nend\n```", "```py\nfun is-in(e :: Number, s :: BST) -> Boolean:\n  cases (BST) s:\n    | leaf => false\n    | node(v, l, r) =>\n      if e == v:\n        true\n      else if e < v:\n        is-in(e, l)\n      else if e > v:\n        is-in(e, r)\n      end\n  end\nend\n\nfun insert(e :: Number, s :: BST) -> BST:\n  cases (BST) s:\n    | leaf => node(e, leaf, leaf)\n    | node(v, l, r) =>\n      if e == v:\n        s\n      else if e < v:\n        node(v, insert(e, l), r)\n      else if e > v:\n        node(v, l, insert(e, r))\n      end\n  end\nend\n```", "```py\ncheck:\n  insert(4, insert(3, insert(2, insert(1, mt-set)))) is\n  node(1, leaf,\n    node(2, leaf,\n      node(3, leaf,\n        node(4, leaf, leaf))))\nend\n```"]