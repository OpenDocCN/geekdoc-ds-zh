- en: Subspace Simulation
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://phys-sim-book.github.io/lec25.2-subspace_sim.html](https://phys-sim-book.github.io/lec25.2-subspace_sim.html)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
  prefs: []
  type: TYPE_NORMAL
- en: In this subsection, we derive a constrained version of the rigid body dynamics
    equations using a subspace optimization approach. This formulation connects rigid
    body dynamics to the Incremental Potential Contact (IPC) method, as will be further
    elaborated in subsequent sections.
  prefs: []
  type: TYPE_NORMAL
- en: 'Recall that in IPC, the simulation problem is posed as the following optimization:
    xn+1where E(x)​=xargmin​E(x)=21​∥x−x~n∥+Δt2P(x).​​'
  prefs: []
  type: TYPE_NORMAL
- en: Here, E(x) is the incremental potential, x denotes the particle position to
    be solved.
  prefs: []
  type: TYPE_NORMAL
- en: 'Let x be a particle position on a rigid body, parameterized by the body''s
    rotation matrix Q and translation q. The rigid body kinematics impose the constraint
    x=Qxˉ+q, where xˉ is the particle''s position in the body-local frame. In the
    stacked form, this becomes:'
  prefs: []
  type: TYPE_NORMAL
- en: x=xˉQ+Sˉq,
  prefs: []
  type: TYPE_NORMAL
- en: where xˉ and Sˉ are constant matrices independent of Q and q as they only rely
    on the local particle positions in the body frame.
  prefs: []
  type: TYPE_NORMAL
- en: 'Substituting into the IPC formulation, we obtain the constrained optimization
    problem:'
  prefs: []
  type: TYPE_NORMAL
- en: Qn+1,qn+1whereE(Q,q)​=Q,qargmin​E(Q,q)s.t.f(Q)=0,=21​​xˉQ+Sˉq−x~n​2+Δt2P(xˉQ+Sˉq),​​
  prefs: []
  type: TYPE_NORMAL
- en: where the constraint f(Q)=0 enforces rigidity of the rotation matrices Qi​ for
    each rigid body i i.e. QiT​Qi​−I3​=0.
  prefs: []
  type: TYPE_NORMAL
- en: 'Applying the method of Lagrange multipliers, we introduce the Lagrangian:'
  prefs: []
  type: TYPE_NORMAL
- en: G=E(Q,q)+λ⊤f(Q),
  prefs: []
  type: TYPE_NORMAL
- en: 'and derive the stationarity conditions: ∇q​G∇Q​G∇λ​G​=0,=0,=0.​​'
  prefs: []
  type: TYPE_NORMAL
- en: 'This leads to the following constrained rigid body dynamics equations:'
  prefs: []
  type: TYPE_NORMAL
- en: xˉ⊤M(xˉQ+Sˉq)+Δt2xˉ⊤∇P(xˉQ+Sˉq)+(∇f(Q))⊤λSˉ⊤M(xˉQ+Sˉq)+Δt2Sˉ⊤∇P(xˉQ+Sˉq)f(Q)​=0,=0,=0.​​(25.2.1)
  prefs: []
  type: TYPE_NORMAL
- en: These equations define the motion of rigid bodies under subspace-constrained
    dynamics, while satisfying both energy consistency and rigidity constraints.
  prefs: []
  type: TYPE_NORMAL
