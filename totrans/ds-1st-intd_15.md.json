["```r\nlibrary(tidyverse)\n\nset.seed(123)\n\nairbnb <- read_csv(\"data/listings.csv\")\nairbnb\n```", "```r\n## # A tibble: 4,594 × 8\n##       id neighbourhood     room_type accommodates bathrooms bedrooms  beds price\n##    <dbl> <chr>             <chr>            <dbl> <chr>        <dbl> <dbl> <dbl>\n##  1     1 Downtown          Entire h…            5 2 baths          2     2   150\n##  2     2 Downtown Eastside Entire h…            4 2 baths          2     2   132\n##  3     3 West End          Entire h…            2 1 bath           1     1    85\n##  4     4 Kensington-Cedar… Entire h…            2 1 bath           1     0   146\n##  5     5 Kensington-Cedar… Entire h…            4 1 bath           1     2   110\n##  6     6 Hastings-Sunrise  Entire h…            4 1 bath           2     3   195\n##  7     7 Renfrew-Collingw… Entire h…            8 3 baths          4     5   130\n##  8     8 Mount Pleasant    Entire h…            2 1 bath           1     1    94\n##  9     9 Grandview-Woodla… Private …            2 1 privat…        1     1    79\n## 10    10 West End          Private …            2 1 privat…        1     1    75\n## # ℹ 4,584 more rows\n```", "```r\nairbnb |>\n summarize(\n n =  sum(room_type == \"Entire home/apt\"),\n proportion = sum(room_type == \"Entire home/apt\") / nrow(airbnb)\n )\n```", "```r\n## # A tibble: 1 × 2\n##       n proportion\n##   <int>      <dbl>\n## 1  3434      0.747\n```", "```r\nlibrary(infer)\n\nsample_1 <- rep_sample_n(tbl = airbnb, size = 40)\n\nairbnb_sample_1 <- summarize(sample_1,\n n = sum(room_type == \"Entire home/apt\"),\n prop = sum(room_type == \"Entire home/apt\") / 40\n)\n\nairbnb_sample_1\n```", "```r\n## # A tibble: 1 × 3\n##   replicate     n  prop\n##       <int> <int> <dbl>\n## 1         1    28   0.7\n```", "```r\nsample_2 <- rep_sample_n(airbnb, size = 40)\n\nairbnb_sample_2 <- summarize(sample_2,\n n = sum(room_type == \"Entire home/apt\"),\n prop = sum(room_type == \"Entire home/apt\") / 40\n)\n\nairbnb_sample_2\n```", "```r\n## # A tibble: 1 × 3\n##   replicate     n  prop\n##       <int> <int> <dbl>\n## 1         1    35 0.875\n```", "```r\nsamples <- rep_sample_n(airbnb, size = 40, reps = 20000)\nsamples\n```", "```r\n## # A tibble: 800,000 × 9\n## # Groups:   replicate [20,000]\n##    replicate    id neighbourhood room_type accommodates bathrooms bedrooms  beds\n##        <int> <dbl> <chr>         <chr>            <dbl> <chr>        <dbl> <dbl>\n##  1         1  4403 Downtown      Entire h…            2 1 bath           1     1\n##  2         1   902 Kensington-C… Private …            2 1 shared…        1     1\n##  3         1  3808 Hastings-Sun… Entire h…            6 1.5 baths        1     3\n##  4         1   561 Kensington-C… Entire h…            6 1 bath           2     2\n##  5         1  3385 Mount Pleasa… Entire h…            4 1 bath           1     1\n##  6         1  4232 Shaughnessy   Entire h…            6 1.5 baths        2     2\n##  7         1  1169 Downtown      Entire h…            3 1 bath           1     1\n##  8         1   959 Kitsilano     Private …            1 1.5 shar…        1     1\n##  9         1  2171 Downtown      Entire h…            2 1 bath           1     1\n## 10         1  1258 Dunbar South… Entire h…            4 1 bath           2     2\n## # ℹ 799,990 more rows\n## # ℹ 1 more variable: price <dbl>\n```", "```r\ntail(samples)\n```", "```r\n## # A tibble: 6 × 9\n## # Groups:   replicate [1]\n##   replicate    id neighbourhood  room_type accommodates bathrooms bedrooms  beds\n##       <int> <dbl> <chr>          <chr>            <dbl> <chr>        <dbl> <dbl>\n## 1     20000  3414 Marpole        Entire h…            4 1 bath           2     2\n## 2     20000  1974 Hastings-Sunr… Private …            2 1 shared…        1     1\n## 3     20000  1846 Riley Park     Entire h…            4 1 bath           2     3\n## 4     20000   862 Downtown       Entire h…            5 2 baths          2     2\n## 5     20000  3295 Victoria-Fras… Private …            2 1 shared…        1     1\n## 6     20000   997 Dunbar Southl… Private …            1 1.5 shar…        1     1\n## # ℹ 1 more variable: price <dbl>\n```", "```r\nsample_estimates <- samples |>\n group_by(replicate) |>\n summarize(sample_proportion = sum(room_type == \"Entire home/apt\") / 40)\n\nsample_estimates\n```", "```r\n## # A tibble: 20,000 × 2\n##    replicate sample_proportion\n##        <int>             <dbl>\n##  1         1             0.85 \n##  2         2             0.85 \n##  3         3             0.65 \n##  4         4             0.7  \n##  5         5             0.75 \n##  6         6             0.725\n##  7         7             0.775\n##  8         8             0.775\n##  9         9             0.7  \n## 10        10             0.675\n## # ℹ 19,990 more rows\n```", "```r\ntail(sample_estimates)\n```", "```r\n## # A tibble: 6 × 2\n##   replicate sample_proportion\n##       <int>             <dbl>\n## 1     19995             0.75 \n## 2     19996             0.675\n## 3     19997             0.625\n## 4     19998             0.75 \n## 5     19999             0.875\n## 6     20000             0.65\n```", "```r\nsampling_distribution <- ggplot(sample_estimates, aes(x = sample_proportion)) +\n geom_histogram(color = \"lightgrey\", bins = 12) +\n labs(x = \"Sample proportions\", y = \"Count\") +\n theme(text = element_text(size = 12))\n\nsampling_distribution\n```", "```r\nsample_estimates |>\n summarize(mean_proportion = mean(sample_proportion))\n```", "```r\n## # A tibble: 1 × 1\n##   mean_proportion\n##             <dbl>\n## 1           0.747\n```", "```r\npopulation_distribution <- ggplot(airbnb, aes(x = price)) +\n geom_histogram(color = \"lightgrey\") +\n labs(x = \"Price per night (dollars)\", y = \"Count\") +\n theme(text = element_text(size = 12))\n\npopulation_distribution\n```", "```r\npopulation_parameters <- airbnb |>\n summarize(mean_price = mean(price))\n\npopulation_parameters\n```", "```r\n## # A tibble: 1 × 1\n##   mean_price\n##        <dbl>\n## 1     154.51\n```", "```r\none_sample <- airbnb |>\n rep_sample_n(40)\n```", "```r\nsample_distribution <- ggplot(one_sample, aes(price)) +\n geom_histogram(color = \"lightgrey\") +\n labs(x = \"Price per night (dollars)\", y = \"Count\") +\n theme(text = element_text(size = 12))\n\nsample_distribution\n```", "```r\nestimates <- one_sample |>\n summarize(mean_price = mean(price))\n\nestimates\n```", "```r\n## # A tibble: 1 × 2\n##   replicate mean_price\n##       <int>      <dbl>\n## 1         1     155.80\n```", "```r\nsamples <- rep_sample_n(airbnb, size = 40, reps = 20000)\nsamples\n```", "```r\n## # A tibble: 800,000 × 9\n## # Groups:   replicate [20,000]\n##    replicate    id neighbourhood room_type accommodates bathrooms bedrooms  beds\n##        <int> <dbl> <chr>         <chr>            <dbl> <chr>        <dbl> <dbl>\n##  1         1  1177 Downtown      Entire h…            4 2 baths          2     2\n##  2         1  4063 Downtown      Entire h…            2 1 bath           1     1\n##  3         1  2641 Kitsilano     Private …            1 1 shared…        1     1\n##  4         1  1941 West End      Entire h…            2 1 bath           1     1\n##  5         1  2431 Mount Pleasa… Entire h…            2 1 bath           1     1\n##  6         1  1871 Arbutus Ridge Entire h…            4 1 bath           2     2\n##  7         1  2557 Marpole       Private …            3 1 privat…        1     2\n##  8         1  3534 Downtown      Entire h…            2 1 bath           1     1\n##  9         1  4379 Downtown      Entire h…            4 1 bath           1     0\n## 10         1  2161 Downtown      Entire h…            4 2 baths          2     2\n## # ℹ 799,990 more rows\n## # ℹ 1 more variable: price <dbl>\n```", "```r\nsample_estimates <- samples |>\n group_by(replicate) |>\n summarize(mean_price = mean(price))\n\nsample_estimates\n```", "```r\n## # A tibble: 20,000 × 2\n##    replicate mean_price\n##        <int>      <dbl>\n##  1         1     160.06\n##  2         2     173.18\n##  3         3     131.20\n##  4         4     176.96\n##  5         5     125.65\n##  6         6     148.84\n##  7         7     134.82\n##  8         8     137.26\n##  9         9     166.11\n## 10        10     157.81\n## # ℹ 19,990 more rows\n```", "```r\nsampling_distribution_40 <- ggplot(sample_estimates, aes(x = mean_price)) +\n geom_histogram(color = \"lightgrey\") +\n labs(x = \"Sample mean price per night (dollars)\", y = \"Count\") +\n theme(text = element_text(size = 12))\n\nsampling_distribution_40\n```", "```r\none_sample\n```", "```r\n## # A tibble: 40 × 8\n##       id neighbourhood     room_type accommodates bathrooms bedrooms  beds price\n##    <dbl> <chr>             <chr>            <dbl> <chr>        <dbl> <dbl> <dbl>\n##  1  3928 Marpole           Private …            2 1 shared…        1     1    58\n##  2  3013 Kensington-Cedar… Entire h…            4 1 bath           2     2   112\n##  3  3156 Downtown          Entire h…            6 2 baths          2     2   151\n##  4  3873 Dunbar Southlands Private …            5 1 bath           2     3   700\n##  5  3632 Downtown Eastside Entire h…            6 2 baths          3     3   157\n##  6   296 Kitsilano         Private …            1 1 shared…        1     1   100\n##  7  3514 West End          Entire h…            2 1 bath           1     1   110\n##  8   594 Sunset            Entire h…            5 1 bath           3     3   105\n##  9  3305 Dunbar Southlands Entire h…            4 1 bath           1     2   196\n## 10   938 Downtown          Entire h…            7 2 baths          2     3   269\n## # ℹ 30 more rows\n```", "```r\none_sample_dist <- ggplot(one_sample, aes(price)) +\n geom_histogram(color = \"lightgrey\") +\n labs(x = \"Price per night (dollars)\", y = \"Count\") +\n theme(text = element_text(size = 12))\n\none_sample_dist\n```", "```r\nboot1 <- one_sample |>\n rep_sample_n(size = 40, replace = TRUE, reps = 1)\nboot1_dist <- ggplot(boot1, aes(price)) +\n geom_histogram(color = \"lightgrey\") +\n labs(x = \"Price per night (dollars)\", y =  \"Count\") +\n theme(text = element_text(size = 12))\n\nboot1_dist\n```", "```r\nsummarize(boot1, mean_price = mean(price))\n```", "```r\n## # A tibble: 1 × 2\n##   replicate mean_price\n##       <int>      <dbl>\n## 1         1     164.20\n```", "```r\nboot20000 <- one_sample |>\n rep_sample_n(size = 40, replace = TRUE, reps = 20000)\n\nboot20000\n```", "```r\n## # A tibble: 800,000 × 9\n## # Groups:   replicate [20,000]\n##    replicate    id neighbourhood room_type accommodates bathrooms bedrooms  beds\n##        <int> <dbl> <chr>         <chr>            <dbl> <chr>        <dbl> <dbl>\n##  1         1  1276 Hastings-Sun… Entire h…            2 1 bath           1     1\n##  2         1  3235 Hastings-Sun… Entire h…            2 1 bath           1     1\n##  3         1  1301 Oakridge      Entire h…           12 2 baths          2    12\n##  4         1   118 Grandview-Wo… Entire h…            4 1 bath           2     2\n##  5         1  2550 Downtown Eas… Private …            2 1.5 shar…        1     1\n##  6         1  1006 Grandview-Wo… Entire h…            5 1 bath           3     4\n##  7         1  3632 Downtown Eas… Entire h…            6 2 baths          3     3\n##  8         1  1923 West End      Entire h…            4 2 baths          2     2\n##  9         1  3873 Dunbar South… Private …            5 1 bath           2     3\n## 10         1  2349 Kerrisdale    Private …            2 1 shared…        1     1\n## # ℹ 799,990 more rows\n## # ℹ 1 more variable: price <dbl>\n```", "```r\ntail(boot20000)\n```", "```r\n## # A tibble: 6 × 9\n## # Groups:   replicate [1]\n##   replicate    id neighbourhood  room_type accommodates bathrooms bedrooms  beds\n##       <int> <dbl> <chr>          <chr>            <dbl> <chr>        <dbl> <dbl>\n## 1     20000  1949 Kitsilano      Entire h…            3 1 bath           1     1\n## 2     20000  1025 Kensington-Ce… Entire h…            3 1 bath           1     1\n## 3     20000  3013 Kensington-Ce… Entire h…            4 1 bath           2     2\n## 4     20000  2868 Downtown       Entire h…            2 1 bath           1     1\n## 5     20000  3156 Downtown       Entire h…            6 2 baths          2     2\n## 6     20000  1923 West End       Entire h…            4 2 baths          2     2\n## # ℹ 1 more variable: price <dbl>\n```", "```r\nsix_bootstrap_samples <- boot20000 |>\n filter(replicate <= 6)\n\nggplot(six_bootstrap_samples, aes(price)) +\n geom_histogram(color = \"lightgrey\") +\n labs(x = \"Price per night (dollars)\", y = \"Count\") +\n facet_wrap(~replicate) +\n theme(text = element_text(size = 12))\n```", "```r\nsix_bootstrap_samples |>\n group_by(replicate) |>\n summarize(mean_price = mean(price))\n```", "```r\n## # A tibble: 6 × 2\n##   replicate mean_price\n##       <int>      <dbl>\n## 1         1     177.2 \n## 2         2     131.45\n## 3         3     179.10\n## 4         4     171.35\n## 5         5     191.32\n## 6         6     170.05\n```", "```r\nboot20000_means <- boot20000 |>\n group_by(replicate) |>\n summarize(mean_price = mean(price))\n\nboot20000_means\n```", "```r\n## # A tibble: 20,000 × 2\n##    replicate mean_price\n##        <int>      <dbl>\n##  1         1     177.2 \n##  2         2     131.45\n##  3         3     179.10\n##  4         4     171.35\n##  5         5     191.32\n##  6         6     170.05\n##  7         7     178.83\n##  8         8     154.78\n##  9         9     163.85\n## 10        10     209.28\n## # ℹ 19,990 more rows\n```", "```r\ntail(boot20000_means)\n```", "```r\n## # A tibble: 6 × 2\n##   replicate mean_price\n##       <int>      <dbl>\n## 1     19995     130.40\n## 2     19996     189.18\n## 3     19997     168.98\n## 4     19998     168.23\n## 5     19999     155.73\n## 6     20000     136.95\n```", "```r\nboot_est_dist <- ggplot(boot20000_means, aes(x = mean_price)) +\n geom_histogram(color = \"lightgrey\") +\n labs(x = \"Sample mean price per night (dollars)\", y = \"Count\") +\n theme(text = element_text(size = 12))\n\nboot_est_dist\n```", "```r\nbounds <- boot20000_means |>\n select(mean_price) |>\n pull() |>\n quantile(c(0.025, 0.975))\n\nbounds\n```", "```r\n##  2.5% 97.5% \n##   119   204\n```"]