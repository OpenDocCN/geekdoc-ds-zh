- en: Preliminaries
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://phys-sim-book.github.io/lec31.1-pbd_preliminaries.html](https://phys-sim-book.github.io/lec31.1-pbd_preliminaries.html)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
  prefs: []
  type: TYPE_NORMAL
- en: 'To fully appreciate the PBD approach, it is essential to first understand the
    classical formulation of Lagrangian dynamics it gets inspired. The state of a
    dynamic system composed of N particles is described by their individual mass mi​,
    position pi​∈R3, and velocity vi​∈R3. The evolution of this system is governed
    by a pair of first-order ordinary differential equations derived from Newton''s
    second law: v˙i​=mi​1​fi​(32.1.1) p˙​i​=vi​(32.1.2) where fi​ is the sum of all
    forces on particle i.'
  prefs: []
  type: TYPE_NORMAL
- en: 'Rigid bodies require additional attributes to describe their rotational state:
    an orientation quaternion qi​∈H, an angular velocity ωi​∈R3, and an inertia tensor
    Ii​∈R3×3. The rotational motion is then described by the Newton-Euler equations:
    ω˙i​=Ii−1​(τi​−(ωi​×(Ii​ωi​)))(32.1.3) q˙​i​=21​ω^i​qi​(32.1.4) where τi​ is the
    net torque and ω^i​ is the quaternion [0,ωi​].'
  prefs: []
  type: TYPE_NORMAL
- en: 'To simulate this evolution, these continuous equations are discretized using
    a numerical integrator. The Symplectic Euler method updates the velocity first,
    then uses this new velocity to update the position, improving stability over standard
    explicit Euler. For a particle, with time step Δt, the update is: vi​(t0​+Δt)=vi​(t0​)+Δtmi​1​fi​(t0​)(32.1.5)
    pi​(t0​+Δt)=xi​(t0​)+Δtvi​(t0​+Δt)(32.1.6) This procedure is applied analogously
    for rigid body states.'
  prefs: []
  type: TYPE_NORMAL
- en: '***Remark 32.1.1 (Quaternion Normalization).*** Due to numerical integration
    error, the quaternion qi​ may drift from unit length. It is essential to re-normalize
    the quaternion after each integration step to maintain a valid rotational state.'
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Finally, interactions and physical limits are modeled using **holonomic constraints**,
    which depend only on positions and orientations, but not velocities! Constraints
    are kinematic restrictions in the form of equations and inequalities that constrain
    the relative motion of bodies. An **equality (bilateral)** constraint takes the
    form Cj​(p,q)=0, while an **inequality (unilateral)** constraint is Cj​(p,q)≥0.
    In classical dynamics, these are satisfied by computing constraint forces and
    adding them to fi​ in Equation [(32.1.1)](#eq:lagrangian:particle_motion). It
    is this specific mechanism for handling constraints that PBD fundamentally changes.
  prefs: []
  type: TYPE_NORMAL
