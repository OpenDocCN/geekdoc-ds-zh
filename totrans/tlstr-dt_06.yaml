- en: 2  Drinking from a fire hose
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://tellingstorieswithdata.com/02-drinking_from_a_fire_hose.html](https://tellingstorieswithdata.com/02-drinking_from_a_fire_hose.html)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[Foundations](./01-introduction.html)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[2  Drinking from a fire hose](./02-drinking_from_a_fire_hose.html)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '*Chapman and Hall/CRC published this book in July 2023\. You can purchase that
    [here](https://www.routledge.com/Telling-Stories-with-Data-With-Applications-in-R/Alexander/p/book/9781032134772).
    This online version has some updates to what was printed.*  ***Prerequisites**'
  prefs: []
  type: TYPE_NORMAL
- en: 'Read *The mundanity of excellence: An ethnographic report on stratification
    and Olympic swimmers*, ([Chambliss 1989](99-references.html#ref-chambliss1989mundanity))'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: This paper finds that excellence is not due to some special talent or gift,
    but instead due to technique, discipline, and attitude.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Read *Data science as an atomic habit*, ([Barrett 2021](99-references.html#ref-citeBarrett))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: This blog post describes an approach to learning data science that involves
    making small, consistent, actions.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Read *This is how AI bias really happens—and why it’s so hard to fix*, ([Hao
    2019](99-references.html#ref-hao2019))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: This article highlights some of the ways in which models can perpetuate bias.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Key concepts and skills**'
  prefs: []
  type: TYPE_NORMAL
- en: The statistical programming language R enables us to tell interesting stories
    using data. It is a language like any other, and the path to mastery can be slow.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'The workflow that we use to approach projects is: plan, simulate, acquire,
    explore, and share.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The way to learn R is to start with a small project and break down what is required
    to achieve it into tiny steps, look at other people’s code, and draw on that to
    achieve each step. Complete that project and move onto the next project. With
    each project you will get a little better.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Software and packages**'
  prefs: []
  type: TYPE_NORMAL
- en: Base R ([R Core Team 2024](99-references.html#ref-citeR))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Core `tidyverse` ([Wickham et al. 2019](99-references.html#ref-tidyverse))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`dplyr` ([Wickham et al. 2022](99-references.html#ref-citedplyr))'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '`ggplot2` ([Wickham 2016](99-references.html#ref-citeggplot))'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '`tidyr` ([Wickham, Vaughan, and Girlich 2023](99-references.html#ref-citetidyr))'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '`stringr` ([Wickham 2022](99-references.html#ref-citestringr))'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '`readr` ([Wickham, Hester, and Bryan 2022](99-references.html#ref-citereadr))'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '`janitor` ([Firke 2023](99-references.html#ref-janitor))'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`lubridate` ([Grolemund and Wickham 2011](99-references.html#ref-GrolemundWickham2011))'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`opendatatoronto` ([Gelfand 2022](99-references.html#ref-citeSharla))'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`tinytable` ([Arel-Bundock 2024](99-references.html#ref-tinytable))'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: '*## 2.1 Hello, World!'
  prefs: []
  type: TYPE_NORMAL
- en: 'The way to start, is to start. In this chapter we go through three complete
    examples of the data science workflow advocated in this book. This means we:'
  prefs: []
  type: TYPE_NORMAL
- en: \[ \mbox{Plan} \rightarrow \mbox{Simulate} \rightarrow \mbox{Acquire} \rightarrow
    \mbox{Explore} \rightarrow \mbox{Share} \] If you are new to R, then some of the
    code may be a bit unfamiliar to you. If you are new to statistics, then some of
    the concepts may be unfamiliar. Do not worry. It will all soon become familiar.
  prefs: []
  type: TYPE_NORMAL
- en: The only way to learn how to tell stories, is to start telling stories yourself.
    This means that you should try to get these examples working. Do the sketches
    yourself, type everything out yourself (using Posit Cloud if you are new to R
    and do not have it locally installed), and execute it all. It is important to
    realize that it will be challenging at the start. This is normal.
  prefs: []
  type: TYPE_NORMAL
- en: Whenever you’re learning a new tool, for a long time, you’re going to suck\(\dots\)
    But the good news is that is typical; that’s something that happens to everyone,
    and it’s only temporary.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: ''
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Hadley Wickham as quoted by Barrett ([2021](99-references.html#ref-citeBarrett)).
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: You will be guided thoroughly here. Hopefully by experiencing the excitement
    of telling stories with data, you will feel empowered to stick with it.
  prefs: []
  type: TYPE_NORMAL
- en: The first step of the workflow is to plan. We do this because we need to establish
    an end-point, even if we later need to update it as we learn more about the situation.
    We then simulate because this forces us into the details of our plan. In some
    projects, data acquisition may be as straight-forward as downloading a dataset,
    but in others the data acquisition may be much of the focus, for instance, if
    we conduct a survey. We explore the data using various quantitative methods to
    come to understand it. And finally, we share our understanding, in a way that
    is focused on the needs of our audience.
  prefs: []
  type: TYPE_NORMAL
- en: To get started, go to [Posit Cloud](https://posit.cloud) and create an account;
    the free version is fine for now. We use that initially, rather than the desktop,
    so that getting started is the same for everyone, but to avoid having to pay you
    should change to a local installation later. Once you have an account and log
    in, it should look something like [Figure 2.1 (a)](#fig-02-rstudio_cloud-1).
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/0c22287c6a35a5972a021a59b30a698d.png)'
  prefs: []
  type: TYPE_IMG
- en: (a) Opening Posit Cloud for the first time
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/59f1c67a3a741fe43f616e050b91fdb4.png)'
  prefs: []
  type: TYPE_IMG
- en: (b) Opening a new RStudio project
  prefs: []
  type: TYPE_NORMAL
- en: 'Figure 2.1: Getting started with Posit Cloud and a new project'
  prefs: []
  type: TYPE_NORMAL
- en: 'You will be in “Your Projects”. From here you should start a new project: “New
    Project” \(\rightarrow\) “New RStudio Project” ([Figure 2.1 (b)](#fig-02-rstudio_cloud-2)).
    You can give the project a name by clicking on “Untitled Project” and replacing
    it.'
  prefs: []
  type: TYPE_NORMAL
- en: 'We will now go through three worked examples: Australian elections, Toronto
    shelter usage, and neonatal mortality. These examples build increasing complexity,
    but from the first one, we will be telling a story with data. While we briefly
    explain many aspects here, almost everything is explained in much more detail
    in the rest of the book.'
  prefs: []
  type: TYPE_NORMAL
- en: 2.2 Australian elections
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Australia is a parliamentary democracy with 151 seats in the House of Representatives,
    which is the lower house and that from which government is formed. There are two
    major parties—“Liberal” and “Labor”—two minor parties—“Nationals” and “Greens”—and
    many smaller parties and independents. In this example we will create a graph
    of the number of seats that each party won in the 2022 Federal Election.
  prefs: []
  type: TYPE_NORMAL
- en: 2.2.1 Plan
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: For this example, we need to plan two aspects. The first is what the dataset
    that we need will look like, and the second is what the final graph will look
    like.
  prefs: []
  type: TYPE_NORMAL
- en: The basic requirement for the dataset is that it has the name of the seat (sometimes
    called a “division” in Australia) and the party of the person elected. A quick
    sketch of the dataset that we would need is [Figure 2.2 (a)](#fig-australiaexample-data).
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/3a95f1507c69efaf58063b0ae5716b30.png)'
  prefs: []
  type: TYPE_IMG
- en: (a) Quick sketch of a dataset that could be useful for analyzing Australian
    elections
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/a7167ef6b10e6b6dde618cb9163d65c5.png)'
  prefs: []
  type: TYPE_IMG
- en: (b) Quick sketch of a possible graph of the number of seats won by each party
  prefs: []
  type: TYPE_NORMAL
- en: 'Figure 2.2: Sketches of a potential dataset and graph related to an Australian
    election'
  prefs: []
  type: TYPE_NORMAL
- en: We also need to plan the graph that we are interested in. Given we want to display
    the number of seats that each party won, a quick sketch of what we might aim for
    is [Figure 2.2 (b)](#fig-australiaexample-graph).
  prefs: []
  type: TYPE_NORMAL
- en: 2.2.2 Simulate
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: We now simulate some data, to bring some specificity to our sketches.
  prefs: []
  type: TYPE_NORMAL
- en: 'To get started, within Posit Cloud, make a new Quarto document: “File” \(\rightarrow\)
    “New File” \(\rightarrow\) “Quarto document\(\dots\)”. Give it a title, such as
    “Exploring the 2022 Australian Election”, add your name as author, and unclick
    “Use visual markdown editor” ([Figure 2.3 (a)](#fig-quarto-australian-elections-clcik)).
    Leave the other options as their default, and then click “Create”.'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/63e8d0eb533b9195620f11d6fc1ca629.png)'
  prefs: []
  type: TYPE_IMG
- en: (a) Creating a new Quarto document
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/26e94f006ae86ef5258f6d663cf439f1.png)'
  prefs: []
  type: TYPE_IMG
- en: (b) Installing rmarkdown if necessary
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/ecbfca5b30fba3321fe74a628b84f6d9.png)'
  prefs: []
  type: TYPE_IMG
- en: (c) After initial setup and with a preamble
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/bdb91bbf0ffd30687ec2bbd19c1b5785.png)'
  prefs: []
  type: TYPE_IMG
- en: (d) Highlighting the green arrow to run the chunk
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/fbd574c9170e7be56e5aa87a3118420d.png)'
  prefs: []
  type: TYPE_IMG
- en: (e) Highlighting the cross to remove the messages
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/db42ee08a3e9d1fe708628ba2bb96a98.png)'
  prefs: []
  type: TYPE_IMG
- en: (f) Highlighting the render button
  prefs: []
  type: TYPE_NORMAL
- en: 'Figure 2.3: Getting started with a Quarto document'
  prefs: []
  type: TYPE_NORMAL
- en: 'You may get a notification along the lines of “Package rmarkdown required\(\dots\).”
    ([Figure 2.3 (b)](#fig-quarto-australian-elections-wtfquarto)). If that happens,
    click “Install”. For this example, we will put everything into this one Quarto
    document. You should save it as “australian_elections.qmd”: “File” \(\rightarrow\)
    “Save As\(\dots\)”.'
  prefs: []
  type: TYPE_NORMAL
- en: 'Remove almost all the default content, and then beneath the heading material
    create a new R code chunk: “Code” \(\rightarrow\) “Insert Chunk”. Then add preamble
    documentation that explains:'
  prefs: []
  type: TYPE_NORMAL
- en: the purpose of the document;
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: the author and contact details;
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: when the file was written or last updated; and
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: prerequisites that the file relies on.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: '*In R, lines that start with “#” are comments. This means that they are not
    run as code by R, but are instead designed to be read by humans. Each line of
    this preamble should start with a “#”. Also make it clear that this is the preamble
    section by surrounding that with “####”. The result should look like [Figure 2.3
    (c)](#fig-quarto-australian-elections-3).'
  prefs: []
  type: TYPE_NORMAL
- en: After this we need to setup the workspace. This involves installing and loading
    any packages that will be needed. A package only needs to be installed once for
    each computer, but needs to be loaded each time it is to be used. In this case
    we are going to use the `tidyverse` and `janitor` packages. They will need to
    be installed because this is the first time they are being used, and then each
    will need to be loaded.
  prefs: []
  type: TYPE_NORMAL
- en: '*Shoulders of giants* *Hadley Wickham is Chief Scientist at RStudio. After
    earning a PhD in Statistics from Iowa State University in 2008 he was appointed
    as an assistant professor at Rice University, and became Chief Scientist at RStudio,
    now Posit, in 2013\. He developed the `tidyverse` collection of packages, and
    has published many books including *R for Data Science* ([Wickham, Çetinkaya-Rundel,
    and Grolemund [2016] 2023](99-references.html#ref-r4ds)) and *Advanced R* ([Wickham
    2019](99-references.html#ref-advancedr)). He was awarded the COPSS Presidents’
    Award in 2019.*  *An example of installing the packages follows. Run this code
    by clicking the small green arrow associated with the R code chunk ([Figure 2.3
    (d)](#fig-quarto-australian-elections-4)).'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: '*Now that the packages are installed, they need to be loaded. As that package
    installation step only needs to be done once per computer, that code should be
    commented out so that it is not accidentally run, or even just removed. Additionally,
    we can remove the message that printed when we installed the packages ([Figure 2.3
    (e)](#fig-quarto-australian-elections-5)).'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: '*We can render the entire document by clicking “Render” ([Figure 2.3 (f)](#fig-quarto-australian-elections-6)).
    When you do this, you may be asked to install some packages. If that happens,
    then you should agree to this. This will result in a HTML document.'
  prefs: []
  type: TYPE_NORMAL
- en: For an introduction to the packages that were just installed, each package contains
    a help file that provides information about them and their functions. It can be
    accessed by prepending a question mark to the package name and then running that
    code in the console. For instance `?tidyverse`.
  prefs: []
  type: TYPE_NORMAL
- en: 'To simulate our data, we need to create a dataset with two variables: “Division”
    and “Party”, and some values for each. In the case of “Division” reasonable values
    would be a name of one of the 151 Australian divisions. In the case of “Party”
    reasonable values would be one of the following five: “Liberal”, “Labor”, “National”,
    “Green”, or “Other”. Again, this code can be run by clicking the small green arrow
    associated with the R code chunk.'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: '*[PRE5]*  *At a certain point, your code will not run and you will want to
    ask others for help. Do not take a screenshot of a small snippet of the code and
    expect that someone will be able to help based on that. They, almost surely, cannot.
    Instead, you need to provide them with your whole script in a way that they can
    run. We will explain what GitHub is more completely in [Chapter 3](03-workflow.html),
    but for now, if you need help, then you should naively create a GitHub Gist which
    will enable you to share your code in a way that is more helpful than taking a
    screenshot. The first step is to create a free account on [GitHub](https://github.com)
    ([Figure 2.4 (a)](#fig-githubone)). Thinking about an appropriate username is
    important because this will become part of your professional profile. It would
    make sense to have a username that is professional, independent of any course,
    and ideally related to your real name. Then look for a “+” in the top right, and
    select “New gist” ([Figure 2.4 (b)](#fig-githubgistone)).'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/25133178af693cb1a28bf2fb9ea4e2ae.png)'
  prefs: []
  type: TYPE_IMG
- en: (a) GitHub sign-up screen
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/e3427565a662e6c465bbf1cbc7ca12c3.png)'
  prefs: []
  type: TYPE_IMG
- en: (b) New GitHub Gist
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/005281b17fa667fe67b70ee2a46612fb.png)'
  prefs: []
  type: TYPE_IMG
- en: (c) Create a public GitHub Gist to share code
  prefs: []
  type: TYPE_NORMAL
- en: 'Figure 2.4: Creating a Gist to share code when asking for help'
  prefs: []
  type: TYPE_NORMAL
- en: From here you should add all the code to that Gist, not just the final bit that
    is giving an error. And give it a meaningful filename that includes “.R” at the
    end, for instance, “australian_elections.R”. In [Figure 2.4 (c)](#fig-githubgisttwo)
    it will turn out that we have incorrect capitalization, `library(Tidyverse)` instead
    of `library(tidyverse)`.
  prefs: []
  type: TYPE_NORMAL
- en: Click “Create public gist”. We can then share the URL to this Gist with whoever
    we are asking to help, explain what the problem is, and what we are trying to
    achieve. It will be easier for them to help, because all the code is available.*****  ****###
    2.2.3 Acquire
  prefs: []
  type: TYPE_NORMAL
- en: Now we want to get the actual data. The data we need is from the Australian
    Electoral Commission (AEC), which is the non-partisan agency that organizes Australian
    federal elections. We can pass a page of their website to `read_csv()` from `readr`.
    We do not need to explicitly load `readr` because it is part of the `tidyverse`.
    The `<-` or “assignment operator” allocates the output of `read_csv()` to an object
    called “raw_elections_data”.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE6]'
  prefs: []
  type: TYPE_PRE
- en: '*We can take a quick look at the dataset using `head()` which will show the
    first six rows, and `tail()` which will show the last six rows.'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE7]'
  prefs: []
  type: TYPE_PRE
- en: '*[PRE8]'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE9]'
  prefs: []
  type: TYPE_PRE
- en: '*[PRE10]**  **We need to clean the data so that we can use it. We are trying
    to make it similar to the dataset that we thought we wanted in the planning stage.
    While it is fine to move away from the plan, this needs to be a deliberate, reasoned
    decision. After reading in the dataset that we saved, the first thing that we
    will do is adjust the names of the variables. We will do this using `clean_names()`
    from `janitor`.'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE11]'
  prefs: []
  type: TYPE_PRE
- en: '*[PRE12]'
  prefs: []
  type: TYPE_NORMAL
- en: '*[PRE13]*  *The names are faster to type because RStudio will auto-complete
    them. To do this, we begin typing the name of a variable and then use the “tab”
    key to complete it.'
  prefs: []
  type: TYPE_NORMAL
- en: 'There are many variables in the dataset, and we are primarily interested in
    two: “division_nm” and “party_nm”. We can choose certain variables of interest
    with `select()` from `dplyr` which we loaded as part of the `tidyverse`. The “pipe
    operator”, `|>`, pushes the output of one line to be the first input of the function
    on the next line.'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE14]'
  prefs: []
  type: TYPE_PRE
- en: '*[PRE15]*  *Some of the variable names are still not obvious because they are
    abbreviated. We can look at the names of the columns in this dataset with `names()`.
    And we can change the names using `rename()` from `dplyr`.'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE16]'
  prefs: []
  type: TYPE_PRE
- en: '*[PRE17]*  *[PRE18]'
  prefs: []
  type: TYPE_NORMAL
- en: '*[PRE19]*  *We could now look at the unique values in the “elected_party” column
    using `unique()`.'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE20]'
  prefs: []
  type: TYPE_PRE
- en: '*[PRE21]*  *As there is more detail in this than we wanted, we may want to
    simplify the party names to match what we simulated, using `case_match()` from
    `dplyr`.'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE22]'
  prefs: []
  type: TYPE_PRE
- en: '*[PRE23]*  *Our data now matches our plan ([Figure 2.2 (a)](#fig-australiaexample-data)).
    For every electoral division we have the party of the person that won it.'
  prefs: []
  type: TYPE_NORMAL
- en: Having now nicely cleaned the dataset, we should save it, so that we can start
    with that cleaned dataset in the next stage. We should make sure to save it under
    a new file name so we are not replacing the raw data, and so that it is easy to
    identify the cleaned dataset later.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE24]**********  ***### 2.2.4 Explore'
  prefs: []
  type: TYPE_NORMAL
- en: We may like to explore the dataset that we created. One way to better understand
    a dataset is to make a graph. In particular, here we would like to build the graph
    that we planned in [Figure 2.2 (b)](#fig-australiaexample-graph).
  prefs: []
  type: TYPE_NORMAL
- en: First, we read in the dataset that we just created.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE25]'
  prefs: []
  type: TYPE_PRE
- en: '*We can get a quick count of how many seats each party won using `count()`
    from `dplyr`.'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE26]'
  prefs: []
  type: TYPE_PRE
- en: '*[PRE27]*  *To build the graph that we are interested in, we use `ggplot2`
    which is part of the `tidyverse`. The key aspect of this package is that we build
    graphs by adding layers using “+”, which we call the “add operator”. In particular
    we will create a bar chart using `geom_bar()` from `ggplot2` ([Figure 2.5 (a)](#fig-canadanice-1)).'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE28]'
  prefs: []
  type: TYPE_PRE
- en: '*![](../Images/172ea281541c61d25006642b73465c9e.png)'
  prefs: []
  type: TYPE_NORMAL
- en: (a) Default options
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/5c61df1b51006613b53dda612bf5f17a.png)'
  prefs: []
  type: TYPE_IMG
- en: (b) Improved theme and labels
  prefs: []
  type: TYPE_NORMAL
- en: 'Figure 2.5: Number of seats won, by political party, at the 2022 Australian
    Federal Election'
  prefs: []
  type: TYPE_NORMAL
- en: '[Figure 2.5 (a)](#fig-canadanice-1) accomplishes what we set out to do. But
    we can make it look a bit nicer by modifying the default options and improving
    the labels ([Figure 2.5 (b)](#fig-canadanice-2)).***  ***### 2.2.5 Share'
  prefs: []
  type: TYPE_NORMAL
- en: To this point we have downloaded some data, cleaned it, and made a graph. We
    would typically need to communicate what we have done at some length. In this
    case, we can write a few paragraphs about what we did, why we did it, and what
    we found to conclude our workflow. An example follows.
  prefs: []
  type: TYPE_NORMAL
- en: Australia is a parliamentary democracy with 151 seats in the House of Representatives,
    which is the house from which government is formed. There are two major parties—“Liberal”
    and “Labor”—two minor parties—“Nationals” and “Greens”—and many smaller parties.
    The 2022 Federal Election occurred on 21 May, and around 15 million votes were
    cast. We were interested in the number of seats that were won by each party.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: ''
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: We downloaded the results, on a seat-specific basis, from the Australian Electoral
    Commission website. We cleaned and tidied the dataset using the statistical programming
    language R ([R Core Team 2024](99-references.html#ref-citeR)) including the `tidyverse`
    ([Wickham et al. 2019](99-references.html#ref-tidyverse)) and `janitor` ([Firke
    2023](99-references.html#ref-janitor)). We then created a graph of the number
    of seats that each political party won ([Figure 2.5](#fig-canadanice)).
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: ''
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'We found that the Labor Party won 77 seats, followed by the Liberal Party with
    48 seats. The minor parties won the following number of seats: the Nationals won
    10 seats and the Greens won 4 seats. Finally, there were 10 Independents elected
    as well as candidates from smaller parties.'
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: ''
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: The distribution of seats is skewed toward the two major parties which could
    reflect relatively stable preferences on the part of Australian voters, or possibly
    inertia due to the benefits of already being a major party such a national network
    or funding. A better understanding of the reasons for this distribution are of
    interest in future work. While the dataset consists of everyone who voted, it
    worth noting that in Australia some are systematically excluded from voting, and
    it is much more difficult for some to vote than others.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: One aspect to be especially concerned with is making sure that this communication
    is focused on the needs of the audience and telling a story. Data journalism provides
    some excellent examples of how analysis needs to be tailored to the audience,
    for instance, Cardoso ([2020](99-references.html#ref-biasbehindbars)) and Bronner
    ([2020](99-references.html#ref-bronnerftw)).**********  ****## 2.3 Toronto’s unhoused
    population
  prefs: []
  type: TYPE_NORMAL
- en: Toronto has a large unhoused population ([City of Toronto 2021](99-references.html#ref-torontohomeless)).
    Freezing winters mean it is important there are enough places in shelters. In
    this example we will make a table of shelter usage in 2021 to compare average
    use in each month. Our expectation is that there is greater usage in the colder
    months, for instance, December, compared with warmer months, for instance, July.
  prefs: []
  type: TYPE_NORMAL
- en: 2.3.1 Plan
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: The dataset that we are interested in would need to have the date, the shelter,
    and the number of beds that were occupied that night. A quick sketch of a dataset
    that would work is [Figure 2.6 (a)](#fig-torontohomeless-data). We are interested
    in creating a table that has the monthly average number of beds occupied each
    night. The table would probably look something like [Figure 2.6 (b)](#fig-torontohomeless-table).
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/3ee14af5b82c227a86d4723a7eaa6796.png)'
  prefs: []
  type: TYPE_IMG
- en: (a) Quick sketch of a dataset
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/c527fff966b482056bc6c99fcf996bf8.png)'
  prefs: []
  type: TYPE_IMG
- en: (b) Quick sketch of a table of the average number of beds occupied each month
  prefs: []
  type: TYPE_NORMAL
- en: 'Figure 2.6: Sketches of a dataset and table related shelter usage in Toronto'
  prefs: []
  type: TYPE_NORMAL
- en: 2.3.2 Simulate
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: The next step is to simulate some data that could resemble our dataset. Simulation
    provides us with an opportunity to think deeply about our data generating process.
    When we turn to analysis, it will provide us with a guide. Conducting analysis
    without first using simulation can be thought of as shooting arrows without a
    target—while you are certainly doing something, it is not clear whether you are
    doing it well.
  prefs: []
  type: TYPE_NORMAL
- en: In Posit Cloud make a new Quarto document, save it, and make a new R code chunk
    and add preamble documentation. Then install and/or load the packages that are
    needed. We will again use the `tidyverse` and `janitor`. As those were installed
    earlier, they do not need to be installed again. We will also use `lubridate`.
    That is part of the `tidyverse` and so does not need to be installed independently,
    but it does need to be loaded. We will also use `opendatatoronto`, and `knitr`
    and these will need to be installed and loaded.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE29]'
  prefs: []
  type: TYPE_PRE
- en: '*To add a bit more detail to the earlier example, packages contain code that
    other people have written. There are a few common ones that you will see regularly
    in this book, especially the `tidyverse`. To use a package, we must first install
    it and then we need to load it. A package only needs to be installed once per
    computer but must be loaded every time. This means the packages that we installed
    earlier do not need to be reinstalled here.'
  prefs: []
  type: TYPE_NORMAL
- en: '*Shoulders of giants* *Dr Robert Gentleman is a co-creator of R. After earning
    a PhD in Statistics from the University of Washington in 1988, he moved to the
    University of Auckland. He then went onto various roles including at 23andMe and
    is now the Executive Director of the Center for Computational Biomedicine at Harvard
    Medical School.* **Shoulders of giants* *Dr Ross Ihaka is a co-creator of R. He
    earned a PhD in Statistics from the University of California, Berkeley, in 1985\.
    He wrote a dissertation titled “Ruaumoko”, which is the Māori god of earthquakes.
    He then moved to the University of Auckland where he remained for his entire career.
    He was awarded the Pickering Medal in 2008 by the Royal Society of New Zealand
    Te Apārangi.*  *Given that people donate their time to make R and the packages
    that we use, it is important to cite them. To get the information that is needed,
    we use `citation()`. When run without any arguments, that provides the citation
    information for R itself, and when run with an argument that is the name of a
    package, it provides the citation information for that package.'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE30]'
  prefs: []
  type: TYPE_PRE
- en: '*[PRE31]'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE32]'
  prefs: []
  type: TYPE_PRE
- en: '*[PRE33]**  **Turning to the simulation, we need three variables: “date”, “shelter”,
    and “occupancy”. This example will build on the earlier one by adding a seed using
    `set.seed()`. A seed enables us to always generate the same random data whenever
    we run the same code. Any integer can be used as the seed. In this case the seed
    will be 853\. If you use that as your seed, then you should get the same random
    numbers as in this example. If you use a different seed, then you should expect
    different random numbers. Finally, we use `rep()` to repeat something a certain
    number of times. For instance, we repeat “Shelter 1” 365 times which accounts
    for about a year.'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE34]'
  prefs: []
  type: TYPE_PRE
- en: '*[PRE35]*  *In this simulation we first create a list of all the dates in 2021\.
    We repeat that list three times. We assume data for three shelters for every day
    of the year. To simulate the number of beds that are occupied each night, we draw
    from a Poisson distribution, assuming a mean number of 30 beds occupied per shelter,
    although this is just an arbitrary choice. By way of background, a Poisson distribution
    is often used when we have count data, and we return to it in [Chapter 13](13-ijaglm.html).******  ****###
    2.3.3 Acquire'
  prefs: []
  type: TYPE_NORMAL
- en: We use data made available about Toronto shelter usage by the City of Toronto.
    Shelter usage is measured by a count made each night at 4 a.m. of the number of
    occupied beds. To access the data, we use `opendatatoronto` and then save our
    own copy.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE36]'
  prefs: []
  type: TYPE_PRE
- en: '*[PRE37]'
  prefs: []
  type: TYPE_NORMAL
- en: '*[PRE38]*  *Not much needs to be done to this to make it similar to the dataset
    that we were interested in ([Figure 2.6 (a)](#fig-torontohomeless-data)). We need
    to change the names to make them easier to type using `clean_names()`, and reduce
    the columns to only those that are relevant using `select()`.'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE39]'
  prefs: []
  type: TYPE_PRE
- en: '*[PRE40]*  *All that remains is to save the cleaned dataset.'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE41]***  ***### 2.3.4 Explore'
  prefs: []
  type: TYPE_NORMAL
- en: First, we load the dataset that we just created.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE42]'
  prefs: []
  type: TYPE_PRE
- en: '*The dataset contains daily records for each shelter. We are interested in
    understanding average usage for each month. To do this, we need to add a month
    column using `month()` from `lubridate`. By default, `month()` provides the number
    of the month, and so we include two arguments—“label” and “abbr”—to get the full
    name of the month. We remove rows that do not have any data for the number of
    beds using `drop_na()` from `tidyr`, which is part of the `tidyverse`. We will
    do this here unthinkingly because our focus is on getting started, but this is
    an important decision and we talk more about missing data in [Chapter 6](06-farm.html)
    and [Chapter 11](11-eda.html). We then create a summary statistic on the basis
    of monthly groups, using `summarise()` from `dplyr`. We use `tt()` from `tinytable`
    to create [Table 2.1](#tbl-homelessoccupancyd).'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE43]'
  prefs: []
  type: TYPE_PRE
- en: '*Table 2.1: Shelter usage in Toronto in 2021'
  prefs: []
  type: TYPE_NORMAL
- en: '| occupancy_month | number_occupied |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '| January | 28.55708 |'
  prefs: []
  type: TYPE_TB
- en: '| February | 27.73821 |'
  prefs: []
  type: TYPE_TB
- en: '| March | 27.18521 |'
  prefs: []
  type: TYPE_TB
- en: '| April | 26.31561 |'
  prefs: []
  type: TYPE_TB
- en: '| May | 27.42596 |'
  prefs: []
  type: TYPE_TB
- en: '| June | 28.88300 |'
  prefs: []
  type: TYPE_TB
- en: '| July | 29.67137 |'
  prefs: []
  type: TYPE_TB
- en: '| August | 30.83975 |'
  prefs: []
  type: TYPE_TB
- en: '| September | 31.65405 |'
  prefs: []
  type: TYPE_TB
- en: '| October | 32.32991 |'
  prefs: []
  type: TYPE_TB
- en: '| November | 33.26980 |'
  prefs: []
  type: TYPE_TB
- en: '| December | 33.52426 |*  *As with before, this looks fine, and achieves what
    we set out to do. But we can make some tweaks to the defaults to make it look
    even better ([Table 2.2](#tbl-homelessoccupancy)). In particular we make the column
    names easier to read, only show an appropriate number of decimal places, and change
    the alignment (`j` is used to specify the column number of interest and `r` is
    the alignment type i.e. right).'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE44]'
  prefs: []
  type: TYPE_PRE
- en: '*Table 2.2: Shelter usage in Toronto in 2021'
  prefs: []
  type: TYPE_NORMAL
- en: '| Month | Average daily number of occupied beds |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '| January | 29 |'
  prefs: []
  type: TYPE_TB
- en: '| February | 28 |'
  prefs: []
  type: TYPE_TB
- en: '| March | 27 |'
  prefs: []
  type: TYPE_TB
- en: '| April | 26 |'
  prefs: []
  type: TYPE_TB
- en: '| May | 27 |'
  prefs: []
  type: TYPE_TB
- en: '| June | 29 |'
  prefs: []
  type: TYPE_TB
- en: '| July | 30 |'
  prefs: []
  type: TYPE_TB
- en: '| August | 31 |'
  prefs: []
  type: TYPE_TB
- en: '| September | 32 |'
  prefs: []
  type: TYPE_TB
- en: '| October | 32 |'
  prefs: []
  type: TYPE_TB
- en: '| November | 33 |'
  prefs: []
  type: TYPE_TB
- en: '| December | 34 |***  ***### 2.3.5 Share'
  prefs: []
  type: TYPE_NORMAL
- en: We need to write a few brief paragraphs about what we did, why we did it, and
    what we found to sum up our work. An example follows.
  prefs: []
  type: TYPE_NORMAL
- en: Toronto has a large unhoused population. Freezing winters mean it is critical
    there are enough places in shelters. We are interested to understand how usage
    of shelters changes in colder months, compared with warmer months.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: ''
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: We use data provided by the City of Toronto about Toronto shelter bed occupancy.
    Specifically, at 4 a.m. each night a count is made of the occupied beds. We are
    interested in averaging this over the month. We cleaned, tidied, and analyzed
    the dataset using the statistical programming language R ([R Core Team 2024](99-references.html#ref-citeR))
    as well as the `tidyverse` ([Wickham 2017](99-references.html#ref-Wickham2017)),
    `janitor` ([Firke 2023](99-references.html#ref-janitor)), `opendatatoronto` ([Gelfand
    2022](99-references.html#ref-citeSharla)), `lubridate` ([Grolemund and Wickham
    2011](99-references.html#ref-GrolemundWickham2011)), and `knitr` ([Xie 2023](99-references.html#ref-citeknitr)).
    We then made a table of the average number of occupied beds each night for each
    month ([Table 2.2](#tbl-homelessoccupancy)).
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: ''
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: We found that the daily average number of occupied beds was higher in December
    2021 than July 2021, with 34 occupied beds in December, compared with 30 in July
    ([Table 2.2](#tbl-homelessoccupancy)). More generally, there was a steady increase
    in the daily average number of occupied beds between July and December, with a
    slight overall increase each month.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: ''
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: The dataset is on the basis of shelters, and so our results may be skewed by
    changes that are specific to especially large or small shelters. It may be that
    specific shelters are particularly attractive in colder months. Additionally,
    we were concerned with counts of the number of occupied beds, but if the supply
    of beds changes over the season, then an additional statistic of interest would
    be the proportion occupied.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Although this example is only a few paragraphs, it could be reduced to form
    an abstract, or increased to form a full report, for instance, by expanding each
    paragraph into a section. The first paragraph is a general overview, the second
    focuses on the data, the third on the results, and the fourth is a discussion.
    Following the example of Hao ([2019](99-references.html#ref-hao2019)), that fourth
    paragraph is a good place to consider areas in which bias may have crept in.**********  ****##
    2.4 Neonatal mortality
  prefs: []
  type: TYPE_NORMAL
- en: 'Neonatal mortality refers to a death that occurs within the first month of
    life. The neonatal mortality rate (NMR) is the number of neonatal deaths per 1,000
    live births ([UN IGME 2021](99-references.html#ref-unigme)). The Third Sustainable
    Development Goal (SDG) calls for a reduction in NMR to 12\. In this example we
    will create a graph of the estimated NMR for the past 50 years for: Argentina,
    Australia, Canada, and Kenya.'
  prefs: []
  type: TYPE_NORMAL
- en: 2.4.1 Plan
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: For this example, we need to think about what our dataset should look like,
    and what the graph should look like.
  prefs: []
  type: TYPE_NORMAL
- en: The dataset needs to have variables that specify the country and the year. It
    also needs to have a variable with the NMR estimate for that year for that country.
    Roughly, it should look like [Figure 2.7 (a)](#fig-nmrexample-data).
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/7c7d2fa4170e9537e182c5b01125072c.png)'
  prefs: []
  type: TYPE_IMG
- en: (a) Quick sketch of a potentially useful NMR dataset
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/1a45aec21bb2497fe3cbaa0a79d40791.png)'
  prefs: []
  type: TYPE_IMG
- en: (b) Quick sketch of a graph of NMR by country over time
  prefs: []
  type: TYPE_NORMAL
- en: 'Figure 2.7: Sketches of a dataset and graph about the neonatal mortality rate
    (NMR)'
  prefs: []
  type: TYPE_NORMAL
- en: We are interested to make a graph with year on the x-axis and estimated NMR
    on the y-axis. Each country should have its own series. A quick sketch of what
    we are looking for is [Figure 2.7 (b)](#fig-nmrexample-graph).
  prefs: []
  type: TYPE_NORMAL
- en: 2.4.2 Simulate
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'We would like to simulate some data that aligns with our plan. In this case
    we will need three columns: country, year, and NMR.'
  prefs: []
  type: TYPE_NORMAL
- en: Within Posit Cloud, make a new Quarto document and save it. Add preamble documentation
    and set up the workspace. We will use the `tidyverse`, `janitor`, and `lubridate`.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE45]'
  prefs: []
  type: TYPE_PRE
- en: '*The code contained in packages can change from time to time as the authors
    update it and release new versions. We can see which version of a package we are
    using with `packageVersion()`. For instance, we are using version 2.0.0 of the
    `tidyverse` and version 2.2.0 of `janitor`.'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE46]'
  prefs: []
  type: TYPE_PRE
- en: '*[PRE47]'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE48]'
  prefs: []
  type: TYPE_PRE
- en: '*[PRE49]**  **To update the version of all of the packages that we have installed,
    we use `update.packages()`. We can use `tidyverse_update()` to just install the
    `tidyverse` packages. This does not need to be run, say, every day, but from time
    to time it is worth updating packages. While many packages take care to ensure
    backward compatibility, at a certain point this does not become possible. Updating
    packages could result in old code needing to be rewritten. This is not a big deal
    when you are getting started and in any case there are tools aimed at loading
    particular versions that we cover in [Chapter 3](03-workflow.html).'
  prefs: []
  type: TYPE_NORMAL
- en: Returning to the simulation, we repeat the name of each country 50 times with
    `rep()`, and enable the passing of 50 years. Finally, we draw from the uniform
    distribution with `runif()` to simulate an estimated NMR value for that year for
    that country.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE50]'
  prefs: []
  type: TYPE_PRE
- en: '*[PRE51]*  *While this simulation works, it would be time consuming and error
    prone if we decided that instead of 50 years, we were interested in simulating,
    say, 60 years. One way to improve this code is to replace all instances of 50
    with a variable.'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE52]'
  prefs: []
  type: TYPE_PRE
- en: '*[PRE53]*  *The result will be the same, but now if we want to change from
    50 to 60 years, we only have to make the change in one place.'
  prefs: []
  type: TYPE_NORMAL
- en: 'We can have confidence in this simulated dataset because it is relatively straight
    forward, and we wrote the code for it. But when we turn to the real dataset, it
    is more difficult to be sure that it is what it claims to be. Even if we trust
    the data, we need to be able to share that confidence with others. One way forward
    is to establish some tests of whether our data are as they should be. For instance,
    we expect:'
  prefs: []
  type: TYPE_NORMAL
- en: 'That “country” is exclusively one of these four: “Argentina”, “Australia”,
    “Canada”, or “Kenya”.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Conversely, “country” contains all those four countries.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: That “year” is no smaller than 1971 and no larger than 2020, and is an integer,
    not a letter or a number with decimal places.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: That “nmr” is a value somewhere between 0 and 1,000, and is a number.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: We can write a series of tests based on these features, that we expect the dataset
    to pass.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE54]'
  prefs: []
  type: TYPE_PRE
- en: '*Having passed these tests, we can have confidence in the simulated dataset.
    More importantly, we can apply these tests to the real dataset. This enables us
    to have greater confidence in that dataset and to share that confidence with others.******  ***###
    2.4.3 Acquire'
  prefs: []
  type: TYPE_NORMAL
- en: The UN Inter-agency Group for Child Mortality Estimation (IGME) [provides](https://childmortality.org/)
    NMR estimates that we can download and save.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE55]'
  prefs: []
  type: TYPE_PRE
- en: '*With established data, such as this, it can be useful to read supporting material
    about the data. In this case, a codebook is available [here](https://childmortality.org/wp-content/uploads/2021/03/CME-Info_codebook_for_downloads.xlsx).
    After this we can take a quick look at the dataset to get a better sense of it.
    We might be interested in what the dataset looks like with `head()` and `tail()`,
    and what the names of the columns are with `names()`.'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE56]'
  prefs: []
  type: TYPE_PRE
- en: '*[PRE57]*  *[PRE58]'
  prefs: []
  type: TYPE_NORMAL
- en: '*[PRE59]*  *We would like to clean up the names and only keep the rows and
    columns that we are interested in. Based on our plan, we are interested in rows
    where “Sex” is “Total”, “Series Name” is “UN IGME estimate”, “Geographic area”
    is one of “Argentina”, “Australia”, “Canada”, and “Kenya”, and the “Indicator”
    is “Neonatal mortality rate”. After this we are interested in just a few columns:
    “geographic_area”, “time_period”, and “obs_value”.'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE60]'
  prefs: []
  type: TYPE_PRE
- en: '*[PRE61]*  *We need to fix two other aspects: the class of “time_period” is
    character when we need it to be a year, and the name of “obs_value” should be
    “nmr” to be more informative.'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE62]'
  prefs: []
  type: TYPE_PRE
- en: '*[PRE63]*  *Finally, we can check that our dataset passes the tests that we
    developed based on the simulated dataset.'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE64]'
  prefs: []
  type: TYPE_PRE
- en: '*[PRE65]'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE66]'
  prefs: []
  type: TYPE_PRE
- en: '*[PRE67]'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE68]'
  prefs: []
  type: TYPE_PRE
- en: '*[PRE69]'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE70]'
  prefs: []
  type: TYPE_PRE
- en: '*[PRE71]'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE72]'
  prefs: []
  type: TYPE_PRE
- en: '*[PRE73]'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE74]'
  prefs: []
  type: TYPE_PRE
- en: '*[PRE75]'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE76]'
  prefs: []
  type: TYPE_PRE
- en: '*[PRE77]*******  ***All that remains is to save the nicely cleaned dataset.'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE78]********  ***### 2.4.4 Explore'
  prefs: []
  type: TYPE_NORMAL
- en: We would like to make a graph of estimated NMR using the cleaned dataset. First,
    we read in the dataset.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE79]'
  prefs: []
  type: TYPE_PRE
- en: '*We can now make a graph of how NMR has changed over time and the differences
    between countries ([Figure 2.8](#fig-nmrgraph)).'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE80]'
  prefs: []
  type: TYPE_PRE
- en: '*![](../Images/effa13e15a2b2df95583b1fc0119765e.png)'
  prefs: []
  type: TYPE_NORMAL
- en: 'Figure 2.8: Neonatal Mortality Rate (NMR), for Argentina, Australia, Canada,
    and Kenya (1971-2020)**  **### 2.4.5 Share'
  prefs: []
  type: TYPE_NORMAL
- en: To this point we downloaded some data, cleaned it, wrote some tests, and made
    a graph. We would typically need to communicate what we have done at some length.
    In this case, we will write a few paragraphs about what we did, why we did it,
    and what we found.
  prefs: []
  type: TYPE_NORMAL
- en: Neonatal mortality refers to a death that occurs within the first month of life.
    In particular, the neonatal mortality rate (NMR) is the number of neonatal deaths
    per 1,000 live births. We obtain estimates for NMR for four countries—Argentina,
    Australia, Canada, and Kenya—over the past 50 years.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: ''
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'The UN Inter-agency Group for Child Mortality Estimation (IGME) provides estimates
    of the NMR at the website: https://childmortality.org/. We downloaded their estimates
    then cleaned and tidied the dataset using the statistical programming language
    R ([R Core Team 2024](99-references.html#ref-citeR)).'
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: ''
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: We found considerable change in the estimated NMR over time and between the
    four countries of interest ([Figure 2.8](#fig-nmrgraph)). We found that the 1970s
    tended to be associated with reductions in the estimated NMR. Australia and Canada
    were estimated to have a low NMR at that point and remained there through 2020,
    with further slight reductions. The estimates for Argentina and Kenya continued
    to have substantial reductions through 2020.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: ''
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Our results suggest considerable improvements in estimated NMR over time. NMR
    estimates are based on a statistical model and underlying data. The double burden
    of data is that often high-quality data are less easily available for groups,
    in this case countries, with worse outcomes. Our conclusions are subject to the
    model that underpins the estimates and the quality of the underlying data, and
    we did not independently verify either of these.********  ***## 2.5 Concluding
    remarks
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: We have covered much ground in this chapter, and it is normal to have not followed
    it all. The best way to proceed is to go through each of the three case studies
    in your own time. Type all the code out yourself, rather than copy-pasting, and
    run it bit by bit, even if you do not entirely understand what it is doing. Then
    try to add your own comments to it.
  prefs: []
  type: TYPE_NORMAL
- en: It is also the case that it is not necessary to fully understand everything
    in this chapter at this point. Some students find it best to continue going through
    the next few chapters of this book, and return to this one later. Excitingly we
    have shown that with just an hour or two of work it is possible to use data to
    learn something about the world. As we develop those skills we want to also consider,
    with increasing sophistication, about the broader impacts of our work.
  prefs: []
  type: TYPE_NORMAL
- en: “We shouldn’t have to think about the societal impact of our work because it’s
    hard and other people can do it for us” is a really bad argument. I stopped doing
    CV [computer vision] research because I saw the impact my work was having. I loved
    the work but the military applications and privacy concerns eventually became
    impossible to ignore. But basically all facial recognition work would not get
    published if we took Broader Impacts sections seriously. There is almost no upside
    and enormous downside risk. To be fair though I should have a lot of humility
    here. For most of grad school I bought in to the myth that science is apolitical
    and research is objectively moral and good no matter what the subject is.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: ''
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Joe Redmon, 20 February 2020
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Although the term “data science” is ubiquitous in academia, industry, and even
    more generally, as we have seen, it is difficult to define. One deliberately antagonistic
    definition of data science is “[t]he inhumane reduction of humanity down to what
    can be counted” ([Keyes 2019](99-references.html#ref-keyes2019)). While purposefully
    controversial, this definition highlights one reason for the increased demand
    for data science and quantitative methods over the past decade—individuals and
    their behavior are now at the heart of it. Many of the techniques have been around
    for many decades, but what makes them popular now is this human focus.
  prefs: []
  type: TYPE_NORMAL
- en: Unfortunately, even though much of the work may be focused on individuals, the
    issues of privacy and consent, and ethical concerns more broadly, rarely seem
    front of mind. While there are some exceptions, in general, even at the same time
    as claiming that AI, machine learning, and data science are going to revolutionize
    society, consideration of these types of issues appears to have been largely treated
    as something that would be nice to have, rather than something that we may like
    to think of before we embrace the revolution.
  prefs: []
  type: TYPE_NORMAL
- en: For the most part, these types of issues are not new. In the sciences, there
    has been extensive ethical consideration around CRISPR technology and gene editing
    ([Brokowski and Adli 2019](99-references.html#ref-brokowski2019crispr); [Marchese
    2022](99-references.html#ref-marchese2022)). And in an earlier time similar conversations
    were had, for instance, about Wernher von Braun being allowed to build rockets
    for the US despite having done the same for Nazi Germany ([Neufeld 2002](99-references.html#ref-neufeld2002wernher);
    [Wilford 1977](99-references.html#ref-wilford1977)). In medicine these concerns
    have been front-of-mind for some time ([American Medical Association and New York
    Academy of Medicine 1848](99-references.html#ref-american1848code)). Data science
    seems determined to have its own Tuskegee-moment rather than think about, and
    proactively address, these issues based on the experiences of other fields.
  prefs: []
  type: TYPE_NORMAL
- en: That said, there is some evidence that some data scientists are beginning to
    be more concerned about the ethics surrounding the practice. For instance, NeurIPS,
    a prestigious machine learning conference, has required a statement on ethics
    to accompany all submissions since 2020.
  prefs: []
  type: TYPE_NORMAL
- en: In order to provide a balanced perspective, authors are required to include
    a statement of the potential broader impact of their work, including its ethical
    aspects and future societal consequences. Authors should take care to discuss
    both positive and negative outcomes.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: ''
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: NeurIPS 2020 Conference Call For Papers
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: The purpose of ethical consideration and concern for the broader impact of data
    science is not to prescriptively rule things in or out, but to provide an opportunity
    to raise some issues that should be paramount. The variety of data science applications,
    the relative youth of the field, and the speed of change, mean that such considerations
    are sometimes knowingly set aside, and this is acceptable to the rest of the field.
    This contrasts with fields such as science, medicine, engineering, and accounting.
    Possibly those fields are more self-aware ([Figure 2.9](#fig-personalprobability)).
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/d1b1096fdbefd010a3ceae19b0a20655.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Figure 2.9: Numbers cannot be removed from their context, as illustrated in
    “Probability” by Randall Munroe: https://xkcd.com/881/.'
  prefs: []
  type: TYPE_NORMAL
- en: 2.6 Exercises
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Practice
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '*(Plan)* Consider the following scenario: *Every day for a year a person records
    whether they donated $1, $2, or $3.* Please sketch what a dataset could look like,
    and then sketch a graph that you could build to show all observations.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '*(Simulate)* Please further consider the scenario described and simulate the
    situation. Carefully specify an appropriate situation using `sample()`. Then write
    five tests based on the simulated data.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '*(Acquire)* Please specify a source of actual data about the amount of money
    that is donated to charity in a country that you are interested in.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '*(Explore)* Load the `tidyverse` and use `geom_bar()` to make a bar chart.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '*(Share)* Please write two paragraphs as if you had gathered data from the
    source you identified (rather than simulated), and if the graph that you built
    using simulated data reflected the actual situation. The exact details contained
    in the paragraphs do not have to be factual but they should be reasonable (i.e. you
    do not actually have to get the data nor create the graphs). Submit a link to
    a GitHub Gist.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Quiz
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: What does Barrett ([2021](99-references.html#ref-citeBarrett)) emphasize about
    learning data science (pick one)?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Rapid, intense learning sessions.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Learning through failure.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: One-time large projects.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Small, consistent actions.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: From Chambliss ([1989](99-references.html#ref-chambliss1989mundanity)), what
    is excellence (pick one)?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Prolonged performance at world-class level.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: All Olympic medal winners.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Consistent superiority of performance.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: All national-level athletes.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: From Chambliss ([1989](99-references.html#ref-chambliss1989mundanity)), what
    is the key factor that leads to excellence (pick one)?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Natural talent.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Access to resources.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Special training methods.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Discipline, technique, and attitude.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Think about the following quote from Chambliss ([1989, 81](99-references.html#ref-chambliss1989mundanity))
    and list three small skills or activities that could help you achieve excellence
    in data science.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Excellence is mundane. Superlative performance is really a confluence of dozens
    of small skills or activities, each one learned or stumbled upon, which have been
    carefully drilled into habit and then are fitted together in a synthesized whole.
    There is nothing extraordinary or super-human in any one of those actions; only
    the fact that they are done consistently and correctly, and all together, produce
    excellence.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: What is the primary focus of Hao ([2019](99-references.html#ref-hao2019)) (pick
    one)?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Bias in hiring practices.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: How AI models perpetuate bias.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: The benefits of AI in decision-making.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Reducing bias through coding techniques.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: What is not one of the four challenges for mitigating bias mentioned in Hao
    ([2019](99-references.html#ref-hao2019)) (pick one)?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Unknown unknowns.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Imperfect processes.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Disinterest given profit considerations.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Lack of social context.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: The definitions of fairness.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: 'What is the first sentence in the help file for the `tidyverse` (hint: run
    `?tidyverse` in the console) (pick one)?'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: “The ‘tidyverse’ is an opinionated collection of packages designed to help with
    common tasks in data science.”
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: “Welcome to the ‘tidyverse’.”
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: “The ‘tidyverse’ is a set of packages that work in harmony because they share
    common data representations and ‘API’ design.”
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Use a help file to determine which of the following are arguments for `read_csv()`
    (select all that apply)?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: “all_cols”
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: “file”
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: “col_types”
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: “show_col_types”
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: In the *Telling Stories with Data* workflow, what is the first step of a data
    science project (pick one)?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Explore.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Simulate.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Share.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Plan.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Which `R` package, within the core `tidyverse`, is mainly used for data manipulation
    (pick one)?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '`ggplot2`'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '`dplyr`'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '`janitor`'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '`lubridate`'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Which function is used to make column names easier to work with (pick one)?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '`rename()`'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '`mutate()`'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '`clean_names()`'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '`filter()`'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: What is the main purpose of `ggplot2` (pick one)?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Perform statistical analysis.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Create and customize data visualizations.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Clean messy data.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Automate data entry.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Which operator in `R` is used to pass the output of one function as input to
    another function (pick one)?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '`|>`'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '`~`'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '`->`'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '`+`'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: What does the `mutate()` function from the `dplyr` package do (pick one)?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Filter rows.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Group data.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Create or modify columns.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Clean data.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Why is it important to use `set.seed()` during simulation (pick one)?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: To make the process faster.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: To make random results more reproducible.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: To reduce errors in the code.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: To automate data acquisition.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: In the *Telling Stories with Data* workflow, why do we simulate data (select
    all that apply)?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: It forces us into the details of our plan and brings some specificity.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: It provides us with an opportunity to think deeply about our data generating
    process.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Simulation is all you need.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: It helps with working in teams.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: When using `R`’s `sample()` function, what does “replace = TRUE” do (pick one)?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Earlier values are replaced by later values, which helps with reproducibility.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Each value is unique.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: The same value can be selected more than once.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: What distribution does `rpois()` sample from (pick one)?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Normal.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Uniform.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Poisson.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Exponential.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: What distribution does `runif()` sample from (pick one)?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Normal.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Uniform.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Poisson.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Exponential.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Which of the following can be used to draw from the Normal and Binomial distributions,
    respectively (pick one)?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '`rnorm()` and `rbinom()`.'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '`rnorm()` and `rbinomial()`.'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '`rnormal()` and `rbinomial()`.'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '`rnormal()` and `rbinom()`.'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: What is the result of `sample(x = letters, size = 2)` when the seed is set to
    “853”? What about when the seed is set to “1234” (pick one)?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: ‘“i” “q”’ and ‘“e” “r”’.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: ‘“e” “l”’ and ‘“e” “r”’.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: ‘“i” “q”’ and ‘“p” “v”’.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: ‘“e” “l”’ and ‘“p” “v”’.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Which function provides the recommended citation to cite R (pick one)?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '`cite("R")`.'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '`citation()`.'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '`citation("R")`.'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '`cite()`.'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: How do we get the citation information for `opendatatoronto` (pick one)?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '`cite()`'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '`citation()`'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '`citation("opendatatoronto")`'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '`cite("opendatatoronto")`'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Which function is used to update packages (pick one)?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '`update.packages()`'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '`upgrade.packages()`'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '`revise.packages()`'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '`renovate.packages()`'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: What are some features that we might typically expect of a column that claimed
    to be a year (select all that apply)?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The class is “character”.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: There are no negative numbers.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: There are letters in the column.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Each entry has four digits.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Please add a small mistake to the following code. Then add it to a GitHub Gist
    and submit the URL.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE81]'
  prefs: []
  type: TYPE_PRE
- en: '*27.  Why do we simulate a dataset (write at least three dot points)?'
  prefs: []
  type: TYPE_NORMAL
- en: 'This code `library(datasauRus)` is run and results in this error “Error in
    library(datasauRus) : there is no package called ‘datasauRus’”. What is the most
    likely issue (pick one)?'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The ``datasauRus` package was not installed.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Typo in the name `datasauRus`.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: There is a package conflict between `datasauRus` and another one.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: In a dataset about neonatal mortality, what is the best name for a variable
    used to store country names (pick one)?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: “ctry”
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: “geo_area”
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: “country”*  *### Class activities
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Pick one of the `dplyr` verbs – `mutate()`, `select()`, `filter()`, `arrange()`,
    `summarize()` – and explain what it does within the context of an example that
    you simulate.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Simulate 100 draws from the uniform distribution with mean 5 and standard deviation
    2 in the `simulation.R` script. Write one test for this dataset in the `tests.R`
    script.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Simulate 50 draws from the Poisson distribution with lambda 10 in the `simulation.R`
    script. Write two tests for this dataset in the `tests.R` script.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Gather some data on Marriage Licence Statistics in Toronto using Open Data Toronto
    in the `gather.R` script. Clean it in the `cleaning.R` script.[¹](#fn1) Graph
    it in the Quarto document.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The following code produces an error. Please add it to a GitHub Gist, and then
    ask for help in an appropriate venue.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE82]'
  prefs: []
  type: TYPE_PRE
- en: '**   The following code creates an odd-looking graph in terms of dates. Please
    identify the issue and fix it, by adding functions before `ggplot()`.'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE83]'
  prefs: []
  type: TYPE_PRE
- en: '**   Consider the following code to make a graph. You want to move the legend
    to the bottom but cannot remember the `ggplot2` function to do that. Please use
    an LLM to identify the change needed. Share your prompt.'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE84]**  ***### Task'
  prefs: []
  type: TYPE_NORMAL
- en: The purpose of this task is to redo the Australian Elections example, but for
    Canada. It is a chance to work in a realistic setting because the Canadian situation
    has some differences, but the Australian example provides guardrails.
  prefs: []
  type: TYPE_NORMAL
- en: 'By way of background, Canada’s parliament has 338 seats, also known as “ridings”,
    in the House of Commons. The main political parties are: major parties: Liberal
    and Conservative; minor parties: Bloc Québécois, New Democratic, and Green; some
    smaller parties and independents. The steps you should follow are:'
  prefs: []
  type: TYPE_NORMAL
- en: 'Plan:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Dataset: Each observation should include the riding name and the party of the
    elected candidate.'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Graph: The graph should show the number of ridings won by each party.'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Simulate:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Create a Quarto document.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Load necessary packages: `tidyverse`, and `janitor`.'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Simulate election results by randomly assigning parties to ridings: Add numbers
    for the riding, then use `sample()` to randomly choose one of six options, with
    replacement, 338 times.'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Acquire:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Download the CSV file from Elections Canada [here](https://www.elections.ca/res/rep/off/ovr2021app/53/data_donnees/table_tableau11.csv).
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Clean the names, and then select the two columns that are of interest: “electoral_district_name_nom_de_circonscription”,
    and “elected_candidate_candidat_elu”. Finally, rename the columns to remove the
    French and simplify the names.'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: The column that we need is about the elected candidates. That has the surname
    of the elected candidate, followed by a comma, followed by their first name, followed
    by a space, followed by the name of the party in both English and French, separated
    by a slash. Break-up this column into its pieces using `separate()` from `tidyr`
    and then use `select()` to just keep party information (some helper code is below).
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Finally, recode the party names from French to English to match what we simulated.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE85]'
  prefs: []
  type: TYPE_PRE
- en: '*4.  Explore:'
  prefs: []
  type: TYPE_NORMAL
- en: Make a nice graph of the number of ridings won by each party in the 2021 Canadian
    Federal Election.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Share:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Write a few paragraphs about what you did, why you did it, and what you found.
    Submit a link to a GitHub Gist.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'American Medical Association and New York Academy of Medicine. 1848\. *Code
    of Medical Ethics*. Academy of Medicine. [https://hdl.handle.net/2027/chi.57108026](https://hdl.handle.net/2027/chi.57108026).Arel-Bundock,
    Vincent. 2024\. *tinytable: Simple and Configurable Tables in “HTML,” “LaTeX,”
    “Markdown,” “Word,” “PNG,” “PDF,” and “Typst” Formats*. [https://vincentarelbundock.github.io/tinytable/](https://vincentarelbundock.github.io/tinytable/).Barrett,
    Malcolm. 2021\. *Data Science as an Atomic Habit*. [https://malco.io/articles/2021-01-04-data-science-as-an-atomic-habit](https://malco.io/articles/2021-01-04-data-science-as-an-atomic-habit).Brokowski,
    Carolyn, and Mazhar Adli. 2019\. “CRISPR Ethics: Moral Considerations for Applications
    of a Powerful Tool.” *Journal of Molecular Biology* 431 (1): 88–101\. [https://doi.org/10.1016/j.jmb.2018.05.044](https://doi.org/10.1016/j.jmb.2018.05.044).Bronner,
    Laura. 2020\. “Why Statistics Don’t Capture the Full Extent of the Systemic Bias
    in Policing.” *FiveThirtyEight*, June. [https://fivethirtyeight.com/features/why-statistics-dont-capture-the-full-extent-of-the-systemic-bias-in-policing/](https://fivethirtyeight.com/features/why-statistics-dont-capture-the-full-extent-of-the-systemic-bias-in-policing/).Cardoso,
    Tom. 2020\. “Bias behind bars: A Globe investigation finds a prison system stacked
    against Black and Indigenous inmates.” *The Globe and Mail*, October. [https://www.theglobeandmail.com/canada/article-investigation-racial-bias-in-canadian-prison-risk-assessments/](https://www.theglobeandmail.com/canada/article-investigation-racial-bias-in-canadian-prison-risk-assessments/).Chambliss,
    Daniel. 1989\. “The Mundanity of Excellence: An Ethnographic Report on Stratification
    and Olympic Swimmers.” *Sociological Theory* 7 (1): 70–86\. [https://doi.org/10.2307/202063](https://doi.org/10.2307/202063).City
    of Toronto. 2021\. *2021 Street Needs Assessment*. [https://www.toronto.ca/city-government/data-research-maps/research-reports/housing-and-homelessness-research-and-reports/](https://www.toronto.ca/city-government/data-research-maps/research-reports/housing-and-homelessness-research-and-reports/).Firke,
    Sam. 2023\. *janitor: Simple Tools for Examining and Cleaning Dirty Data*. [https://CRAN.R-project.org/package=janitor](https://CRAN.R-project.org/package=janitor).Gelfand,
    Sharla. 2022\. *opendatatoronto: Access the City of Toronto Open Data Portal*.
    [https://CRAN.R-project.org/package=opendatatoronto](https://CRAN.R-project.org/package=opendatatoronto).Grolemund,
    Garrett, and Hadley Wickham. 2011\. “Dates and Times Made Easy with lubridate.”
    *Journal of Statistical Software* 40 (3): 1–25\. [https://doi.org/10.18637/jss.v040.i03](https://doi.org/10.18637/jss.v040.i03).Hao,
    Karen. 2019\. “This is How AI Bias Really Happens—And Why It’s So Hard To Fix.”
    *MIT Technology Review*, February. [https://www.technologyreview.com/2019/02/04/137602/this-is-how-ai-bias-really-happensand-why-its-so-hard-to-fix/](https://www.technologyreview.com/2019/02/04/137602/this-is-how-ai-bias-really-happensand-why-its-so-hard-to-fix/).Keyes,
    Os. 2019\. “Counting the Countless.” *Real Life*. [https://reallifemag.com/counting-the-countless/](https://reallifemag.com/counting-the-countless/).Marchese,
    David. 2022\. “Her Discovery Changed the World. How Does She Think We Should Use
    It?” *The New York Times*, August. [https://www.nytimes.com/interactive/2022/08/15/magazine/jennifer-doudna-crispr-interview.html](https://www.nytimes.com/interactive/2022/08/15/magazine/jennifer-doudna-crispr-interview.html).Neufeld,
    Michael. 2002\. “Wernher von Braun, the SS, and Concentration Camp Labor: Questions
    of Moral, Political, and Criminal Responsibility.” *German Studies Review* 25
    (1): 57–78\. [https://doi.org/10.2307/1433245](https://doi.org/10.2307/1433245).R
    Core Team. 2024\. *R: A Language and Environment for Statistical Computing*. Vienna,
    Austria: R Foundation for Statistical Computing. [https://www.R-project.org/](https://www.R-project.org/).UN
    IGME. 2021\. “Levels and Trends in Child Mortality, 2021.” [https://childmortality.org/wp-content/uploads/2021/12/UNICEF-2021-Child-Mortality-Report.pdf](https://childmortality.org/wp-content/uploads/2021/12/UNICEF-2021-Child-Mortality-Report.pdf).Wickham,
    Hadley. 2016\. *ggplot2: Elegant Graphics for Data Analysis*. Springer-Verlag
    New York. [https://ggplot2.tidyverse.org](https://ggplot2.tidyverse.org).———.
    2017\. *tidyverse: Easily Install and Load the “Tidyverse”*. [https://CRAN.R-project.org/package=tidyverse](https://CRAN.R-project.org/package=tidyverse).———.
    2019\. *Advanced R*. 2nd ed. Chapman; Hall/CRC. [https://adv-r.hadley.nz](https://adv-r.hadley.nz).———.
    2022\. *stringr: Simple, Consistent Wrappers for Common String Operations*. [https://CRAN.R-project.org/package=stringr](https://CRAN.R-project.org/package=stringr).Wickham,
    Hadley, Mara Averick, Jenny Bryan, Winston Chang, Lucy D’Agostino McGowan, Romain
    François, Garrett Grolemund, et al. 2019\. “Welcome to the Tidyverse.” *Journal
    of Open Source Software* 4 (43): 1686\. [https://doi.org/10.21105/joss.01686](https://doi.org/10.21105/joss.01686).Wickham,
    Hadley, Mine Çetinkaya-Rundel, and Garrett Grolemund. (2016) 2023\. *R for Data
    Science*. 2nd ed. O’Reilly Media. [https://r4ds.hadley.nz](https://r4ds.hadley.nz).Wickham,
    Hadley, Romain François, Lionel Henry, and Kirill Müller. 2022\. *dplyr: A Grammar
    of Data Manipulation*. [https://CRAN.R-project.org/package=dplyr](https://CRAN.R-project.org/package=dplyr).Wickham,
    Hadley, Jim Hester, and Jenny Bryan. 2022\. *readr: Read Rectangular Text Data*.
    [https://CRAN.R-project.org/package=readr](https://CRAN.R-project.org/package=readr).Wickham,
    Hadley, Davis Vaughan, and Maximilian Girlich. 2023\. *tidyr: Tidy Messy Data*.
    [https://CRAN.R-project.org/package=tidyr](https://CRAN.R-project.org/package=tidyr).Wilford,
    John Noble. 1977\. “Wernher von Braun, Rocket Pioneer, Dies.” *The New York Times*,
    June. [https://www.nytimes.com/1977/06/18/archives/wernher-von-braun-rocket-pioneer-dies-wernher-von-braun-pioneer-in.html](https://www.nytimes.com/1977/06/18/archives/wernher-von-braun-rocket-pioneer-dies-wernher-von-braun-pioneer-in.html).Xie,
    Yihui. 2023\. *knitr: A General-Purpose Package for Dynamic Report Generation
    in R*. [https://yihui.org/knitr/](https://yihui.org/knitr/).***** **** * *'
  prefs: []
  type: TYPE_NORMAL
- en: Consider `separate()` and then `lubridate::ymd()` for the dates.[↩︎](#fnref1)****************
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
