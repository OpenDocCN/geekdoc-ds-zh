["```r\nmy_numbers <-  c(1, 2, 3, 1, 3, 5, 25)\nyour_numbers <-  c(5, 31, 71, 1, 3, 21, 6)\n```", "```r\nmy_numbers[4]\n```", "```r\n## [1] 1\n```", "```r\nmy_numbers[7]\n```", "```r\n## [1] 25\n```", "```r\nmy_numbers[2:4]\n```", "```r\n## [1] 2 3 1\n```", "```r\nmy_numbers[c(2, 4)]\n```", "```r\n## [1] 2 1\n```", "```r\nmy_tb <-  tibble(\n mine = c(1,4,5, 8:11),\n yours = c(3,20,16, 34:31))\n\nclass(my_tb)\n```", "```r\n## [1] \"tbl_df\"     \"tbl\"        \"data.frame\"\n```", "```r\nmy_tb\n```", "```r\n## # A tibble: 7 x 2\n##    mine yours\n##   <dbl> <dbl>\n## 1  1.00  3.00\n## 2  4.00 20.0 \n## 3  5.00 16.0 \n## 4  8.00 34.0 \n## 5  9.00 33.0 \n## 6 10.0  32.0 \n## 7 11.0  31.0\n```", "```r\nmy_tb[3,1] # Row 3 Col 1\n```", "```r\n## # A tibble: 1 x 1\n##    mine\n##   <dbl>\n## 1  5.00\n```", "```r\nmy_tb[1,2] # Row 1, Col 2 \n```", "```r\n## # A tibble: 1 x 1\n##   yours\n##   <dbl>\n## 1  3.00\n```", "```r\nmy_tb[3,\"mine\"] # Row 3 Col 1\n```", "```r\n## # A tibble: 1 x 1\n##    mine\n##   <dbl>\n## 1  5.00\n```", "```r\nmy_tb[1,\"yours\"] # Row 1, Col 2 \n```", "```r\n## # A tibble: 1 x 1\n##   yours\n##   <dbl>\n## 1  3.00\n```", "```r\nmy_tb[3,\"mine\"] # Row 3 Col 1\n```", "```r\n## # A tibble: 1 x 1\n##    mine\n##   <dbl>\n## 1  5.00\n```", "```r\nmy_tb[1,\"yours\"] # Row 1, Col 2 \n```", "```r\n## # A tibble: 1 x 1\n##   yours\n##   <dbl>\n## 1  3.00\n```", "```r\nmy_tb[,\"mine\"] # All rows, Col 1\n```", "```r\n## # A tibble: 7 x 1\n##    mine\n##   <dbl>\n## 1  1.00\n## 2  4.00\n## 3  5.00\n## 4  8.00\n## 5  9.00\n## 6 10.0 \n## 7 11.0\n```", "```r\nmy_tb[4,] # Row 4, all cols\n```", "```r\n## # A tibble: 1 x 2\n##    mine yours\n##   <dbl> <dbl>\n## 1  8.00  34.0\n```", "```r\nmy_tb$mine\n```", "```r\n## [1]  1  4  5  8  9 10 11\n```", "```r\nout <-  lm(mine ~  yours, data = my_tb)\n\nout$coefficients\n```", "```r\n## (Intercept)       yours \n##  -0.0801192   0.2873422\n```", "```r\nout$call\n```", "```r\n## lm(formula = mine ~ yours, data = my_tb)\n```", "```r\nout$qr$rank # nested \n```", "```r\n## [1] 2\n```", "```r\nmy_tb$ours <-  my_tb$mine +  my_tb$yours\nmy_tb\n```", "```r\n## # A tibble: 7 x 3\n##    mine yours  ours\n##   <dbl> <dbl> <dbl>\n## 1  1.00  3.00  4.00\n## 2  4.00 20.0  24.0 \n## 3  5.00 16.0  21.0 \n## 4  8.00 34.0  42.0 \n## 5  9.00 33.0  42.0 \n## 6 10.0  32.0  42.0 \n## 7 11.0  31.0  42.0\n```", "```r\n## # A tibble: 366 x 11\n##    age   sex    year total elem4 elem8   hs3   hs4 coll3 coll4 median\n##    <chr> <chr> <int> <int> <int> <int> <dbl> <dbl> <dbl> <dbl>  <dbl>\n##  1 25-34 Male   2016 21845   116   468  1427  6386  6015  7432     NA\n##  2 25-34 Male   2015 21427   166   488  1584  6198  5920  7071     NA\n##  3 25-34 Male   2014 21217   151   512  1611  6323  5910  6710     NA\n##  4 25-34 Male   2013 20816   161   582  1747  6058  5749  6519     NA\n##  5 25-34 Male   2012 20464   161   579  1707  6127  5619  6270     NA\n##  6 25-34 Male   2011 20985   190   657  1791  6444  5750  6151     NA\n##  7 25-34 Male   2010 20689   186   641  1866  6458  5587  5951     NA\n##  8 25-34 Male   2009 20440   184   695  1806  6495  5508  5752     NA\n##  9 25-34 Male   2008 20210   172   714  1874  6356  5277  5816     NA\n## 10 25-34 Male   2007 20024   246   757  1930  6361  5137  5593     NA\n## # ... with 356 more rows\n```", "```r\nedu_t <-  gather(data = edu,\n key = school,\n value = freq,\n elem4:coll4)\n\nhead(edu_t) \n```", "```r\n## # A tibble: 6 x 7\n##   age   sex    year total median school  freq\n##   <chr> <chr> <int> <int>  <dbl> <chr>  <dbl>\n## 1 25-34 Male   2016 21845     NA elem4    116\n## 2 25-34 Male   2015 21427     NA elem4    166\n## 3 25-34 Male   2014 21217     NA elem4    151\n## 4 25-34 Male   2013 20816     NA elem4    161\n## 5 25-34 Male   2012 20464     NA elem4    161\n## 6 25-34 Male   2011 20985     NA elem4    190\n```", "```r\ntail(edu_t) \n```", "```r\n## # A tibble: 6 x 7\n##   age   sex     year total median school  freq\n##   <chr> <chr>  <int> <int>  <dbl> <chr>  <dbl>\n## 1 55>   Female  1959 16263   8.30 coll4    688\n## 2 55>   Female  1957 15581   8.20 coll4    630\n## 3 55>   Female  1952 13662   7.90 coll4    628\n## 4 55>   Female  1950 13150   8.40 coll4    436\n## 5 55>   Female  1947 11810   7.60 coll4    343\n## 6 55>   Female  1940  9777   8.30 coll4    219\n```", "```r\nhead(bad_date)\n```", "```r\n## # A tibble: 6 x 2\n##   date       N\n##   <chr>  <int>\n## 1 9/1/11 44426\n## 2 9/2/11 55112\n## 3 9/3/11 19263\n## 4 9/4/11 12330\n## 5 9/5/11  8534\n## 6 9/6/11 59490\n```", "```r\np <-  ggplot(data = bad_date, aes(x = date, y = N))\np +  geom_line()\n```", "```r\n## geom_path: Each group consists of only one observation.\n## Do you need to adjust the group aesthetic?\n```", "```r\nbad_date2 <-  rbind(bad_date, bad_date)\n\np <-  ggplot(data = bad_date2, aes(x = date, y = N))\np +  geom_line()\n```", "```r\n# install.packages(\"lubridate\")\nlibrary(lubridate)\n\nbad_date$date <-  mdy(bad_date$date)\nhead(bad_date)\n```", "```r\n## # A tibble: 6 x 2\n##   date           N\n##   <date>     <int>\n## 1 2011-09-01 44426\n## 2 2011-09-02 55112\n## 3 2011-09-03 19263\n## 4 2011-09-04 12330\n## 5 2011-09-05  8534\n## 6 2011-09-06 59490\n```", "```r\np <-  ggplot(data = bad_date, aes(x = date, y = N))\np +  geom_line()\n```", "```r\nurl <- \"https://cdn.rawgit.com/kjhealy/viz-organdata/master/organdonation.csv\"\n\nbad_year <-  read_csv(url)\nbad_year %>%  select(1:3) %>%  sample_n(10)\n```", "```r\n## # A tibble: 10 x 3\n##    country        year donors\n##    <chr>         <int>  <dbl>\n##  1 United States  1994  19.4 \n##  2 Australia      1999   8.67\n##  3 Canada         2001  13.5 \n##  4 Australia      1994  10.2 \n##  5 Sweden         1993  15.2 \n##  6 Ireland        1992  19.5 \n##  7 Switzerland    1997  14.3 \n##  8 Ireland        2000  17.6 \n##  9 Switzerland    1998  15.4 \n## 10 Norway           NA  NA\n```", "```r\np <-  ggplot(data = bad_year, aes(x = year, y = donors))\np +  geom_point()\n```", "```r\nbad_year$year <-  int_to_year(bad_year$year)\nbad_year %>%  select(1:3)\n```", "```r\n## # A tibble: 238 x 3\n##    country   year       donors\n##    <chr>     <date>      <dbl>\n##  1 Australia NA          NA   \n##  2 Australia 1991-01-01  12.1 \n##  3 Australia 1992-01-01  12.4 \n##  4 Australia 1993-01-01  12.5 \n##  5 Australia 1994-01-01  10.2 \n##  6 Australia 1995-01-01  10.2 \n##  7 Australia 1996-01-01  10.6 \n##  8 Australia 1997-01-01  10.3 \n##  9 Australia 1998-01-01  10.5 \n## 10 Australia 1999-01-01   8.67\n## # ... with 228 more rows\n```", "```r\nadd_xy(x = 1, y = 7)\n```", "```r\n## [1] 8\n```", "```r\nadd_xy <-  function(x, y) {\n x +  y\n}\n```", "```r\nadd_xy(x = 5, y = 2)\n```", "```r\n## [1] 7\n```", "```r\nplot_section <-  function(section=\"Culture\", x = \"Year\",\n y = \"Members\", data = asasec,\n smooth=FALSE){\n require(ggplot2)\n require(splines)\n # Note use of aes_string() rather than aes() \n p <-  ggplot(subset(data, Sname==section),\n mapping = aes_string(x=x, y=y))\n\n if(smooth ==  TRUE) {\n p0 <-  p +  geom_smooth(color = \"#999999\",\n size = 1.2, method = \"lm\",\n formula = y ~  ns(x, 3)) +\n scale_x_continuous(breaks = c(seq(2005, 2015, 4))) +\n labs(title = section)\n } else {\n p0 <-  p +  geom_line(color= \"#E69F00\", size=1.2) +\n scale_x_continuous(breaks = c(seq(2005, 2015, 4))) +\n labs(title = section)\n }\n\n print(p0)\n}\n```", "```r\nplot_section(\"Rationality\")\nplot_section(\"Sexualities\", smooth = TRUE)\n```", "```r\nplot_section <-  function(section=\"Culture\", x = \"Year\",\n y = \"Members\", data = asasec,\n smooth=FALSE, ...){\n require(ggplot2)\n require(splines)\n # Note use of aes_string() rather than aes() \n p <-  ggplot(subset(data, Sname==section),\n mapping = aes_string(x=x, y=y))\n\n if(smooth ==  TRUE) {\n p0 <-  p +  geom_smooth(color = \"#999999\",\n size = 1.2, ...) +\n scale_x_continuous(breaks = c(seq(2005, 2015, 4))) +\n labs(title = section)\n } else {\n p0 <-  p +  geom_line(color= \"#E69F00\", size=1.2) +\n scale_x_continuous(breaks = c(seq(2005, 2015, 4))) +\n labs(title = section)\n }\n\n print(p0)\n}\n```", "```r\nplot_section(\"Comm/Urban\",\n smooth = TRUE,\n method = \"loess\")\nplot_section(\"Children\",\n smooth = TRUE,\n method = \"lm\",\n formula = y ~  ns(x, 2))\n```", "```r\n## An absolute file path.\n## Notice the leading \"/\" that starts at the very top\n## of the computer's file hierarchy.\nmy_data <-  read_csv(\"/Users/kjhealy/projects/gss/data/gss.csv\")\n```", "```r\nmy_data <-  read_csv(here(\"data\", \"gss.csv\"))\n```", "```r\n# You will need to use install.packages() to install\n# these map and GIS libraries if you do not already\n# have them.\n\nlibrary(maptools)\nlibrary(mapproj)\nlibrary(rgeos)\nlibrary(rgdal)\n\nus_counties <-  readOGR(dsn=\"data/geojson/gz_2010_us_050_00_5m.json\",\n layer=\"OGRGeoJSON\")\n\nus_counties_aea <-  spTransform(us_counties,\n CRS(\"+proj=laea +lat_0=45 +lon_0=-100 \\\n +x_0=0 +y_0=0 +a=6370997 +b=6370997 \\\n +units=m +no_defs\"))\n\nus_counties_aea@data$id <-  rownames(us_counties_aea@data)\n```", "```r\nalaska <-  us_counties_aea[us_counties_aea$STATE == \"02\",]\nalaska <-  elide(alaska, rotate=-50)\nalaska <-  elide(alaska, scale=max(apply(bbox(alaska), 1, diff)) /  2.3)\nalaska <-  elide(alaska, shift=c(-2100000, -2500000))\nproj4string(alaska) <-  proj4string(us_counties_aea)\n\nhawaii <-  us_counties_aea[us_counties_aea$STATE==\"15\",]\nhawaii <-  elide(hawaii, rotate=-35)\nhawaii <-  elide(hawaii, shift=c(5400000, -1400000))\nproj4string(hawaii) <-  proj4string(us_counties_aea)\n\nus_counties_aea <-  us_counties_aea[!us_counties_aea$STATE %in%  c(\"02\", \"15\", \"72\"),]\nus_counties_aea <-  rbind(us_counties_aea, alaska, hawaii)\n```", "```r\ncounty_map <-  tidy(us_counties_aea, region = \"GEO_ID\")\ncounty_map$id <-  stringr::str_replace(county_map$id,\n pattern = \"0500000US\", replacement = \"\")\n```", "```r\ndevtools::install_github(\"hrbrmstr/hrbrthemes\")\n```", "```r\ntheme_map <-  function(base_size=9, base_family=\"\") {\n require(grid)\n theme_bw(base_size=base_size, base_family=base_family) %+replace%\n theme(axis.line=element_blank(),\n axis.text=element_blank(),\n axis.ticks=element_blank(),\n axis.title=element_blank(),\n panel.background=element_blank(),\n panel.border=element_blank(),\n panel.grid=element_blank(),\n panel.spacing=unit(0, \"lines\"),\n plot.background=element_blank(),\n legend.justification = c(0,0),\n legend.position = c(0,0)\n )\n}\n```", "```r\nmy_numbers <-  c(1, 2, 3, 1, 3, 5, 25)\nyour_numbers <-  c(5, 31, 71, 1, 3, 21, 6)\n```", "```r\nmy_numbers[4]\n```", "```r\n## [1] 1\n```", "```r\nmy_numbers[7]\n```", "```r\n## [1] 25\n```", "```r\nmy_numbers[2:4]\n```", "```r\n## [1] 2 3 1\n```", "```r\nmy_numbers[c(2, 4)]\n```", "```r\n## [1] 2 1\n```", "```r\nmy_tb <-  tibble(\n mine = c(1,4,5, 8:11),\n yours = c(3,20,16, 34:31))\n\nclass(my_tb)\n```", "```r\n## [1] \"tbl_df\"     \"tbl\"        \"data.frame\"\n```", "```r\nmy_tb\n```", "```r\n## # A tibble: 7 x 2\n##    mine yours\n##   <dbl> <dbl>\n## 1  1.00  3.00\n## 2  4.00 20.0 \n## 3  5.00 16.0 \n## 4  8.00 34.0 \n## 5  9.00 33.0 \n## 6 10.0  32.0 \n## 7 11.0  31.0\n```", "```r\nmy_tb[3,1] # Row 3 Col 1\n```", "```r\n## # A tibble: 1 x 1\n##    mine\n##   <dbl>\n## 1  5.00\n```", "```r\nmy_tb[1,2] # Row 1, Col 2 \n```", "```r\n## # A tibble: 1 x 1\n##   yours\n##   <dbl>\n## 1  3.00\n```", "```r\nmy_tb[3,\"mine\"] # Row 3 Col 1\n```", "```r\n## # A tibble: 1 x 1\n##    mine\n##   <dbl>\n## 1  5.00\n```", "```r\nmy_tb[1,\"yours\"] # Row 1, Col 2 \n```", "```r\n## # A tibble: 1 x 1\n##   yours\n##   <dbl>\n## 1  3.00\n```", "```r\nmy_tb[3,\"mine\"] # Row 3 Col 1\n```", "```r\n## # A tibble: 1 x 1\n##    mine\n##   <dbl>\n## 1  5.00\n```", "```r\nmy_tb[1,\"yours\"] # Row 1, Col 2 \n```", "```r\n## # A tibble: 1 x 1\n##   yours\n##   <dbl>\n## 1  3.00\n```", "```r\nmy_tb[,\"mine\"] # All rows, Col 1\n```", "```r\n## # A tibble: 7 x 1\n##    mine\n##   <dbl>\n## 1  1.00\n## 2  4.00\n## 3  5.00\n## 4  8.00\n## 5  9.00\n## 6 10.0 \n## 7 11.0\n```", "```r\nmy_tb[4,] # Row 4, all cols\n```", "```r\n## # A tibble: 1 x 2\n##    mine yours\n##   <dbl> <dbl>\n## 1  8.00  34.0\n```", "```r\nmy_tb$mine\n```", "```r\n## [1]  1  4  5  8  9 10 11\n```", "```r\nout <-  lm(mine ~  yours, data = my_tb)\n\nout$coefficients\n```", "```r\n## (Intercept)       yours \n##  -0.0801192   0.2873422\n```", "```r\nout$call\n```", "```r\n## lm(formula = mine ~ yours, data = my_tb)\n```", "```r\nout$qr$rank # nested \n```", "```r\n## [1] 2\n```", "```r\nmy_tb$ours <-  my_tb$mine +  my_tb$yours\nmy_tb\n```", "```r\n## # A tibble: 7 x 3\n##    mine yours  ours\n##   <dbl> <dbl> <dbl>\n## 1  1.00  3.00  4.00\n## 2  4.00 20.0  24.0 \n## 3  5.00 16.0  21.0 \n## 4  8.00 34.0  42.0 \n## 5  9.00 33.0  42.0 \n## 6 10.0  32.0  42.0 \n## 7 11.0  31.0  42.0\n```", "```r\n## # A tibble: 366 x 11\n##    age   sex    year total elem4 elem8   hs3   hs4 coll3 coll4 median\n##    <chr> <chr> <int> <int> <int> <int> <dbl> <dbl> <dbl> <dbl>  <dbl>\n##  1 25-34 Male   2016 21845   116   468  1427  6386  6015  7432     NA\n##  2 25-34 Male   2015 21427   166   488  1584  6198  5920  7071     NA\n##  3 25-34 Male   2014 21217   151   512  1611  6323  5910  6710     NA\n##  4 25-34 Male   2013 20816   161   582  1747  6058  5749  6519     NA\n##  5 25-34 Male   2012 20464   161   579  1707  6127  5619  6270     NA\n##  6 25-34 Male   2011 20985   190   657  1791  6444  5750  6151     NA\n##  7 25-34 Male   2010 20689   186   641  1866  6458  5587  5951     NA\n##  8 25-34 Male   2009 20440   184   695  1806  6495  5508  5752     NA\n##  9 25-34 Male   2008 20210   172   714  1874  6356  5277  5816     NA\n## 10 25-34 Male   2007 20024   246   757  1930  6361  5137  5593     NA\n## # ... with 356 more rows\n```", "```r\nedu_t <-  gather(data = edu,\n key = school,\n value = freq,\n elem4:coll4)\n\nhead(edu_t) \n```", "```r\n## # A tibble: 6 x 7\n##   age   sex    year total median school  freq\n##   <chr> <chr> <int> <int>  <dbl> <chr>  <dbl>\n## 1 25-34 Male   2016 21845     NA elem4    116\n## 2 25-34 Male   2015 21427     NA elem4    166\n## 3 25-34 Male   2014 21217     NA elem4    151\n## 4 25-34 Male   2013 20816     NA elem4    161\n## 5 25-34 Male   2012 20464     NA elem4    161\n## 6 25-34 Male   2011 20985     NA elem4    190\n```", "```r\ntail(edu_t) \n```", "```r\n## # A tibble: 6 x 7\n##   age   sex     year total median school  freq\n##   <chr> <chr>  <int> <int>  <dbl> <chr>  <dbl>\n## 1 55>   Female  1959 16263   8.30 coll4    688\n## 2 55>   Female  1957 15581   8.20 coll4    630\n## 3 55>   Female  1952 13662   7.90 coll4    628\n## 4 55>   Female  1950 13150   8.40 coll4    436\n## 5 55>   Female  1947 11810   7.60 coll4    343\n## 6 55>   Female  1940  9777   8.30 coll4    219\n```", "```r\nmy_numbers <-  c(1, 2, 3, 1, 3, 5, 25)\nyour_numbers <-  c(5, 31, 71, 1, 3, 21, 6)\n```", "```r\nmy_numbers[4]\n```", "```r\n## [1] 1\n```", "```r\nmy_numbers[7]\n```", "```r\n## [1] 25\n```", "```r\nmy_numbers[2:4]\n```", "```r\n## [1] 2 3 1\n```", "```r\nmy_numbers[c(2, 4)]\n```", "```r\n## [1] 2 1\n```", "```r\nmy_tb <-  tibble(\n mine = c(1,4,5, 8:11),\n yours = c(3,20,16, 34:31))\n\nclass(my_tb)\n```", "```r\n## [1] \"tbl_df\"     \"tbl\"        \"data.frame\"\n```", "```r\nmy_tb\n```", "```r\n## # A tibble: 7 x 2\n##    mine yours\n##   <dbl> <dbl>\n## 1  1.00  3.00\n## 2  4.00 20.0 \n## 3  5.00 16.0 \n## 4  8.00 34.0 \n## 5  9.00 33.0 \n## 6 10.0  32.0 \n## 7 11.0  31.0\n```", "```r\nmy_tb[3,1] # Row 3 Col 1\n```", "```r\n## # A tibble: 1 x 1\n##    mine\n##   <dbl>\n## 1  5.00\n```", "```r\nmy_tb[1,2] # Row 1, Col 2 \n```", "```r\n## # A tibble: 1 x 1\n##   yours\n##   <dbl>\n## 1  3.00\n```", "```r\nmy_tb[3,\"mine\"] # Row 3 Col 1\n```", "```r\n## # A tibble: 1 x 1\n##    mine\n##   <dbl>\n## 1  5.00\n```", "```r\nmy_tb[1,\"yours\"] # Row 1, Col 2 \n```", "```r\n## # A tibble: 1 x 1\n##   yours\n##   <dbl>\n## 1  3.00\n```", "```r\nmy_tb[3,\"mine\"] # Row 3 Col 1\n```", "```r\n## # A tibble: 1 x 1\n##    mine\n##   <dbl>\n## 1  5.00\n```", "```r\nmy_tb[1,\"yours\"] # Row 1, Col 2 \n```", "```r\n## # A tibble: 1 x 1\n##   yours\n##   <dbl>\n## 1  3.00\n```", "```r\nmy_tb[,\"mine\"] # All rows, Col 1\n```", "```r\n## # A tibble: 7 x 1\n##    mine\n##   <dbl>\n## 1  1.00\n## 2  4.00\n## 3  5.00\n## 4  8.00\n## 5  9.00\n## 6 10.0 \n## 7 11.0\n```", "```r\nmy_tb[4,] # Row 4, all cols\n```", "```r\n## # A tibble: 1 x 2\n##    mine yours\n##   <dbl> <dbl>\n## 1  8.00  34.0\n```", "```r\nmy_tb$mine\n```", "```r\n## [1]  1  4  5  8  9 10 11\n```", "```r\nout <-  lm(mine ~  yours, data = my_tb)\n\nout$coefficients\n```", "```r\n## (Intercept)       yours \n##  -0.0801192   0.2873422\n```", "```r\nout$call\n```", "```r\n## lm(formula = mine ~ yours, data = my_tb)\n```", "```r\nout$qr$rank # nested \n```", "```r\n## [1] 2\n```", "```r\nmy_tb$ours <-  my_tb$mine +  my_tb$yours\nmy_tb\n```", "```r\n## # A tibble: 7 x 3\n##    mine yours  ours\n##   <dbl> <dbl> <dbl>\n## 1  1.00  3.00  4.00\n## 2  4.00 20.0  24.0 \n## 3  5.00 16.0  21.0 \n## 4  8.00 34.0  42.0 \n## 5  9.00 33.0  42.0 \n## 6 10.0  32.0  42.0 \n## 7 11.0  31.0  42.0\n```", "```r\n## # A tibble: 366 x 11\n##    age   sex    year total elem4 elem8   hs3   hs4 coll3 coll4 median\n##    <chr> <chr> <int> <int> <int> <int> <dbl> <dbl> <dbl> <dbl>  <dbl>\n##  1 25-34 Male   2016 21845   116   468  1427  6386  6015  7432     NA\n##  2 25-34 Male   2015 21427   166   488  1584  6198  5920  7071     NA\n##  3 25-34 Male   2014 21217   151   512  1611  6323  5910  6710     NA\n##  4 25-34 Male   2013 20816   161   582  1747  6058  5749  6519     NA\n##  5 25-34 Male   2012 20464   161   579  1707  6127  5619  6270     NA\n##  6 25-34 Male   2011 20985   190   657  1791  6444  5750  6151     NA\n##  7 25-34 Male   2010 20689   186   641  1866  6458  5587  5951     NA\n##  8 25-34 Male   2009 20440   184   695  1806  6495  5508  5752     NA\n##  9 25-34 Male   2008 20210   172   714  1874  6356  5277  5816     NA\n## 10 25-34 Male   2007 20024   246   757  1930  6361  5137  5593     NA\n## # ... with 356 more rows\n```", "```r\nedu_t <-  gather(data = edu,\n key = school,\n value = freq,\n elem4:coll4)\n\nhead(edu_t) \n```", "```r\n## # A tibble: 6 x 7\n##   age   sex    year total median school  freq\n##   <chr> <chr> <int> <int>  <dbl> <chr>  <dbl>\n## 1 25-34 Male   2016 21845     NA elem4    116\n## 2 25-34 Male   2015 21427     NA elem4    166\n## 3 25-34 Male   2014 21217     NA elem4    151\n## 4 25-34 Male   2013 20816     NA elem4    161\n## 5 25-34 Male   2012 20464     NA elem4    161\n## 6 25-34 Male   2011 20985     NA elem4    190\n```", "```r\ntail(edu_t) \n```", "```r\n## # A tibble: 6 x 7\n##   age   sex     year total median school  freq\n##   <chr> <chr>  <int> <int>  <dbl> <chr>  <dbl>\n## 1 55>   Female  1959 16263   8.30 coll4    688\n## 2 55>   Female  1957 15581   8.20 coll4    630\n## 3 55>   Female  1952 13662   7.90 coll4    628\n## 4 55>   Female  1950 13150   8.40 coll4    436\n## 5 55>   Female  1947 11810   7.60 coll4    343\n## 6 55>   Female  1940  9777   8.30 coll4    219\n```", "```r\nhead(bad_date)\n```", "```r\n## # A tibble: 6 x 2\n##   date       N\n##   <chr>  <int>\n## 1 9/1/11 44426\n## 2 9/2/11 55112\n## 3 9/3/11 19263\n## 4 9/4/11 12330\n## 5 9/5/11  8534\n## 6 9/6/11 59490\n```", "```r\np <-  ggplot(data = bad_date, aes(x = date, y = N))\np +  geom_line()\n```", "```r\n## geom_path: Each group consists of only one observation.\n## Do you need to adjust the group aesthetic?\n```", "```r\nbad_date2 <-  rbind(bad_date, bad_date)\n\np <-  ggplot(data = bad_date2, aes(x = date, y = N))\np +  geom_line()\n```", "```r\n# install.packages(\"lubridate\")\nlibrary(lubridate)\n\nbad_date$date <-  mdy(bad_date$date)\nhead(bad_date)\n```", "```r\n## # A tibble: 6 x 2\n##   date           N\n##   <date>     <int>\n## 1 2011-09-01 44426\n## 2 2011-09-02 55112\n## 3 2011-09-03 19263\n## 4 2011-09-04 12330\n## 5 2011-09-05  8534\n## 6 2011-09-06 59490\n```", "```r\np <-  ggplot(data = bad_date, aes(x = date, y = N))\np +  geom_line()\n```", "```r\nurl <- \"https://cdn.rawgit.com/kjhealy/viz-organdata/master/organdonation.csv\"\n\nbad_year <-  read_csv(url)\nbad_year %>%  select(1:3) %>%  sample_n(10)\n```", "```r\n## # A tibble: 10 x 3\n##    country        year donors\n##    <chr>         <int>  <dbl>\n##  1 United States  1994  19.4 \n##  2 Australia      1999   8.67\n##  3 Canada         2001  13.5 \n##  4 Australia      1994  10.2 \n##  5 Sweden         1993  15.2 \n##  6 Ireland        1992  19.5 \n##  7 Switzerland    1997  14.3 \n##  8 Ireland        2000  17.6 \n##  9 Switzerland    1998  15.4 \n## 10 Norway           NA  NA\n```", "```r\np <-  ggplot(data = bad_year, aes(x = year, y = donors))\np +  geom_point()\n```", "```r\nbad_year$year <-  int_to_year(bad_year$year)\nbad_year %>%  select(1:3)\n```", "```r\n## # A tibble: 238 x 3\n##    country   year       donors\n##    <chr>     <date>      <dbl>\n##  1 Australia NA          NA   \n##  2 Australia 1991-01-01  12.1 \n##  3 Australia 1992-01-01  12.4 \n##  4 Australia 1993-01-01  12.5 \n##  5 Australia 1994-01-01  10.2 \n##  6 Australia 1995-01-01  10.2 \n##  7 Australia 1996-01-01  10.6 \n##  8 Australia 1997-01-01  10.3 \n##  9 Australia 1998-01-01  10.5 \n## 10 Australia 1999-01-01   8.67\n## # ... with 228 more rows\n```", "```r\nadd_xy(x = 1, y = 7)\n```", "```r\n## [1] 8\n```", "```r\nadd_xy <-  function(x, y) {\n x +  y\n}\n```", "```r\nadd_xy(x = 5, y = 2)\n```", "```r\n## [1] 7\n```", "```r\nplot_section <-  function(section=\"Culture\", x = \"Year\",\n y = \"Members\", data = asasec,\n smooth=FALSE){\n require(ggplot2)\n require(splines)\n # Note use of aes_string() rather than aes() \n p <-  ggplot(subset(data, Sname==section),\n mapping = aes_string(x=x, y=y))\n\n if(smooth ==  TRUE) {\n p0 <-  p +  geom_smooth(color = \"#999999\",\n size = 1.2, method = \"lm\",\n formula = y ~  ns(x, 3)) +\n scale_x_continuous(breaks = c(seq(2005, 2015, 4))) +\n labs(title = section)\n } else {\n p0 <-  p +  geom_line(color= \"#E69F00\", size=1.2) +\n scale_x_continuous(breaks = c(seq(2005, 2015, 4))) +\n labs(title = section)\n }\n\n print(p0)\n}\n```", "```r\nplot_section(\"Rationality\")\nplot_section(\"Sexualities\", smooth = TRUE)\n```", "```r\nplot_section <-  function(section=\"Culture\", x = \"Year\",\n y = \"Members\", data = asasec,\n smooth=FALSE, ...){\n require(ggplot2)\n require(splines)\n # Note use of aes_string() rather than aes() \n p <-  ggplot(subset(data, Sname==section),\n mapping = aes_string(x=x, y=y))\n\n if(smooth ==  TRUE) {\n p0 <-  p +  geom_smooth(color = \"#999999\",\n size = 1.2, ...) +\n scale_x_continuous(breaks = c(seq(2005, 2015, 4))) +\n labs(title = section)\n } else {\n p0 <-  p +  geom_line(color= \"#E69F00\", size=1.2) +\n scale_x_continuous(breaks = c(seq(2005, 2015, 4))) +\n labs(title = section)\n }\n\n print(p0)\n}\n```", "```r\nplot_section(\"Comm/Urban\",\n smooth = TRUE,\n method = \"loess\")\nplot_section(\"Children\",\n smooth = TRUE,\n method = \"lm\",\n formula = y ~  ns(x, 2))\n```", "```r\nhead(bad_date)\n```", "```r\n## # A tibble: 6 x 2\n##   date       N\n##   <chr>  <int>\n## 1 9/1/11 44426\n## 2 9/2/11 55112\n## 3 9/3/11 19263\n## 4 9/4/11 12330\n## 5 9/5/11  8534\n## 6 9/6/11 59490\n```", "```r\np <-  ggplot(data = bad_date, aes(x = date, y = N))\np +  geom_line()\n```", "```r\n## geom_path: Each group consists of only one observation.\n## Do you need to adjust the group aesthetic?\n```", "```r\nbad_date2 <-  rbind(bad_date, bad_date)\n\np <-  ggplot(data = bad_date2, aes(x = date, y = N))\np +  geom_line()\n```", "```r\n# install.packages(\"lubridate\")\nlibrary(lubridate)\n\nbad_date$date <-  mdy(bad_date$date)\nhead(bad_date)\n```", "```r\n## # A tibble: 6 x 2\n##   date           N\n##   <date>     <int>\n## 1 2011-09-01 44426\n## 2 2011-09-02 55112\n## 3 2011-09-03 19263\n## 4 2011-09-04 12330\n## 5 2011-09-05  8534\n## 6 2011-09-06 59490\n```", "```r\np <-  ggplot(data = bad_date, aes(x = date, y = N))\np +  geom_line()\n```", "```r\nurl <- \"https://cdn.rawgit.com/kjhealy/viz-organdata/master/organdonation.csv\"\n\nbad_year <-  read_csv(url)\nbad_year %>%  select(1:3) %>%  sample_n(10)\n```", "```r\n## # A tibble: 10 x 3\n##    country        year donors\n##    <chr>         <int>  <dbl>\n##  1 United States  1994  19.4 \n##  2 Australia      1999   8.67\n##  3 Canada         2001  13.5 \n##  4 Australia      1994  10.2 \n##  5 Sweden         1993  15.2 \n##  6 Ireland        1992  19.5 \n##  7 Switzerland    1997  14.3 \n##  8 Ireland        2000  17.6 \n##  9 Switzerland    1998  15.4 \n## 10 Norway           NA  NA\n```", "```r\np <-  ggplot(data = bad_year, aes(x = year, y = donors))\np +  geom_point()\n```", "```r\nbad_year$year <-  int_to_year(bad_year$year)\nbad_year %>%  select(1:3)\n```", "```r\n## # A tibble: 238 x 3\n##    country   year       donors\n##    <chr>     <date>      <dbl>\n##  1 Australia NA          NA   \n##  2 Australia 1991-01-01  12.1 \n##  3 Australia 1992-01-01  12.4 \n##  4 Australia 1993-01-01  12.5 \n##  5 Australia 1994-01-01  10.2 \n##  6 Australia 1995-01-01  10.2 \n##  7 Australia 1996-01-01  10.6 \n##  8 Australia 1997-01-01  10.3 \n##  9 Australia 1998-01-01  10.5 \n## 10 Australia 1999-01-01   8.67\n## # ... with 228 more rows\n```", "```r\nadd_xy(x = 1, y = 7)\n```", "```r\n## [1] 8\n```", "```r\nadd_xy <-  function(x, y) {\n x +  y\n}\n```", "```r\nadd_xy(x = 5, y = 2)\n```", "```r\n## [1] 7\n```", "```r\nplot_section <-  function(section=\"Culture\", x = \"Year\",\n y = \"Members\", data = asasec,\n smooth=FALSE){\n require(ggplot2)\n require(splines)\n # Note use of aes_string() rather than aes() \n p <-  ggplot(subset(data, Sname==section),\n mapping = aes_string(x=x, y=y))\n\n if(smooth ==  TRUE) {\n p0 <-  p +  geom_smooth(color = \"#999999\",\n size = 1.2, method = \"lm\",\n formula = y ~  ns(x, 3)) +\n scale_x_continuous(breaks = c(seq(2005, 2015, 4))) +\n labs(title = section)\n } else {\n p0 <-  p +  geom_line(color= \"#E69F00\", size=1.2) +\n scale_x_continuous(breaks = c(seq(2005, 2015, 4))) +\n labs(title = section)\n }\n\n print(p0)\n}\n```", "```r\nplot_section(\"Rationality\")\nplot_section(\"Sexualities\", smooth = TRUE)\n```", "```r\nplot_section <-  function(section=\"Culture\", x = \"Year\",\n y = \"Members\", data = asasec,\n smooth=FALSE, ...){\n require(ggplot2)\n require(splines)\n # Note use of aes_string() rather than aes() \n p <-  ggplot(subset(data, Sname==section),\n mapping = aes_string(x=x, y=y))\n\n if(smooth ==  TRUE) {\n p0 <-  p +  geom_smooth(color = \"#999999\",\n size = 1.2, ...) +\n scale_x_continuous(breaks = c(seq(2005, 2015, 4))) +\n labs(title = section)\n } else {\n p0 <-  p +  geom_line(color= \"#E69F00\", size=1.2) +\n scale_x_continuous(breaks = c(seq(2005, 2015, 4))) +\n labs(title = section)\n }\n\n print(p0)\n}\n```", "```r\nplot_section(\"Comm/Urban\",\n smooth = TRUE,\n method = \"loess\")\nplot_section(\"Children\",\n smooth = TRUE,\n method = \"lm\",\n formula = y ~  ns(x, 2))\n```", "```r\n## An absolute file path.\n## Notice the leading \"/\" that starts at the very top\n## of the computer's file hierarchy.\nmy_data <-  read_csv(\"/Users/kjhealy/projects/gss/data/gss.csv\")\n```", "```r\nmy_data <-  read_csv(here(\"data\", \"gss.csv\"))\n```", "```r\n## An absolute file path.\n## Notice the leading \"/\" that starts at the very top\n## of the computer's file hierarchy.\nmy_data <-  read_csv(\"/Users/kjhealy/projects/gss/data/gss.csv\")\n```", "```r\nmy_data <-  read_csv(here(\"data\", \"gss.csv\"))\n```", "```r\n# You will need to use install.packages() to install\n# these map and GIS libraries if you do not already\n# have them.\n\nlibrary(maptools)\nlibrary(mapproj)\nlibrary(rgeos)\nlibrary(rgdal)\n\nus_counties <-  readOGR(dsn=\"data/geojson/gz_2010_us_050_00_5m.json\",\n layer=\"OGRGeoJSON\")\n\nus_counties_aea <-  spTransform(us_counties,\n CRS(\"+proj=laea +lat_0=45 +lon_0=-100 \\\n +x_0=0 +y_0=0 +a=6370997 +b=6370997 \\\n +units=m +no_defs\"))\n\nus_counties_aea@data$id <-  rownames(us_counties_aea@data)\n```", "```r\nalaska <-  us_counties_aea[us_counties_aea$STATE == \"02\",]\nalaska <-  elide(alaska, rotate=-50)\nalaska <-  elide(alaska, scale=max(apply(bbox(alaska), 1, diff)) /  2.3)\nalaska <-  elide(alaska, shift=c(-2100000, -2500000))\nproj4string(alaska) <-  proj4string(us_counties_aea)\n\nhawaii <-  us_counties_aea[us_counties_aea$STATE==\"15\",]\nhawaii <-  elide(hawaii, rotate=-35)\nhawaii <-  elide(hawaii, shift=c(5400000, -1400000))\nproj4string(hawaii) <-  proj4string(us_counties_aea)\n\nus_counties_aea <-  us_counties_aea[!us_counties_aea$STATE %in%  c(\"02\", \"15\", \"72\"),]\nus_counties_aea <-  rbind(us_counties_aea, alaska, hawaii)\n```", "```r\ncounty_map <-  tidy(us_counties_aea, region = \"GEO_ID\")\ncounty_map$id <-  stringr::str_replace(county_map$id,\n pattern = \"0500000US\", replacement = \"\")\n```", "```r\ndevtools::install_github(\"hrbrmstr/hrbrthemes\")\n```", "```r\ntheme_map <-  function(base_size=9, base_family=\"\") {\n require(grid)\n theme_bw(base_size=base_size, base_family=base_family) %+replace%\n theme(axis.line=element_blank(),\n axis.text=element_blank(),\n axis.ticks=element_blank(),\n axis.title=element_blank(),\n panel.background=element_blank(),\n panel.border=element_blank(),\n panel.grid=element_blank(),\n panel.spacing=unit(0, \"lines\"),\n plot.background=element_blank(),\n legend.justification = c(0,0),\n legend.position = c(0,0)\n )\n}\n```", "```r\n# You will need to use install.packages() to install\n# these map and GIS libraries if you do not already\n# have them.\n\nlibrary(maptools)\nlibrary(mapproj)\nlibrary(rgeos)\nlibrary(rgdal)\n\nus_counties <-  readOGR(dsn=\"data/geojson/gz_2010_us_050_00_5m.json\",\n layer=\"OGRGeoJSON\")\n\nus_counties_aea <-  spTransform(us_counties,\n CRS(\"+proj=laea +lat_0=45 +lon_0=-100 \\\n +x_0=0 +y_0=0 +a=6370997 +b=6370997 \\\n +units=m +no_defs\"))\n\nus_counties_aea@data$id <-  rownames(us_counties_aea@data)\n```", "```r\nalaska <-  us_counties_aea[us_counties_aea$STATE == \"02\",]\nalaska <-  elide(alaska, rotate=-50)\nalaska <-  elide(alaska, scale=max(apply(bbox(alaska), 1, diff)) /  2.3)\nalaska <-  elide(alaska, shift=c(-2100000, -2500000))\nproj4string(alaska) <-  proj4string(us_counties_aea)\n\nhawaii <-  us_counties_aea[us_counties_aea$STATE==\"15\",]\nhawaii <-  elide(hawaii, rotate=-35)\nhawaii <-  elide(hawaii, shift=c(5400000, -1400000))\nproj4string(hawaii) <-  proj4string(us_counties_aea)\n\nus_counties_aea <-  us_counties_aea[!us_counties_aea$STATE %in%  c(\"02\", \"15\", \"72\"),]\nus_counties_aea <-  rbind(us_counties_aea, alaska, hawaii)\n```", "```r\ncounty_map <-  tidy(us_counties_aea, region = \"GEO_ID\")\ncounty_map$id <-  stringr::str_replace(county_map$id,\n pattern = \"0500000US\", replacement = \"\")\n```", "```r\ndevtools::install_github(\"hrbrmstr/hrbrthemes\")\n```", "```r\ntheme_map <-  function(base_size=9, base_family=\"\") {\n require(grid)\n theme_bw(base_size=base_size, base_family=base_family) %+replace%\n theme(axis.line=element_blank(),\n axis.text=element_blank(),\n axis.ticks=element_blank(),\n axis.title=element_blank(),\n panel.background=element_blank(),\n panel.border=element_blank(),\n panel.grid=element_blank(),\n panel.spacing=unit(0, \"lines\"),\n plot.background=element_blank(),\n legend.justification = c(0,0),\n legend.position = c(0,0)\n )\n}\n```"]