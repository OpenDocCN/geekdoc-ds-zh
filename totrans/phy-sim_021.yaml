- en: Spatial and Temporal Discretizations
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 空间和时间离散化
- en: 原文：[https://phys-sim-book.github.io/lec4.1-discretizations.html](https://phys-sim-book.github.io/lec4.1-discretizations.html)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[https://phys-sim-book.github.io/lec4.1-discretizations.html](https://phys-sim-book.github.io/lec4.1-discretizations.html)'
- en: <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
- en: In representing solid geometries, we employ a mesh structure. We can further
    simplify the representation by connecting nodes on the mesh with edges. To facilitate
    this process, especially for geometries like squares, we can script a mesh generator.
    This generator allows for specifying both the side length of the square and the
    desired resolution of the mesh.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 在表示实体几何时，我们采用网格结构。我们可以通过连接网格上的节点与边来进一步简化表示。为了便于这个过程，特别是对于正方形这样的几何形状，我们可以编写一个网格生成器。这个生成器允许指定正方形的边长和网格的期望分辨率。
- en: '**Implementation 4.1.1 (Square Mesh Generation, square_mesh.py).**'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: '**实现4.1.1（正方形网格生成，square_mesh.py）。**'
- en: '[PRE0]'
  id: totrans-5
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: In the code, `n_seg` represents the number of edges along each side of the square.
    The nodes are uniformly distributed across the square and interconnected through
    horizontal, vertical, and diagonal edges. For instance, calling `generate(1.0,
    4)` constructs a mesh as depicted in [Figure 4.1.1](#fig:lec4:square_mesh_4x4).
    This implementation utilizes the array data structures from the [Numpy](https://numpy.org/)
    library, which provides convenient methods for handling the vector algebra required
    in subsequent steps.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 在代码中，`n_seg` 代表正方形每边的边数。节点在正方形内均匀分布，并通过水平、垂直和对角线边相互连接。例如，调用 `generate(1.0, 4)`
    构建了一个如图 [图4.1.1](#fig:lec4:square_mesh_4x4) 所示的网格。这种实现利用了 [Numpy](https://numpy.org/)
    库中的数组数据结构，它提供了方便的方法来处理后续步骤所需的向量代数。
- en: '![](../Images/0230303aa740d90dbf2caf3a695d65fa.png)'
  id: totrans-7
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/0230303aa740d90dbf2caf3a695d65fa.png)'
- en: '**Figure 4.1.1.** A 4×4 square mesh generated by calling `generate(1.0, 4)`
    defined in Square Mesh Generation script above.'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: '**图4.1.1.** 由上方定义的 `generate(1.0, 4)` 调用生成的 4×4 正方形网格。'
- en: 'For temporal discretization, our approach is the implicit Euler method. The
    Incremental Potential, which needs to be minimized in time step \(n\), is represented
    as follows: E(x)=21​∥x−(xn+hvn)∥M2​+h2P(x).(4.1.1) Next, our focus shifts to implementing
    the calculations for the energy value, gradient, and Hessian for both the inertia
    term and the potential energy \(P(x)\).'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 对于时间离散化，我们的方法是隐式欧拉法。需要在时间步长 \(n\) 中最小化的增量势能，表示如下：E(x)=21∥x−(xn+hvn)∥M2+h2P(x).(4.1.1)
    接下来，我们的焦点转向实现能量值、梯度以及Hessian的计算，这包括惯性项和势能 \(P(x)\)。
