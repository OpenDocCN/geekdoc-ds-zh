["```py\nfun gcd(a, b):\n  if b == 0:\n    a\n  else:\n    gcd(b, num-modulo(a, b))\n  end\nend\n\nfun pr(n):\n  fun g(x): num-modulo((x * x) + 1, n) end\n  fun iter(x, y, d):\n    new-x = g(x)\n    new-y = g(g(y))\n    new-d = gcd(num-abs(new-x - new-y), n)\n    ask:\n      | new-d == 1 then:\n        iter(new-x, new-y, new-d)\n      | new-d == n then:\n        none\n      | otherwise:\n        some(new-d)\n    end\n  end\n  iter(2, 2, 1)\nend\n```", "```py\ncheck:\n  gcd(4, 5) is 1\n  gcd(5, 7) is 1\n  gcd(21, 21) is 21\n  gcd(12, 24) is 12\n  gcd(12, 9) is 3\nend\n```", "```py\ndata LoopStatus:\n  | done(final-value)\n  | next-2(new-arg-1, new-arg-2)\nend\n```", "```py\nfun loop-2(f, arg-1, arg-2):\n  r = f(arg-1, arg-2)\n  cases (LoopStatus) r:\n    | done(v) => v\n    | next-2(new-arg-1, new-arg-2) => loop-2(f, new-arg-1, new-arg-2)\n  end\nend\n```", "```py\nfun gcd(p, q):\n  loop-2(\n    {(a, b):\n      if b == 0:\n        done(a)\n      else:\n        next-2(b, num-modulo(a, b))\n      end},\n    p,\n    q)\nend\n```", "```py\nfor F(a from a_i, b from b_i, …): BODY end\n```", "```py\nF({(a, b, …): BODY}, a_i, b_i, …)\n```", "```py\nfor map(i from range(0, 10)): i + 1 end\n```", "```py\nmap({(i): i + 1}, range(0, 10))\n```", "```py\nF({(a, b, …): BODY}, a_i, b_i, …)\n```", "```py\nfor F(a from a_i, b from b_i, …): BODY end\n```", "```py\nfun gcd(p, q):\n  for loop-2(a from p, b from q):\n    if b == 0:\n      done(a)\n    else:\n      next-2(b, num-modulo(a, b))\n    end\n  end\nend\n```", "```py\nfor F(a from a_i, b from b_i, …): BODY end\n```", "```py\nF({(a, b, …): BODY}, a_i, b_i, …)\n```", "```py\ndelta-x = 0.0001\nfun d-dx-at(f, x):\n  (f(x + delta-x) - f(x)) / delta-x\nend\n```", "```py\nd-dx-at({(n): n * n}, 10)\n```", "```py\nfor d-dx-at(n from 10): n * n end\n```", "```py\ncheck:\n  for d-dx-at(n from 10): n * n end\n  is\n  d-dx-at({(n): n * n}, 10)\nend\n```", "```py\ndata LoopStatus:\n  | done(v)\n  | next–2(new-x, new-y)\n  | next-n(new-t)\nend\n\nfun loop-n(f, t):\n  r = f(t)\n  cases (LoopStatus) r:\n    | done(v) => v\n    | next-n(new-t) => loop-n(f, new-t)\n  end\nend\n```", "```py\nfun pr(n):\n  fun g(x): num-modulo((x * x) + 1, n) end\n  for loop-n({x; y; d} from {2; 2; 1}):\n    new-x = g(x)\n    new-y = g(g(y))\n    new-d = gcd(num-abs(new-x - new-y), n)\n    ask:\n      | new-d == 1 then:\n        next-n({new-x; new-y; new-d})\n      | new-d == n then:\n        done(none)\n      | otherwise:\n        done(some(new-d))\n    end\n  end\nend\n```", "```py\ncheck:\n  ns = range(2, 100)\n  l1 = map(pr-old, ns)\n  l2 = map(pr, ns)\n  l1 is l2\nend\n```", "```py\nlol = [list: [list: 1, 2], [list: 3], [list:], [list: 4, 5, 6]]\n```", "```py\nfor loop-2(ll from lol, sum from 0):\n  cases (List) ll:\n    | empty => done(sum)\n    | link(l, rl) =>\n      l-sum =\n        for loop-2(es from l, sub-sum from 0):\n          cases (List) es:\n            | empty => done(sub-sum)\n            | link(e, r) => next-2(r, e + sub-sum)\n          end\n        end\n      next-2(rl, sum + l-sum)\n  end\nend\n```", "```py\nfun sum-a-lon(lon :: List<Number>):\n  for loop-2(es from lon, sum from 0):\n    cases (List) es:\n      | empty => done(sum)\n      | link(e, r) =>\n        next-2(r, e + sum)\n    end\n  end\nend\n\nfun sum-a-lolon(lolon :: List<List<Number>>):\n  for loop-2(l from lolon, sum from 0):\n    cases (List) l:\n      | empty => done(sum)\n      | link(lon, r) =>\n        next-2(r, sum-a-lon(lon) + sum)\n    end\n  end\nend\n\ncheck:\n  sum-a-lolon(lol) is 21\nend\n```", "```py\nfun sum-a-list(f, L):\n  for loop-2(e from L, sum from 0):\n    cases (List) e:\n      | empty => done(sum)\n      | link(elt, r) =>\n        next-2(r, f(elt) + sum)\n    end\n  end\nend\n```", "```py\nfun sum-a-lon(lon :: List<Number>):\n  sum-a-list({(e): e}, lon)\nend\n\nfun sum-a-lolon(lolon :: List<List<Number>>):\n  sum-a-list(sum-a-lon, lolon)\nend\n\ncheck:\n  sum-a-lolon(lol) is 21\nend\n```", "```py\nfun sum-a-lon(lon :: List<Number>):\n  for sum-a-list(e :: Number from lon): e end\nend\n\nfun sum-a-lolon(lolon :: List<List<Number>>):\n  for sum-a-list(l :: List<Number> from lolon): sum-a-lon(l) end\nend\n```", "```py\n    for each(i from range(0, 10)): print(i) end\n    ```", "```py\nfun gcd(a, b):\n  if b == 0:\n    a\n  else:\n    gcd(b, num-modulo(a, b))\n  end\nend\n\nfun pr(n):\n  fun g(x): num-modulo((x * x) + 1, n) end\n  fun iter(x, y, d):\n    new-x = g(x)\n    new-y = g(g(y))\n    new-d = gcd(num-abs(new-x - new-y), n)\n    ask:\n      | new-d == 1 then:\n        iter(new-x, new-y, new-d)\n      | new-d == n then:\n        none\n      | otherwise:\n        some(new-d)\n    end\n  end\n  iter(2, 2, 1)\nend\n```", "```py\ncheck:\n  gcd(4, 5) is 1\n  gcd(5, 7) is 1\n  gcd(21, 21) is 21\n  gcd(12, 24) is 12\n  gcd(12, 9) is 3\nend\n```", "```py\ndata LoopStatus:\n  | done(final-value)\n  | next-2(new-arg-1, new-arg-2)\nend\n```", "```py\nfun loop-2(f, arg-1, arg-2):\n  r = f(arg-1, arg-2)\n  cases (LoopStatus) r:\n    | done(v) => v\n    | next-2(new-arg-1, new-arg-2) => loop-2(f, new-arg-1, new-arg-2)\n  end\nend\n```", "```py\nfun gcd(p, q):\n  loop-2(\n    {(a, b):\n      if b == 0:\n        done(a)\n      else:\n        next-2(b, num-modulo(a, b))\n      end},\n    p,\n    q)\nend\n```", "```py\nfor F(a from a_i, b from b_i, …): BODY end\n```", "```py\nF({(a, b, …): BODY}, a_i, b_i, …)\n```", "```py\nfor map(i from range(0, 10)): i + 1 end\n```", "```py\nmap({(i): i + 1}, range(0, 10))\n```", "```py\nF({(a, b, …): BODY}, a_i, b_i, …)\n```", "```py\nfor F(a from a_i, b from b_i, …): BODY end\n```", "```py\nfun gcd(p, q):\n  for loop-2(a from p, b from q):\n    if b == 0:\n      done(a)\n    else:\n      next-2(b, num-modulo(a, b))\n    end\n  end\nend\n```", "```py\nfor F(a from a_i, b from b_i, …): BODY end\n```", "```py\nF({(a, b, …): BODY}, a_i, b_i, …)\n```", "```py\ndelta-x = 0.0001\nfun d-dx-at(f, x):\n  (f(x + delta-x) - f(x)) / delta-x\nend\n```", "```py\nd-dx-at({(n): n * n}, 10)\n```", "```py\nfor d-dx-at(n from 10): n * n end\n```", "```py\ncheck:\n  for d-dx-at(n from 10): n * n end\n  is\n  d-dx-at({(n): n * n}, 10)\nend\n```", "```py\ndata LoopStatus:\n  | done(v)\n  | next–2(new-x, new-y)\n  | next-n(new-t)\nend\n\nfun loop-n(f, t):\n  r = f(t)\n  cases (LoopStatus) r:\n    | done(v) => v\n    | next-n(new-t) => loop-n(f, new-t)\n  end\nend\n```", "```py\nfun pr(n):\n  fun g(x): num-modulo((x * x) + 1, n) end\n  for loop-n({x; y; d} from {2; 2; 1}):\n    new-x = g(x)\n    new-y = g(g(y))\n    new-d = gcd(num-abs(new-x - new-y), n)\n    ask:\n      | new-d == 1 then:\n        next-n({new-x; new-y; new-d})\n      | new-d == n then:\n        done(none)\n      | otherwise:\n        done(some(new-d))\n    end\n  end\nend\n```", "```py\ncheck:\n  ns = range(2, 100)\n  l1 = map(pr-old, ns)\n  l2 = map(pr, ns)\n  l1 is l2\nend\n```", "```py\nlol = [list: [list: 1, 2], [list: 3], [list:], [list: 4, 5, 6]]\n```", "```py\nfor loop-2(ll from lol, sum from 0):\n  cases (List) ll:\n    | empty => done(sum)\n    | link(l, rl) =>\n      l-sum =\n        for loop-2(es from l, sub-sum from 0):\n          cases (List) es:\n            | empty => done(sub-sum)\n            | link(e, r) => next-2(r, e + sub-sum)\n          end\n        end\n      next-2(rl, sum + l-sum)\n  end\nend\n```", "```py\nfun sum-a-lon(lon :: List<Number>):\n  for loop-2(es from lon, sum from 0):\n    cases (List) es:\n      | empty => done(sum)\n      | link(e, r) =>\n        next-2(r, e + sum)\n    end\n  end\nend\n\nfun sum-a-lolon(lolon :: List<List<Number>>):\n  for loop-2(l from lolon, sum from 0):\n    cases (List) l:\n      | empty => done(sum)\n      | link(lon, r) =>\n        next-2(r, sum-a-lon(lon) + sum)\n    end\n  end\nend\n\ncheck:\n  sum-a-lolon(lol) is 21\nend\n```", "```py\nfun sum-a-list(f, L):\n  for loop-2(e from L, sum from 0):\n    cases (List) e:\n      | empty => done(sum)\n      | link(elt, r) =>\n        next-2(r, f(elt) + sum)\n    end\n  end\nend\n```", "```py\nfun sum-a-lon(lon :: List<Number>):\n  sum-a-list({(e): e}, lon)\nend\n\nfun sum-a-lolon(lolon :: List<List<Number>>):\n  sum-a-list(sum-a-lon, lolon)\nend\n\ncheck:\n  sum-a-lolon(lol) is 21\nend\n```", "```py\nfun sum-a-lon(lon :: List<Number>):\n  for sum-a-list(e :: Number from lon): e end\nend\n\nfun sum-a-lolon(lolon :: List<List<Number>>):\n  for sum-a-list(l :: List<Number> from lolon): sum-a-lon(l) end\nend\n```", "```py\n    for each(i from range(0, 10)): print(i) end\n    ```"]