<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
  "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>7.1. Motivating example: discovering mathematical topics#</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>7.1. Motivating example: discovering mathematical topics#</h1>
<blockquote>原文：<a href="https://mmids-textbook.github.io/chap07_rwmc/01_motiv/roch-mmids-rwmc-motiv.html">https://mmids-textbook.github.io/chap07_rwmc/01_motiv/roch-mmids-rwmc-motiv.html</a></blockquote>

<p>A common task in network analysis is to identify “central” vertices in a graph. Centrality is a vague concept. It can be defined in many different ways depending on the context and the type of network. Quoting from <a class="reference external" href="https://en.wikipedia.org/wiki/Centrality">Wikipedia</a>:</p>
<blockquote>
<div><p>In graph theory and network analysis, indicators of centrality assign numbers or rankings to nodes within a graph corresponding to their network position. Applications include identifying the most influential person(s) in a social network, key infrastructure nodes in the Internet or urban networks, super-spreaders of disease, and brain networks. […] Centrality indices are answers to the question “What characterizes an important vertex?” The answer is given in terms of a real-valued function on the vertices of a graph, where the values produced are expected to provide a ranking which identifies the most important nodes. The word “importance” has a wide number of meanings, leading to many different definitions of centrality.</p>
</div></blockquote>
<p>In an undirected graph, a natural approach is to look at the degree of a vertex as a measure of its importance (also referred to as degree centrality). But it is hardly the only one. One could for instance look at the average distance to all other nodes (its reciprocal is the <a class="reference external" href="https://en.wikipedia.org/wiki/Closeness_centrality">closeness centrality</a>) or at the number of shortest paths between pairs of vertices going through the vertex (known as <a class="reference external" href="https://en.wikipedia.org/wiki/Betweenness_centrality">betweenness centrality</a>).</p>
<p>What if the graph is directed? Things are somewhat more complicated there. For instance, there is now the in-degree as well as the out-degree.</p>
<p>Let us look at a particular example of practical importance, the World Wide Web (from now on, the Web). In this case, the vertices are webpages and a directed edge from <span class="math notranslate nohighlight">\(u\)</span> to <span class="math notranslate nohighlight">\(v\)</span> indicates a hyperlink from page <span class="math notranslate nohighlight">\(u\)</span> to page <span class="math notranslate nohighlight">\(v\)</span>. The Web is much too large to analyze here. Instead, we will consider a tiny (but still interesting!) subset of it, the pages of <a class="reference external" href="https://mathworld.wolfram.com">Wolfram’s MathWorld</a>, a wonderful mathematics resource.</p>
<p>Each page of MathWorld concerns a particular mathematical concept, e.g., <a class="reference external" href="https://mathworld.wolfram.com/Scale-FreeNetwork.html">scale-free network</a>. A definition and notable properties are described. Importantly for us, in a section entitled “SEE ALSO”, other related mathematical concepts are listed with a link to their MathWorld page. In the case of scale-free networks, the <a class="reference external" href="https://mathworld.wolfram.com/SmallWorldNetwork.html">small world network</a> topic is referenced, among others.</p>
<p>The resulting directed graph is available through the <a class="reference external" href="https://netset.telecom-paris.fr/index.html">NetSet</a> datasets and can be downloaded <a class="reference external" href="https://netset.telecom-paris.fr/pages/mathworld.html">here</a>. We load it now. For convenience, we have reformatted it into the files <code class="docutils literal notranslate"><span class="pre">mathworld-adjacency.csv</span></code> and <code class="docutils literal notranslate"><span class="pre">mathworld-titles.csv</span></code>, which are available on the <a class="reference external" href="https://github.com/MMiDS-textbook/MMiDS-textbook.github.io/tree/main/utils/datasets">GitHub of the book</a>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span/><span class="n">data_edges</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">'mathworld-adjacency.csv'</span><span class="p">)</span>
<span class="n">data_edges</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th/>
      <th>from</th>
      <th>to</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>2</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>47</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1</td>
      <td>404</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1</td>
      <td>2721</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>It consists in a list of directed edges. For example, the first one is an edge from vertex <code class="docutils literal notranslate"><span class="pre">0</span></code> to vertex <code class="docutils literal notranslate"><span class="pre">2</span></code>. The second one is from <code class="docutils literal notranslate"><span class="pre">1</span></code> to <code class="docutils literal notranslate"><span class="pre">47</span></code> and so on.</p>
<p>There is a total of <span class="math notranslate nohighlight">\(49069\)</span> edges.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span/><span class="n">data_edges</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span/>49069
</pre></div>
</div>
</div>
</div>
<p>The second file contains the titles of the pages.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span/><span class="n">data_titles</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">'mathworld-titles.csv'</span><span class="p">)</span>
<span class="n">data_titles</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th/>
      <th>title</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Alexander's Horned Sphere</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Exotic Sphere</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Antoine's Horned Sphere</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Flat</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Poincaré Manifold</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>So the first edge above is from <code class="docutils literal notranslate"><span class="pre">Alexander's</span> <span class="pre">Horned</span> <span class="pre">Sphere</span></code> to <code class="docutils literal notranslate"><span class="pre">Antoine's</span> <span class="pre">Horned</span> <span class="pre">Sphere</span></code>. That is, the <a class="reference external" href="https://mathworld.wolfram.com/AntoinesHornedSphere.html">latter</a> is listed in the “SEE ALSO” section of the <a class="reference external" href="https://mathworld.wolfram.com/AlexandersHornedSphere.html">former</a>.</p>
<p>There are <span class="math notranslate nohighlight">\(12362\)</span> topics.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span/><span class="n">n</span> <span class="o">=</span> <span class="n">data_titles</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span/>12362
</pre></div>
</div>
</div>
</div>
<p>We construct the graph by adding the edges one by one. We first convert <code class="docutils literal notranslate"><span class="pre">df_edges</span></code> into a NumPy array.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span/><span class="n">edgelist</span> <span class="o">=</span> <span class="n">data_edges</span><span class="p">[[</span><span class="s1">'from'</span><span class="p">,</span><span class="s1">'to'</span><span class="p">]]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">edgelist</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span/>[[    0     2]
 [    1    47]
 [    1   404]
 ...
 [12361 12306]
 [12361 12310]
 [12361 12360]]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span/><span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">empty_graph</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">create_using</span><span class="o">=</span><span class="n">nx</span><span class="o">.</span><span class="n">DiGraph</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">edgelist</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
    <span class="n">G</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="n">edgelist</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">edgelist</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<p>Returning to question of centrality, we can now try to measure the importance of different nodes. For instance, the in-degree of <code class="docutils literal notranslate"><span class="pre">Alexander's</span> <span class="pre">Horned</span> <span class="pre">Sphere</span></code> is:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span/><span class="n">G</span><span class="o">.</span><span class="n">in_degree</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span/>5
</pre></div>
</div>
</div>
</div>
<p>while that of <code class="docutils literal notranslate"><span class="pre">Antoine's</span> <span class="pre">Horned</span> <span class="pre">Sphere</span></code> is:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span/><span class="n">G</span><span class="o">.</span><span class="n">in_degree</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span/>1
</pre></div>
</div>
</div>
</div>
<p>suggesting that the former is more central than the latter, at least in the sense that it is referenced more often.</p>
<p>But is that the right measure? Consider the following: <code class="docutils literal notranslate"><span class="pre">Antoine's</span> <span class="pre">Horned</span> <span class="pre">Sphere</span></code> receives only one reference, but it is from a seemingly relatively important vertex, <code class="docutils literal notranslate"><span class="pre">Alexander's</span> <span class="pre">Horned</span> <span class="pre">Sphere</span></code>. How can one take this into account in quantifying its importance in the network?</p>
<p>We will come back to this question later in this chapter. To hint at things to come, it will turn out that “exploring the graph at random” provides a powerful perspective on centrality.</p>
    
</body>
</html>