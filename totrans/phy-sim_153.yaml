- en: Simulation Setup
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 模拟设置
- en: 原文：[https://phys-sim-book.github.io/lec29.1-simulation_setup.html](https://phys-sim-book.github.io/lec29.1-simulation_setup.html)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://phys-sim-book.github.io/lec29.1-simulation_setup.html](https://phys-sim-book.github.io/lec29.1-simulation_setup.html)
- en: <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
- en: In this section, we define the physical and numerical setup required for implementing
    a minimal MPM simulation of **Two Colliding Elastic Blocks in 2D**. We walk through
    the definition of simulation properties, initialization of particle positions
    and velocities, and data structures used throughout the simulation.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们定义了实现二维**两个碰撞弹性块的最小MPM模拟**所需的物理和数值设置。我们介绍了模拟属性的定义、粒子位置和速度的初始化以及整个模拟中使用的数据结构。
- en: '[Physical and Numerical Parameters](#physical-and-numerical-parameters)'
  id: totrans-4
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '[物理和数值参数](#physical-and-numerical-parameters)'
- en: 'We begin by setting up the discretization of the simulation domain and the
    material parameters of the block:'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 我们首先设置模拟域的离散化和块的材料参数：
- en: '**Implementation 30.1.1 (Physical and Numerical Parameters, simulator.py).**'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: '**实现30.1.1（物理和数值参数，simulator.py）**。'
- en: '[PRE0]'
  id: totrans-7
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: These parameters define a uniform dense background grid, particle resolution,
    and time integration step size. The entire simulation domain spans from `[0, 0]`
    to `[1, 1]` meters, and we aim for around 8 particles per grid cell on average.
    The blocks are set to have mass density at 1000kg/m3, Young's modulus at 104Pa,
    and Poisson's ratio at 0.3.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 这些参数定义了一个均匀的密集背景网格、粒子分辨率和时间积分步长。整个模拟域从 `[0, 0]` 到 `[1, 1]` 米，我们希望平均每个网格单元有大约8个粒子。块被设置为质量密度为1000kg/m3，杨氏模量为104Pa，泊松比为0.3。
- en: '[Initial Particle Sampling and Scene Setup](#initial-particle-sampling-and-scene-setup)'
  id: totrans-9
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '[初始粒子采样和场景设置](#initial-particle-sampling-and-scene-setup)'
- en: We sample particles from two rectangular regions using **uniform grid sampling**.
    These two boxes are placed symmetrically on the left and right sides of the domain
    and are initialized with opposite velocities to simulate a head-on collision.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 我们使用**统一网格采样**从两个矩形区域采样粒子。这两个盒子被对称地放置在域的左右两侧，并初始化为相反的速度，以模拟正面碰撞。
- en: Compared to Poisson disk sampling, uniform sampling is easier to implement for
    analytic shapes, such as boxes and spheres, due to its structured nature and simple
    parametrization. However, this regularity can lead to **aliasing artifacts**,
    such as visible patterns or striping in the simulation, which may introduce unnatural
    structured noise into the result.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 与泊松盘采样相比，由于其结构化和简单的参数化，统一采样更容易实现分析形状，如盒子和平面，但由于这种规律性，可能会导致**混叠伪影**，如模拟中的可见图案或条纹，这可能会将不自然的结构噪声引入结果中。
- en: Here we adopt uniform sampling **for simplicity and clarity**, keeping the focus
    on the MPM pipeline itself.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，我们为了简洁和清晰，采用了**统一采样**，将重点放在MPM管道本身。
- en: '**Implementation 30.1.2 (Initial Particle Sampling and Scene Setup, simulator.py).**'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: '**实现30.1.2（初始粒子采样和场景设置，simulator.py）**。'
- en: '[PRE1]'
  id: totrans-14
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Each block consists of uniformly distributed material points representing a
    homogeneous elastic body. The left block is given an initial velocity of ([+10,
    0]) m/s, and the right block ([-10, 0]) m/s, setting up a symmetric, head-on collision
    scenario with **zero net linear momentum**. This configuration mimics a controlled
    impact experiment.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 每个块由均匀分布的材料点组成，代表一个均匀的弹性体。左侧的块被赋予初始速度([+10, 0]) m/s，右侧的块为([-10, 0]) m/s，设置了一个具有**零净线性动量**的对称、正面碰撞场景。这种配置模拟了一个受控冲击实验。
- en: '[Particle and Grid Data Fields](#particle-and-grid-data-fields)'
  id: totrans-16
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '[粒子和网格数据字段](#particle-and-grid-data-fields)'
- en: We define data fields to represent the state of each material point (particle)
    and background grid node. For particles, this includes position, velocity, volume,
    mass, and deformation gradient, following [Material Particles](./lec26.1-material_particles.html).
    For the grid, we define nodal mass and velocity fields using dense arrays, which
    are sufficient for small-scale simulations. These can be further optimized using
    sparse grid structures—a direction we leave as future work for interested readers.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 我们定义数据字段来表示每个材料点（粒子）和背景网格节点的状态。对于粒子，这包括位置、速度、体积、质量和变形梯度，遵循[材料粒子](./lec26.1-material_particles.html)。对于网格，我们使用密集数组定义节点质量和速度字段，这对于小规模模拟是足够的。这些可以通过稀疏网格结构进一步优化——我们将这一方向留给感兴趣的读者作为未来的工作。
- en: '**Implementation 30.1.3 (Particle and Grid Data Fields, simulator.py).**'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: '**实现 30.1.3 (粒子与网格数据字段，simulator.py)**.'
- en: '[PRE2]'
  id: totrans-19
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
