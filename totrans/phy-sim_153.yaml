- en: Simulation Setup
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://phys-sim-book.github.io/lec29.1-simulation_setup.html](https://phys-sim-book.github.io/lec29.1-simulation_setup.html)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
  prefs: []
  type: TYPE_NORMAL
- en: In this section, we define the physical and numerical setup required for implementing
    a minimal MPM simulation of **Two Colliding Elastic Blocks in 2D**. We walk through
    the definition of simulation properties, initialization of particle positions
    and velocities, and data structures used throughout the simulation.
  prefs: []
  type: TYPE_NORMAL
- en: '[Physical and Numerical Parameters](#physical-and-numerical-parameters)'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'We begin by setting up the discretization of the simulation domain and the
    material parameters of the block:'
  prefs: []
  type: TYPE_NORMAL
- en: '**Implementation 30.1.1 (Physical and Numerical Parameters, simulator.py).**'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: These parameters define a uniform dense background grid, particle resolution,
    and time integration step size. The entire simulation domain spans from `[0, 0]`
    to `[1, 1]` meters, and we aim for around 8 particles per grid cell on average.
    The blocks are set to have mass density at 1000kg/m3, Young's modulus at 104Pa,
    and Poisson's ratio at 0.3.
  prefs: []
  type: TYPE_NORMAL
- en: '[Initial Particle Sampling and Scene Setup](#initial-particle-sampling-and-scene-setup)'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: We sample particles from two rectangular regions using **uniform grid sampling**.
    These two boxes are placed symmetrically on the left and right sides of the domain
    and are initialized with opposite velocities to simulate a head-on collision.
  prefs: []
  type: TYPE_NORMAL
- en: Compared to Poisson disk sampling, uniform sampling is easier to implement for
    analytic shapes, such as boxes and spheres, due to its structured nature and simple
    parametrization. However, this regularity can lead to **aliasing artifacts**,
    such as visible patterns or striping in the simulation, which may introduce unnatural
    structured noise into the result.
  prefs: []
  type: TYPE_NORMAL
- en: Here we adopt uniform sampling **for simplicity and clarity**, keeping the focus
    on the MPM pipeline itself.
  prefs: []
  type: TYPE_NORMAL
- en: '**Implementation 30.1.2 (Initial Particle Sampling and Scene Setup, simulator.py).**'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: Each block consists of uniformly distributed material points representing a
    homogeneous elastic body. The left block is given an initial velocity of ([+10,
    0]) m/s, and the right block ([-10, 0]) m/s, setting up a symmetric, head-on collision
    scenario with **zero net linear momentum**. This configuration mimics a controlled
    impact experiment.
  prefs: []
  type: TYPE_NORMAL
- en: '[Particle and Grid Data Fields](#particle-and-grid-data-fields)'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: We define data fields to represent the state of each material point (particle)
    and background grid node. For particles, this includes position, velocity, volume,
    mass, and deformation gradient, following [Material Particles](./lec26.1-material_particles.html).
    For the grid, we define nodal mass and velocity fields using dense arrays, which
    are sufficient for small-scale simulations. These can be further optimized using
    sparse grid structures—a direction we leave as future work for interested readers.
  prefs: []
  type: TYPE_NORMAL
- en: '**Implementation 30.1.3 (Particle and Grid Data Fields, simulator.py).**'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
