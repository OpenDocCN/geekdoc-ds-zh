- en: Mass-Spring Potential Energy
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 质量弹簧势能
- en: 原文：[https://phys-sim-book.github.io/lec4.3-mass_spring_energy.html](https://phys-sim-book.github.io/lec4.3-mass_spring_energy.html)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://phys-sim-book.github.io/lec4.3-mass_spring_energy.html](https://phys-sim-book.github.io/lec4.3-mass_spring_energy.html)
- en: <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: '`<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">`'
- en: 'In this case study, we focus exclusively on incorporating the mass-spring elasticity
    potential into our system. The concept of mass-spring elasticity is akin to treating
    each edge of the mesh as if it were a spring. This approach is inspired by Hooke''s
    Law, allowing us to formulate the potential energy on edge e as follows:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 在本案例研究中，我们专注于将质量-弹簧弹性势能纳入我们的系统。质量-弹簧弹性的概念类似于将网格的每条边都视为一个弹簧。这种方法受到胡克定律的启发，使我们能够以下列方式对边
    e 上的势能进行公式化：
- en: Pe​(x)=l221​k(l2∥x1​−x2​∥2​−1)2,(4.3.1)
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: Pe(x)=l2/21k(l2∥x1−x2∥2−1)2,(4.3.1)
- en: Here, x1​ and x2​ represent the current positions of the two endpoints of the
    edge. The variable l denotes the original length of the edge, and k is a parameter
    controlling the spring's stiffness. Notably, when the distance between the two
    endpoints ∥x1​−x2​∥ equals the original length l, the potential energy Pe​(x)
    attains its global minimum value of 0, indicating no force is exerted.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，x1 和 x2 分别代表边两端当前的位置。变量 l 表示边的原始长度，k 是控制弹簧刚度的参数。值得注意的是，当两端之间的距离 ∥x1−x2∥
    等于原始长度 l 时，势能 Pe(x) 达到其全局最小值 0，表示没有施加力。
- en: An important aspect of this formulation is the inclusion of l2 at the beginning.
    This is analogous to integrating the spring energy across the solid and choosing
    edges as quadrature points. This integration helps maintain a consistent relationship
    between the stiffness behavior and the parameter k, regardless of mesh resolution
    variations.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 该公式的关键方面是在开头包含 l2。这类似于在整个固体上积分弹簧能量，并选择边作为求积点。这种积分有助于保持刚度行为与参数 k 之间的一致关系，无论网格分辨率的变化。
- en: 'Another deviation from standard spring energy formulations is our avoidance
    of the square root operation. We directly use ∥x1​−x2​∥2, making our model polynomial
    in nature. This simplification yields more streamlined expressions for the gradient
    and Hessian:'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 与标准弹簧能量公式相比，另一个偏差是我们避免了平方根运算。我们直接使用 ∥x1−x2∥^2，使我们的模型本质上是多项式的。这种简化产生了更简洁的梯度和对角线表达式：
- en: ∂x1​∂Pe​​(x)=−∂x2​∂Pe​​(x)=2k(l2∥x1​−x2​∥2​−1)(x1​−x2​),
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: ∂x1/∂Pe(x)=−∂x2/∂Pe(x)=2k(l2∥x1−x2∥2−1)(x1−x2),
- en: ∂x12​∂2Pe​​(x)​=∂x22​∂2Pe​​(x)=−∂x1​x2​∂2Pe​​(x)=−∂x2​x1​∂2Pe​​(x)=l24k​(x1​−x2​)(x1​−x2​)T+2k(l2∥x1​−x2​∥2​−1)I=l22k​(2(x1​−x2​)(x1​−x2​)T+(∥x1​−x2​∥2−l2)I).​
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: ∂x1^2/∂2Pe(x)=∂x2^2/∂2Pe(x)=−∂x1∂x2/∂2Pe(x)=−∂x2∂x1/∂2Pe(x)=l2/4k(x1−x2)(x1−x2)^T+2k(l2∥x1−x2∥2−1)I=l2/2k(2(x1−x2)(x1−x2)^T+(∥x1−x2∥2−l2)I)。
- en: 'The total potential energy of the system, denoted as P(x), can be derived by
    summing the potential energy across all edges. This is calculated using Equation
    [(4.3.1)](#eq:lec4:mass_sprint_E). Thus, the total potential energy is expressed
    as: P(x)=e∑​Pe​(x) where the summation is taken over all edges in the mesh.'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 系统的总势能，表示为 P(x)，可以通过对所有边的势能求和得到。这使用方程 [(4.3.1)](#eq:lec4:mass_sprint_E) 计算。因此，总势能表示为：P(x)=∑ePe(x)，其中求和是对网格中所有边进行的。
- en: '**Implementation 4.3.1 (MassSpringEnergy.py).**'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: '**实现 4.3.1（MassSpringEnergy.py）**。'
- en: '[PRE0]'
  id: totrans-12
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'In dealing with the Hessian matrix of the mass-spring energy, a key consideration
    is its non-symmetric positive definite (SPD) nature. To address this, a specific
    modification is employed: we neutralize the negative eigenvalues of the local
    Hessian corresponding to each edge. This is done prior to incorporating these
    local Hessians into the global matrix. The process involves setting negative eigenvalues
    to zero, thus ensuring that the resulting global Hessian matrix adheres more closely
    to the desired SPD properties. This modification is crucial for Newton''s method.'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 在处理质量-弹簧能量的 Hessian 矩阵时，一个关键考虑因素是其非对称正定（SPD）性质。为了解决这个问题，采用了一种特定的修改：我们中和了对应于每条边的局部
    Hessian 的负特征值。在将这些局部 Hessian 纳入全局矩阵之前进行此操作。这个过程涉及将负特征值设为零，从而确保生成的全局 Hessian 矩阵更接近所需的
    SPD 属性。这种修改对于牛顿法至关重要。
- en: '**Implementation 4.3.2 (Positive Semi-Definite Projection).**'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: '**实现 4.3.2（正定投影）**。'
- en: '[PRE1]'
  id: totrans-15
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
