- en: 18.6Â Sets as a Case StudyğŸ”—
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 18.6 é›†åˆä½œä¸ºæ¡ˆä¾‹ç ”ç©¶ğŸ”—
- en: åŸæ–‡ï¼š[https://dcic-world.org/2025-08-27/sets-case-study.html](https://dcic-world.org/2025-08-27/sets-case-study.html)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: åŸæ–‡ï¼š[https://dcic-world.org/2025-08-27/sets-case-study.html](https://dcic-world.org/2025-08-27/sets-case-study.html)
- en: '| Â Â Â Â [18.6.1Â Nature of the Data](#%28part._.Nature_of_the_.Data%29) |'
  id: totrans-2
  prefs: []
  type: TYPE_TB
  zh: '|Â Â Â [18.6.1 æ•°æ®çš„æœ¬è´¨](#%28part._.Nature_of_the_.Data%29) |'
- en: '| Â Â Â Â [18.6.2Â Nature of the Operations](#%28part._.Nature_of_the_.Operations%29)
    |'
  id: totrans-3
  prefs: []
  type: TYPE_TB
  zh: '|Â Â Â [18.6.2 æ“ä½œçš„æœ¬è´¨](#%28part._.Nature_of_the_.Operations%29) |'
- en: '| Â Â Â Â [18.6.3Â Nature of the Guarantee](#%28part._.Nature_of_the_.Guarantee%29)
    |'
  id: totrans-4
  prefs: []
  type: TYPE_TB
  zh: '|Â Â Â [18.6.3 ä¿è¯çš„æœ¬è´¨](#%28part._.Nature_of_the_.Guarantee%29) |'
- en: We have spent a lot of time on sets. That is not only because they are useful
    in their own right, but also because they offer a window into a variety of possible
    designs. In particular, they illustrate several tradeoffs that we can make in
    the design of data structures, based on our needs.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬åœ¨é›†åˆä¸ŠèŠ±è´¹äº†å¤§é‡çš„æ—¶é—´ã€‚è¿™ä¸ä»…æ˜¯å› ä¸ºå®ƒä»¬æœ¬èº«å¾ˆæœ‰ç”¨ï¼Œè€Œä¸”å› ä¸ºå®ƒä»¬ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€æ‰‡äº†è§£å„ç§å¯èƒ½è®¾è®¡çš„çª—å£ã€‚ç‰¹åˆ«æ˜¯ï¼Œå®ƒä»¬è¯´æ˜äº†æˆ‘ä»¬å¯ä»¥æ ¹æ®æˆ‘ä»¬çš„éœ€æ±‚åœ¨æ•°æ®ç»“æ„è®¾è®¡ä¸­åšå‡ºçš„å‡ ä¸ªæƒè¡¡ã€‚
- en: There are several dimensions along which we can divide our designs.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥æ ¹æ®å‡ ä¸ªç»´åº¦æ¥åˆ’åˆ†æˆ‘ä»¬çš„è®¾è®¡ã€‚
- en: 18.6.1Â Nature of the Data[ğŸ”—](#(part._.Nature_of_the_.Data) "Link to here")
  id: totrans-7
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 18.6.1 æ•°æ®çš„æœ¬è´¨[ğŸ”—](#(part._.Nature_of_the_.Data) "é“¾æ¥è‡³æ­¤")
- en: If the data cannot even be comparable for quality, then we canâ€™t construct sets
    out of them, because equality is central to the definition of a set.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœæ•°æ®ç”šè‡³ä¸èƒ½åœ¨è´¨é‡ä¸Šè¿›è¡Œæ¯”è¾ƒï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±ä¸èƒ½ä»å®ƒä»¬ä¸­æ„å»ºé›†åˆï¼Œå› ä¸ºç­‰ä»·æ€§æ˜¯é›†åˆå®šä¹‰çš„æ ¸å¿ƒã€‚
- en: If the data can be compared for equality but not for ordering, then we can only
    construct list-sets [[Representing Sets as Lists](sets-from-lists.html)], with
    their linear-time complexity. However, if we can hash the values [[Converting
    Values to Ordered Values](orderability.html#%28part._hashing-values%29)], then
    we can construct trees [[Making Sets Grow on Trees](sets-from-trees.html)] and
    hashtables [[Sets from Hashing and Arrays](hash-set-kv.html#%28part._hash-tables%29)].
    Trees give us logarithmic complexity for the most expensive atomic operations,
    while hashtables give us constant-to-linear complexity.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœæ•°æ®å¯ä»¥åœ¨ç­‰ä»·æ€§ä¸Šè¿›è¡Œæ¯”è¾ƒï¼Œä½†ä¸èƒ½åœ¨æ’åºä¸Šè¿›è¡Œæ¯”è¾ƒï¼Œé‚£ä¹ˆæˆ‘ä»¬åªèƒ½æ„å»ºå…·æœ‰çº¿æ€§æ—¶é—´å¤æ‚æ€§çš„åˆ—è¡¨é›†åˆ[[å°†é›†åˆè¡¨ç¤ºä¸ºåˆ—è¡¨](sets-from-lists.html)]ã€‚ç„¶è€Œï¼Œå¦‚æœæˆ‘ä»¬å¯ä»¥å°†å€¼å“ˆå¸ŒåŒ–[[å°†å€¼è½¬æ¢ä¸ºæœ‰åºå€¼](orderability.html#%28part._hashing-values%29)]ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥æ„å»ºæ ‘[[åœ¨æ ‘ä¸Šæ„å»ºé›†åˆ](sets-from-trees.html)]å’Œå“ˆå¸Œè¡¨[[ä»å“ˆå¸Œå’Œæ•°ç»„æ„å»ºé›†åˆ](hash-set-kv.html#%28part._hash-tables%29)]ã€‚æ ‘ä¸ºæˆ‘ä»¬æä¾›äº†æœ€æ˜‚è´µçš„åŸå­æ“ä½œçš„å¯¹æ•°å¤æ‚æ€§ï¼Œè€Œå“ˆå¸Œè¡¨ä¸ºæˆ‘ä»¬æä¾›äº†å¸¸æ•°åˆ°çº¿æ€§å¤æ‚æ€§ã€‚
- en: 18.6.2Â Nature of the Operations[ğŸ”—](#(part._.Nature_of_the_.Operations) "Link
    to here")
  id: totrans-10
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 18.6.2 æ“ä½œçš„æœ¬è´¨[ğŸ”—](#(part._.Nature_of_the_.Operations) "é“¾æ¥è‡³æ­¤")
- en: 'Another dimension of variation is the collection of operations we need. We
    began with a fairly ambitious, but standard, collection of operations [[<set-operations>](sets-from-lists.html#%28elem._set-operations%29)],
    but gradually ignored many of them. In particular, some interpretations of sets,
    like [Union-Find](union-find.html), achieve excellent complexity at the cost of
    most of these operations. [Bloom Filters](hash-set-kv.html#%28part._bloom-filters%29)
    provide another instance of this. There is a general computer science principle
    at work here: the fewer operations we need to support, the better we can (sometimes)
    make the complexity of the remaining ones.'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: å¦ä¸€ä¸ªç»´åº¦çš„å˜åŒ–æ˜¯æˆ‘ä»¬éœ€è¦çš„æ“ä½œé›†åˆã€‚æˆ‘ä»¬å¼€å§‹æ—¶æœ‰ä¸€ä¸ªç›¸å½“é›„å¿ƒå‹ƒå‹ƒä½†æ ‡å‡†çš„æ“ä½œé›†åˆ[[<set-operations>](sets-from-lists.html#%28elem._set-operations%29)]ï¼Œä½†é€æ¸å¿½ç•¥äº†å…¶ä¸­è®¸å¤šã€‚ç‰¹åˆ«æ˜¯ï¼Œä¸€äº›é›†åˆçš„è§£é‡Šï¼Œå¦‚[å¹¶æŸ¥é›†](union-find.html)ï¼Œåœ¨ç‰ºç‰²å¤§å¤šæ•°è¿™äº›æ“ä½œçš„æƒ…å†µä¸‹å®ç°äº†ä¼˜ç§€çš„å¤æ‚æ€§ã€‚[å¸ƒéš†è¿‡æ»¤å™¨](hash-set-kv.html#%28part._bloom-filters%29)æä¾›äº†å¦ä¸€ä¸ªä¾‹å­ã€‚è¿™é‡Œæœ‰ä¸€ä¸ªé€šç”¨çš„è®¡ç®—æœºç§‘å­¦åŸåˆ™åœ¨èµ·ä½œç”¨ï¼šæˆ‘ä»¬éœ€è¦æ”¯æŒçš„æ“ä½œè¶Šå°‘ï¼Œæˆ‘ä»¬å°±èƒ½ï¼ˆæœ‰æ—¶ï¼‰è¶Šå¥½åœ°ï¼ˆæœ‰æ—¶ï¼‰ä½¿å‰©ä½™æ“ä½œçš„å¤æ‚æ€§ã€‚
- en: 18.6.3Â Nature of the Guarantee[ğŸ”—](#(part._.Nature_of_the_.Guarantee) "Link to
    here")
  id: totrans-12
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 18.6.3 ä¿è¯çš„æœ¬è´¨[ğŸ”—](#(part._.Nature_of_the_.Guarantee) "é“¾æ¥è‡³æ­¤")
- en: 'Most subtly, there was another distinction: whether or not we needed reliable
    results. Most of our set representations are reliable. However, we also saw one
    situation [[Bloom Filters](hash-set-kv.html#%28part._bloom-filters%29)] where
    we intentionally abandoned complete reliability, replacing it with a statistical
    guarantee. In return, this gave us (potentially) much higher performance.'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: æœ€å¾®å¦™çš„æ˜¯ï¼Œè¿˜æœ‰ä¸€ä¸ªåŒºåˆ«ï¼šæˆ‘ä»¬æ˜¯å¦éœ€è¦å¯é çš„ç»“æœã€‚æˆ‘ä»¬çš„å¤§å¤šæ•°é›†åˆè¡¨ç¤ºéƒ½æ˜¯å¯é çš„ã€‚ç„¶è€Œï¼Œæˆ‘ä»¬ä¹Ÿçœ‹åˆ°äº†ä¸€ç§æƒ…å†µ[[å¸ƒéš†è¿‡æ»¤å™¨](hash-set-kv.html#%28part._bloom-filters%29)]ï¼Œæˆ‘ä»¬æ•…æ„æ”¾å¼ƒäº†å®Œå…¨å¯é æ€§ï¼Œç”¨ç»Ÿè®¡ä¿è¯æ¥ä»£æ›¿ã€‚ä½œä¸ºå›æŠ¥ï¼Œè¿™ç»™æˆ‘ä»¬ï¼ˆå¯èƒ½ï¼‰å¸¦æ¥äº†æ›´é«˜çš„æ€§èƒ½ã€‚
- en: Thus, sets provide a useful microcosm of computer science itself.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: å› æ­¤ï¼Œé›†åˆä¸ºè®¡ç®—æœºç§‘å­¦æœ¬èº«æä¾›äº†ä¸€ä¸ªæœ‰ç”¨çš„å¾®è§‚ä¸–ç•Œã€‚
- en: 18.6.1Â Nature of the Data[ğŸ”—](#(part._.Nature_of_the_.Data) "Link to here")
  id: totrans-15
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 18.6.1 æ•°æ®çš„æœ¬è´¨[ğŸ”—](#(part._.Nature_of_the_.Data) "é“¾æ¥è‡³æ­¤")
- en: If the data cannot even be comparable for quality, then we canâ€™t construct sets
    out of them, because equality is central to the definition of a set.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœæ•°æ®ç”šè‡³ä¸èƒ½è¿›è¡Œæ¯”è¾ƒè´¨é‡ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±ä¸èƒ½ä»å®ƒä»¬ä¸­æ„å»ºé›†åˆï¼Œå› ä¸ºç›¸ç­‰æ˜¯é›†åˆå®šä¹‰çš„æ ¸å¿ƒã€‚
- en: If the data can be compared for equality but not for ordering, then we can only
    construct list-sets [[Representing Sets as Lists](sets-from-lists.html)], with
    their linear-time complexity. However, if we can hash the values [[Converting
    Values to Ordered Values](orderability.html#%28part._hashing-values%29)], then
    we can construct trees [[Making Sets Grow on Trees](sets-from-trees.html)] and
    hashtables [[Sets from Hashing and Arrays](hash-set-kv.html#%28part._hash-tables%29)].
    Trees give us logarithmic complexity for the most expensive atomic operations,
    while hashtables give us constant-to-linear complexity.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœæ•°æ®å¯ä»¥æ¯”è¾ƒç›¸ç­‰ä½†ä¸èƒ½æ’åºï¼Œé‚£ä¹ˆæˆ‘ä»¬åªèƒ½æ„å»ºå…·æœ‰çº¿æ€§æ—¶é—´å¤æ‚åº¦çš„åˆ—è¡¨é›†åˆ[[å°†é›†åˆè¡¨ç¤ºä¸ºåˆ—è¡¨](sets-from-lists.html)]ã€‚ç„¶è€Œï¼Œå¦‚æœæˆ‘ä»¬å¯ä»¥å°†å€¼å“ˆå¸ŒåŒ–[[å°†å€¼è½¬æ¢ä¸ºæœ‰åºå€¼](orderability.html#%28part._hashing-values%29)]ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥æ„å»ºæ ‘[[åœ¨æ ‘ä¸Šæ„å»ºé›†åˆ](sets-from-trees.html)]å’Œå“ˆå¸Œè¡¨[[ä»å“ˆå¸Œå’Œæ•°ç»„æ„å»ºé›†åˆ](hash-set-kv.html#%28part._hash-tables%29)]ã€‚æ ‘ä¸ºæˆ‘ä»¬æä¾›äº†å¯¹æœ€æ˜‚è´µçš„åŸå­æ“ä½œçš„å¯¹æ•°å¤æ‚åº¦ï¼Œè€Œå“ˆå¸Œè¡¨ä¸ºæˆ‘ä»¬æä¾›äº†å¸¸æ•°åˆ°çº¿æ€§å¤æ‚åº¦ã€‚
- en: 18.6.2Â Nature of the Operations[ğŸ”—](#(part._.Nature_of_the_.Operations) "Link
    to here")
  id: totrans-18
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 18.6.2 æ“ä½œçš„æœ¬è´¨[ğŸ”—](#(part._.Nature_of_the_.Operations) "é“¾æ¥è‡³æ­¤")
- en: 'Another dimension of variation is the collection of operations we need. We
    began with a fairly ambitious, but standard, collection of operations [[<set-operations>](sets-from-lists.html#%28elem._set-operations%29)],
    but gradually ignored many of them. In particular, some interpretations of sets,
    like [Union-Find](union-find.html), achieve excellent complexity at the cost of
    most of these operations. [Bloom Filters](hash-set-kv.html#%28part._bloom-filters%29)
    provide another instance of this. There is a general computer science principle
    at work here: the fewer operations we need to support, the better we can (sometimes)
    make the complexity of the remaining ones.'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: å˜åŒ–çš„å¦ä¸€ä¸ªç»´åº¦æ˜¯æˆ‘ä»¬éœ€è¦çš„æ“ä½œé›†åˆã€‚æˆ‘ä»¬å¼€å§‹æ—¶æœ‰ä¸€ä¸ªç›¸å½“é›„å¿ƒå‹ƒå‹ƒä½†æ ‡å‡†çš„æ“ä½œé›†åˆ[[<set-operations>](sets-from-lists.html#%28elem._set-operations%29)]ï¼Œä½†é€æ¸å¿½ç•¥äº†å…¶ä¸­è®¸å¤šã€‚ç‰¹åˆ«æ˜¯ï¼Œä¸€äº›é›†åˆçš„è§£é‡Šï¼Œå¦‚[å¹¶æŸ¥é›†](union-find.html)ï¼Œåœ¨ç‰ºç‰²å¤§å¤šæ•°è¿™äº›æ“ä½œçš„æƒ…å†µä¸‹å®ç°äº†ä¼˜ç§€çš„å¤æ‚åº¦ã€‚[å¸ƒéš†è¿‡æ»¤å™¨](hash-set-kv.html#%28part._bloom-filters%29)æ˜¯è¿™ç§å®ä¾‹çš„å¦ä¸€ä¸ªä¾‹å­ã€‚è¿™é‡Œæœ‰ä¸€ä¸ªé€šç”¨çš„è®¡ç®—æœºç§‘å­¦åŸåˆ™åœ¨èµ·ä½œç”¨ï¼šæˆ‘ä»¬éœ€è¦æ”¯æŒçš„æ“ä½œè¶Šå°‘ï¼Œæˆ‘ä»¬å°±èƒ½ï¼ˆæœ‰æ—¶ï¼‰è¶Šå¥½åœ°ï¼ˆæœ‰æ—¶ï¼‰ä½¿å‰©ä½™æ“ä½œçš„å¤æ‚åº¦ã€‚
- en: 18.6.3Â Nature of the Guarantee[ğŸ”—](#(part._.Nature_of_the_.Guarantee) "Link to
    here")
  id: totrans-20
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 18.6.3 ä¿è¯çš„æœ¬è´¨[ğŸ”—](#(part._.Nature_of_the_.Guarantee) "é“¾æ¥è‡³æ­¤")
- en: 'Most subtly, there was another distinction: whether or not we needed reliable
    results. Most of our set representations are reliable. However, we also saw one
    situation [[Bloom Filters](hash-set-kv.html#%28part._bloom-filters%29)] where
    we intentionally abandoned complete reliability, replacing it with a statistical
    guarantee. In return, this gave us (potentially) much higher performance.'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: æœ€å¾®å¦™çš„æ˜¯ï¼Œè¿˜æœ‰ä¸€ä¸ªåŒºåˆ«ï¼šæˆ‘ä»¬æ˜¯å¦éœ€è¦å¯é çš„ç»“æœã€‚æˆ‘ä»¬çš„å¤§å¤šæ•°é›†åˆè¡¨ç¤ºéƒ½æ˜¯å¯é çš„ã€‚ç„¶è€Œï¼Œæˆ‘ä»¬ä¹Ÿçœ‹åˆ°äº†ä¸€ç§æƒ…å†µ[[å¸ƒéš†è¿‡æ»¤å™¨](hash-set-kv.html#%28part._bloom-filters%29)]ï¼Œæˆ‘ä»¬æ•…æ„æ”¾å¼ƒäº†å®Œå…¨å¯é æ€§ï¼Œç”¨ç»Ÿè®¡ä¿è¯æ¥ä»£æ›¿ã€‚ä½œä¸ºå›æŠ¥ï¼Œè¿™ç»™æˆ‘ä»¬ï¼ˆå¯èƒ½ï¼‰å¸¦æ¥äº†æ›´é«˜çš„æ€§èƒ½ã€‚
- en: Thus, sets provide a useful microcosm of computer science itself.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: å› æ­¤ï¼Œé›†åˆä¸ºè®¡ç®—æœºç§‘å­¦æœ¬èº«æä¾›äº†ä¸€ä¸ªæœ‰ç”¨çš„å¾®è§‚ä¸–ç•Œã€‚
