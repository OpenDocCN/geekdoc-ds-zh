- en: 3  Reproducible workflows
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://tellingstorieswithdata.com/03-workflow.html](https://tellingstorieswithdata.com/03-workflow.html)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[Foundations](./01-introduction.html)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[3  Reproducible workflows](./03-workflow.html)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '*Chapman and Hall/CRC published this book in July 2023\. You can purchase that
    [here](https://www.routledge.com/Telling-Stories-with-Data-With-Applications-in-R/Alexander/p/book/9781032134772).
    This online version has some updates to what was printed.*  ***Prerequisites**'
  prefs: []
  type: TYPE_NORMAL
- en: Read *What has happened down here is the winds have changed*, ([Gelman 2016](99-references.html#ref-Gelman2016))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: A blog post that provides an overview of the replication crisis, and how social
    science changed in response.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Read *Good enough practices in scientific computing*, ([Wilson et al. 2017](99-references.html#ref-wilsongoodenough))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: A paper that provides a set of clear, easily adoptable, recommendations for
    how to do data science, focused on how we use computers.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Read *How to improve your relationship with your future self*, ([Bowers and
    Voors 2016](99-references.html#ref-bowers2016improve))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: A paper that provides a set of clear, easily adoptable, recommendations for
    how to do data science, focused on analysis.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Watch *Overcoming barriers to sharing code*, ([Alexander 2021](99-references.html#ref-monicatalks))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: This video is a personal reflection on becoming comfortable with sharing code.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Watch *Make a reprex\(\dots\) Please*, ([Gelfand 2021](99-references.html#ref-sharlatalks))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: This video details why creating a reproducible example is so important when
    asking for help.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Read *The tidyverse style guide*, ([Wickham 2021](99-references.html#ref-tidyversestyleguide))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: A website documenting a set of recommended best-practices when coding in R.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Watch *Code smells and feels*, ([Bryan 2018b](99-references.html#ref-codesmells))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: A video that details things to try to avoid when coding.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Key concepts and skills**'
  prefs: []
  type: TYPE_NORMAL
- en: Reproducibility typically begins as something that someone imposes on you. It
    can be onerous and annoying. This typically lasts until you need to revisit a
    project after a small break. At that point you typically realize that reproducibility
    is not just a requirement for data science because it is the only way that we
    can make genuine progress, but because it helps us help ourselves.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Reproducibility implies sharing data, code, and environment. This is enhanced
    by using Quarto, R Projects, and Git and GitHub: Quarto builds documents that
    integrate normal text and R code; R Projects enable a file structure that is not
    dependent on a user’s personal directory set-up; and Git and GitHub make it easier
    to share code and data.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: This is not an unimpeachable workflow, but one that is good enough and provides
    many of the benefits. We will improve various aspects of it through various tools,
    but improving code structure and comments goes a long way.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: There are always errors that occur, and it is important to recognize that debugging
    is a skill that improves with practice. But one key aspect of being able to get
    help is to be able to make a reproducible example others can use.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Software and packages**'
  prefs: []
  type: TYPE_NORMAL
- en: Base R ([R Core Team 2024](99-references.html#ref-citeR))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`AER` ([Kleiber and Zeileis 2008](99-references.html#ref-citeaer))'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`future` ([Bengtsson 2021](99-references.html#ref-future))'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`gitcreds` ([Csárdi 2022](99-references.html#ref-gitcreds))'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`lintr` ([Hester et al. 2022](99-references.html#ref-lintr))'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`renv` ([Ushey 2022](99-references.html#ref-renv))'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`reprex` ([Bryan et al. 2022](99-references.html#ref-reprex))'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`styler` ([Müller and Walthert 2022](99-references.html#ref-styler))'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`tidyverse` ([Wickham et al. 2019](99-references.html#ref-tidyverse))'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`tinytable` ([Arel-Bundock 2024](99-references.html#ref-tinytable))'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`tinytex` ([Xie 2019](99-references.html#ref-tinytex))'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`usethis` ([Wickham, Bryan, and Barrett 2022](99-references.html#ref-usethis))'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: '*## 3.1 Introduction'
  prefs: []
  type: TYPE_NORMAL
- en: The number one thing to keep in mind about machine learning is that performance
    is evaluated on samples from one dataset, but the model is used in production
    on samples that may not necessarily follow the same characteristics\(\dots\) So
    when asking the question, “would you rather use a model that was evaluated as
    90% accurate, or a human that was evaluated as 80% accurate”, the answer depends
    on whether your data is typical per the evaluation process. Humans are adaptable,
    models are not. If significant uncertainty is involved, go with the human. They
    may have inferior pattern recognition capabilities (versus models trained on enormous
    amounts of data), but they understand what they do, they can reason about it,
    and they can improvise when faced with novelty.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: ''
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: François Chollet, 20 February 2020.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: If science is about systematically building and organizing knowledge in terms
    of testable explanations and predictions, then data science takes this and focuses
    on data. This means that building, organizing, and sharing knowledge is a critical
    aspect. Creating knowledge, once, in a way that only you can do it, does not meet
    this standard. Hence, there is a need for reproducible data science workflows.
  prefs: []
  type: TYPE_NORMAL
- en: 'Alexander ([2019](99-references.html#ref-Alexander2019)) defines reproducible
    research as that which can be exactly redone, given all the materials used. This
    underscores the importance of providing the code, data, and environment. The minimum
    expectation is that another person is independently able to use your code, data,
    and environment to get your results, including figures and tables. Ironically,
    there are different definitions of reproducibility between disciplines. Barba
    ([2018](99-references.html#ref-barba2018terminologies)) surveys a variety of disciplines
    and concludes that the predominant language usage implies the following definitions:'
  prefs: []
  type: TYPE_NORMAL
- en: Reproducible research is when “[a]uthors provide all the necessary data and
    the computer codes to run the analysis again, re-creating the results.”
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: A replication is a study “that arrives at the same scientific findings as another
    study, collecting new data (possibly with different methods) and completing new
    analyses.”
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'For our purposes we use the definition from National Academies of Sciences,
    Engineering, and Medicine ([2019, 46](99-references.html#ref-nationalacademies)):
    “Reproducibility is obtaining consistent results using the same input data; computational
    steps, methods, and code; and conditions of analysis.” Regardless of what it is
    specifically called, Gelman ([2016](99-references.html#ref-Gelman2016)) identifies
    how large an issue the lack of it is in various social sciences. Work that is
    not reproducible does not contribute to our stock of knowledge about the world.
    This is wasteful and potentially even unethical. Since Gelman ([2016](99-references.html#ref-Gelman2016)),
    a great deal of work has been done in many social sciences and the situation has
    improved a little, but much work remains. That is also the case in the life sciences
    ([Heil et al. 2021](99-references.html#ref-heil2021reproducibility)), cancer research
    ([Begley and Ellis 2012](99-references.html#ref-Begley2012); [Mullard 2021](99-references.html#ref-Mullard2021)),
    and computer science ([Pineau et al. 2021](99-references.html#ref-pineau2021improving)).'
  prefs: []
  type: TYPE_NORMAL
- en: Some of the examples that Gelman ([2016](99-references.html#ref-Gelman2016))
    talks about are not that important in the scheme of things. But at the same time,
    we saw, and continue to see, similar approaches being used in areas with big impacts.
    For instance, many governments have created “nudge” units that implement public
    policy ([Sunstein and Reisch 2017](99-references.html#ref-sunstein2017economics))
    even though there is evidence that some of the claims lack credibility ([Maier
    et al. 2022](99-references.html#ref-nonudge); [Szaszi et al. 2022](99-references.html#ref-gelmannudge)).
    Governments are increasingly using algorithms that they do not make open ([Chouldechova
    et al. 2018](99-references.html#ref-chouldechova18a)). And Herndon, Ash, and Pollin
    ([2014](99-references.html#ref-herndon2014does)) document how research in economics
    that was used by governments to justify austerity policies following the 2007–2008
    financial crisis turned out to not be reproducible.
  prefs: []
  type: TYPE_NORMAL
- en: At a minimum, and with few exceptions, we must release our code, datasets, and
    environment. Without these, it is difficult to know what a finding speaks to ([Miyakawa
    2020](99-references.html#ref-miyakawa2020no)). More banally, we also do not know
    if there are mistakes or aspects that were inadvertently overlooked ([Merali 2010](99-references.html#ref-merali2010computational);
    [Hillel 2017](99-references.html#ref-hillelwayne); [Silver 2020](99-references.html#ref-natefixesmistake)).
    Increasingly, following Buckheit and Donoho ([1995](99-references.html#ref-buckheit1995wavelab)),
    we consider a paper to be an advertisement, and for the associated code, data,
    and environment to be the actual work. Steve Jobs, a co-founder of Apple, talked
    about how people who are the best at their craft ensure that even the aspects
    of their work that no one else will ever see are as well finished and high quality
    as the aspects that are public facing ([Isaacson 2011](99-references.html#ref-stevejobs)).
    The same is true in data science, where often one of the distinguishing aspects
    of high-quality work is that the README and code comments are as polished as,
    say, the abstract of the associated paper.
  prefs: []
  type: TYPE_NORMAL
- en: Workflows exist within a cultural and social context, which imposes an additional
    ethical reason for the need for them to be reproducible. For instance, Wang and
    Kosinski ([2018](99-references.html#ref-wang2018deep)) train a neural network
    to distinguish between the faces of gay and heterosexual men. (Murphy ([2017](99-references.html#ref-murphy2017))
    provides a summary of the paper, the associated issues, and comments from its
    authors.) To do this, Wang and Kosinski ([2018, 248](99-references.html#ref-wang2018deep))
    needed a dataset of photos of people that were “adult, Caucasian, fully visible,
    and of a gender that matched the one reported on the user’s profile”. They verified
    this using Amazon Mechanical Turk, an online platform that pays workers a small
    amount of money to complete specific tasks. The instructions provided to the Mechanical
    Turk workers for this task specify that Barack Obama, the 44th US President, who
    had a white mother and a black father, should be classified as “Black”; and that
    Latino is an ethnicity, rather than a race ([Mattson 2017](99-references.html#ref-Mattson2017)).
    The classification task may seem objective, but, perhaps unthinkingly, echoes
    the views of Americans with a certain class and background.
  prefs: []
  type: TYPE_NORMAL
- en: This is just one specific concern about one part of the Wang and Kosinski ([2018](99-references.html#ref-wang2018deep))
    workflow. Broader concerns are raised by others including Gelman, Mattson, and
    Simpson ([2018](99-references.html#ref-Gelman_2018)). The main issue is that statistical
    models are specific to the data on which they were trained. And the only reason
    that we can identify likely issues in the model of Wang and Kosinski ([2018](99-references.html#ref-wang2018deep))
    is because, despite not releasing the specific dataset that they used, they were
    nonetheless open about their procedure. For our work to be credible, it needs
    to be reproducible by others.
  prefs: []
  type: TYPE_NORMAL
- en: 'Some of the steps that we can take to make our work more reproducible include:'
  prefs: []
  type: TYPE_NORMAL
- en: 'Ensure the entire workflow is documented. This may involve addressing questions
    such as:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: How was the original, unedited dataset obtained and is access likely to be persistent
    and available to others?
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: What specific steps are being taken to transform the original, unedited data
    into the data that were analyzed, and how can this be made available to others?
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: What analysis has been done, and how clearly can this be shared?
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: How has the final paper or report been built and to what extent can others follow
    that process themselves?
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Not worrying about perfect reproducibility initially, but instead focusing
    on trying to improve with each successive project. For instance, each of the following
    requirements are increasingly more onerous and there is no need to be concerned
    about not being able to do the last, until you can do the first:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Can you run your entire workflow again?
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Can another person run your entire workflow again?
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Can “future-you” run your entire workflow again?
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Can “future-another-person” run your entire workflow again?
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Including a detailed discussion about the limitations of the dataset and the
    approach in the final paper or report.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'The workflow that we advocate in this book is:'
  prefs: []
  type: TYPE_NORMAL
- en: \[ \mbox{Plan}\rightarrow\mbox{Simulate}\rightarrow\mbox{Acquire}\rightarrow\mbox{Explore}\rightarrow\mbox{Share}
    \]
  prefs: []
  type: TYPE_NORMAL
- en: 'But it can be alternatively considered as: “Think an awful lot, mostly read
    and write, sometimes code”.'
  prefs: []
  type: TYPE_NORMAL
- en: There are various tools that we can use at the different stages that will improve
    the reproducibility of this workflow. This includes Quarto, R Projects, and Git
    and GitHub.
  prefs: []
  type: TYPE_NORMAL
- en: 3.2 Quarto
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 3.2.1 Getting started
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Quarto integrates code and natural language in a way that is called “literate
    programming” ([Knuth 1984](99-references.html#ref-Knuth1984)). It is the successor
    to R Markdown, which was a variant of Markdown specifically designed to allow
    R code chunks to be included. Quarto uses a mark-up language similar to HyperText
    Markup Language (HTML) or LaTeX, in comparison to a “What You See Is What You
    Get” (WYSIWYG) language, such as Microsoft Word. This means that all the aspects
    are consistent, for instance, all top-level headings will look the same. But it
    means that we must designate or “mark up” how we would like certain aspects to
    appear. And it is only when we render the document that we get to see what it
    looks like. A visual editor option can also be used, and this hides the need for
    the user to do this mark-up themselves.
  prefs: []
  type: TYPE_NORMAL
- en: While it makes sense to use Quarto going forward, there are many resources written
    for and in R Markdown. For this reason we provide R Markdown equivalents in [Online
    Appendix E](24-rmarkdown.html).
  prefs: []
  type: TYPE_NORMAL
- en: '*Shoulders of giants* *Fernando Pérez is an associate professor of statistics
    at the University of California, Berkeley and a Faculty Scientist, Data Science
    and Technology Division, at Lawrence Berkeley National Laboratory. He earned a
    PhD in particle physics from the University of Colorado, Boulder. During his PhD
    he created iPython, which enables Python to be used interactively, and now underpins
    Project Jupyter, which inspired similar notebook approaches such as R Markdown
    and now Quarto. Somers ([2018](99-references.html#ref-somers2018obsolete)) describes
    how open-source notebook approaches create virtuous feedback loops that result
    in dramatically improved scientific computing. And Romer ([2018](99-references.html#ref-romersays))
    aligns the features of open-source approaches, such as Jupyter, with the features
    that enable scientific consensus and progress. In 2017 Pérez was awarded the Association
    for Computing Machinery (ACM) Software System Award.*  *One advantage of literate
    programming is that we get a “live” document in which code executes and then forms
    part of the document. Another advantage of Quarto is that similar code can compile
    into a variety of documents, including HTML and PDFs. Quarto also has default
    options for including a title, author, and date. One disadvantage is that it can
    take a while for a document to compile because the code needs to run.'
  prefs: []
  type: TYPE_NORMAL
- en: 'We need to download Quarto from [here](https://quarto.org/docs/get-started/).
    (Skip this step if you are using Posit Cloud because it is already installed.)
    We can then create a new Quarto document within RStudio: “File” \(\rightarrow\)
    “New File” \(\rightarrow\) “Quarto Document\(\dots\)”.'
  prefs: []
  type: TYPE_NORMAL
- en: After opening a new Quarto document and selecting “Source” view, you will see
    the default [top matter](#Top%20matter), contained within a pair of three dashes,
    as well as some examples of text showing a few of the markdown [essential commands](#essential%20commands)
    and [R chunks](#R%20chunks), each of which are discussed further in the following
    sections.*  *### 3.2.2 Top matter
  prefs: []
  type: TYPE_NORMAL
- en: Top matter consists of defining aspects such as the title, author, and date.
    It is contained within three dashes at the top of a Quarto document. For instance,
    the following would specify a title, a date that automatically updated to the
    date the document was rendered, and an author.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: An abstract is a short summary of the paper, and we could add that to the top
    matter.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: By default, Quarto will create an HTML document, but we can change the output
    format to produce a PDF. This uses LaTeX in the background and requires the installation
    of supporting packages. To do this install `tinytex`. But as it is used in the
    background we should not need to load it.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: 3.2.3 References
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: We can include references by specifying a BibTeX file in the top matter and
    then calling it within the text, as needed.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: We would need to make a separate file called “bibliography.bib” and save it
    next to the Quarto file. In the BibTeX file we need an entry for the item that
    is to be referenced. For instance, the citation for R can be obtained with `citation()`
    and this can be added to the “bibliography.bib” file. The citation for a package
    can be found by including the package name, for instance `citation("tidyverse")`,
    and again adding the output to the “.bib” file. It can be helpful to use [Google
    Scholar](https://scholar.google.com) or [doi2bib](https://www.doi2bib.org) to
    get citations for books or articles.
  prefs: []
  type: TYPE_NORMAL
- en: We need to create a unique key that we use to refer to this item in the text.
    This can be anything, provided it is unique, but meaningful ones can be easier
    to remember, for instance “citeR”.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs: []
  type: TYPE_PRE
- en: 'To cite R in the Quarto document we then include `@citeR`, which would put
    brackets around the year: R Core Team ([2024](99-references.html#ref-citeR)),
    or `[@citeR]`, which would put brackets around the whole thing: ([R Core Team
    2024](99-references.html#ref-citeR)).'
  prefs: []
  type: TYPE_NORMAL
- en: The reference list at the end of the paper is automatically built based on calling
    the BibTeX file and including references in the paper. At the end of the Quarto
    document, include a heading “# References” and the actual citations will be included
    after that. When the Quarto file is rendered, Quarto sees these in the content,
    goes to the BibTeX file to get the reference details that it needs, builds the
    reference list, and then adds it at the end of the rendered document.
  prefs: []
  type: TYPE_NORMAL
- en: 'BibTeX will try to adjust the capitalization of entries. This can be helpful,
    but sometimes it is better to insist on a specific capitalization. To force BibTeX
    to use a particular capitalization use double braces instead of single braces
    around the entry. For instance, in the above examples `{R Core Team}` will be
    printed with that exact capitalization, whereas `{Telling Stories with Data}`
    is subject to the whims of BibTeX. Insisting on a particular capitalization is
    important when citing R packages, which can have a specific capitalization, and
    when citing an organization as an author. For instance, when citing `usethis`,
    you need to use `title = {{usethis: Automate Package and Project Setup}},`, not
    `title = {usethis: Automate Package and Project Setup},`. And if, say, data were
    provided by the City of Toronto, then when specifying the author to cite that
    dataset you would want to use `author = {{City of Toronto}},` not `author = {City
    of Toronto},`. The latter would result in the incorrect reference list entry “Toronto,
    City of” while the former would result in the correct reference list entry of
    “City of Toronto”.'
  prefs: []
  type: TYPE_NORMAL
- en: 3.2.4 Essential commands
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'Quarto uses a variation of Markdown as its underlying syntax. Essential Markdown
    commands include those for emphasis, headers, lists, links, and images. A reminder
    of these is included in RStudio: “Help” \(\rightarrow\) “Markdown Quick Reference”.
    It is your choice as to whether you want to use the visual or source editor. But
    either way, it is good to understand these essentials because it will not always
    be possible to use a visual editor (for instance if you are quickly looking at
    a Quarto document in GitHub). As you get more experience it can be useful to use
    a text editor such as Sublime Text, or an alternative Integrated Development Environment
    such as VS Code.'
  prefs: []
  type: TYPE_NORMAL
- en: 'Emphasis: `*italic*`, `**bold**`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Headers (these go on their own line with a blank line before and after):'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE6]'
  prefs: []
  type: TYPE_PRE
- en: 'Unordered list, with sub-lists:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE7]'
  prefs: []
  type: TYPE_PRE
- en: 'Ordered list, with sub-lists:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE8]'
  prefs: []
  type: TYPE_PRE
- en: 'URLs can be added: `[this book](https://www.tellingstorieswithdata.com)` results
    in [this book](https://www.tellingstorieswithdata.com).'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: A paragraph is created by leaving a blank line.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE9]'
  prefs: []
  type: TYPE_PRE
- en: Once we have added some aspects, then we may want to see the actual document.
    To build the document click “Render”.
  prefs: []
  type: TYPE_NORMAL
- en: 3.2.5 R chunks
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: We can include code for R and many other languages in code chunks within a Quarto
    document. When we render the document the code will run and be included in the
    document.
  prefs: []
  type: TYPE_NORMAL
- en: To create an R chunk, we start with three backticks and then within curly braces
    we tell Quarto that this is an R chunk. Anything inside this chunk will be considered
    R code and run as such. We use data from Kleiber and Zeileis ([2008](99-references.html#ref-citeaer))
    who provide the R package `AER` to accompany their book *Applied Econometrics
    with R*. We could load the `tidyverse` and install and load `AER` and make a graph
    of the number of times a survey respondent visited the doctor in the past two
    weeks.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE10]{r}'
  prefs: []
  type: TYPE_NORMAL
- en: library(tidyverse)
  prefs: []
  type: TYPE_NORMAL
- en: library(AER)
  prefs: []
  type: TYPE_NORMAL
- en: data("DoctorVisits", package = "AER")
  prefs: []
  type: TYPE_NORMAL
- en: DoctorVisits |>
  prefs: []
  type: TYPE_NORMAL
- en: ggplot(aes(x = illness)) +
  prefs: []
  type: TYPE_NORMAL
- en: geom_histogram(stat = "count")
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE11]'
  prefs: []
  type: TYPE_PRE
- en: '*The output of that code is [Figure 3.1](#fig-doctervisits).'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/87ac05892282a2dfb4a48f93a0190845.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Figure 3.1: Number of illnesses in the past two weeks, based on the 1977–1978
    Australian Health Survey'
  prefs: []
  type: TYPE_NORMAL
- en: 'There are various evaluation options that are available in chunks. We include
    these, each on a new line, by opening the line with the chunk-specific comment
    delimiter “#|” and then the option. Helpful options include:'
  prefs: []
  type: TYPE_NORMAL
- en: '`echo`: This controls whether the code itself is included in the document.
    For instance, `#| echo: false` would mean the code will be run and its output
    will show, but the code itself would not be included in the document.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`include`: This controls whether the output of the code is included in the
    document. For instance, `#| include: false` would run the code, but would not
    result in any output, and the code itself would not be included in the document.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`eval`: This controls whether the code should be included in the document.
    For instance, `#| eval: false` would mean that the code is not run, and hence
    there would not be any output to include, but the code itself would be included
    in the document.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`warning`: This controls whether warnings should be included in the document.
    For instance, `#| warning: false` would mean that warnings are not included.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`message`: This controls whether messages should be included in the document.
    For instance, `#| message: false` would mean that messages are not included in
    the document.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: For instance, we could include the output, but not the code, and suppress any
    warnings.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE12]{r}'
  prefs: []
  type: TYPE_NORMAL
- en: '#| echo: false'
  prefs: []
  type: TYPE_NORMAL
- en: '#| warning: false'
  prefs: []
  type: TYPE_NORMAL
- en: library(tidyverse)
  prefs: []
  type: TYPE_NORMAL
- en: library(AER)
  prefs: []
  type: TYPE_NORMAL
- en: data("DoctorVisits", package = "AER")
  prefs: []
  type: TYPE_NORMAL
- en: DoctorVisits |>
  prefs: []
  type: TYPE_NORMAL
- en: ggplot(aes(x = visits)) +
  prefs: []
  type: TYPE_NORMAL
- en: geom_histogram(stat = "count")
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE13]'
  prefs: []
  type: TYPE_PRE
- en: '*Leave a blank line on either side of an R chunk, otherwise it may not run
    properly. And use lower case for logical values, i.e. “false” not “FALSE”.'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE14]{r}'
  prefs: []
  type: TYPE_NORMAL
- en: '#| echo: false'
  prefs: []
  type: TYPE_NORMAL
- en: '#| warning: false'
  prefs: []
  type: TYPE_NORMAL
- en: library(tidyverse)
  prefs: []
  type: TYPE_NORMAL
- en: library(AER)
  prefs: []
  type: TYPE_NORMAL
- en: data("DoctorVisits", package = "AER")
  prefs: []
  type: TYPE_NORMAL
- en: DoctorVisits |>
  prefs: []
  type: TYPE_NORMAL
- en: ggplot(aes(x = visits)) +
  prefs: []
  type: TYPE_NORMAL
- en: geom_histogram(stat = "count")
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE15]'
  prefs: []
  type: TYPE_PRE
- en: '*The Quarto document itself must load any datasets that are needed. It is not
    enough that they are in the environment. This is because the Quarto document evaluates
    the code in the document when it is rendered, not necessarily the environment.'
  prefs: []
  type: TYPE_NORMAL
- en: Often when writing code, we may want to make the same change across multiple
    lines or change all instances of a particular thing. We achieve this with multiple
    cursors. If we want a cursor across multiple, consecutive lines, then hold “option”
    on Mac or “Alt” on PC, while you drag your cursor over the relevant lines. If
    you want to select all instances of something, then highlight one instance, say
    a variable name, then use Find/Replace (Command + F on Mac or CTRL + F on PC)
    and select “All”. This will then enable a cursor at all the other instances.***  ***###
    3.2.6 Equations
  prefs: []
  type: TYPE_NORMAL
- en: 'We can include equations by using LaTeX, which is based on the programming
    language TeX. We invoke math mode in LaTeX by using two dollar signs as opening
    and closing tags. Then whatever is inside is evaluated as LaTeX mark-up. For instance
    we can produce the compound interest formula with:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE16]'
  prefs: []
  type: TYPE_PRE
- en: '*\[ A = P\left(1+\frac{r}{n}\right)^{nt} \]'
  prefs: []
  type: TYPE_NORMAL
- en: LaTeX is a comprehensive mark-up language but we will mostly just use it to
    specify the model of interest. We include some examples here that contain the
    critical aspects we will draw on starting in [Chapter 12](12-ijalm.html).
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE17]'
  prefs: []
  type: TYPE_PRE
- en: '*\[ y_i|\mu_i, \sigma \sim \mbox{Normal}(\mu_i, \sigma) \]'
  prefs: []
  type: TYPE_NORMAL
- en: 'Underscores are used to get subscripts: `y_i` for \(y_i\). And we can get a
    subscript of more than one item by surrounding it with curly braces: `y_{i,c}`
    for \(y_{i,c}\). In this case we wanted math mode within the line, and so we surround
    these with only one dollar sign as opening and closing tags.'
  prefs: []
  type: TYPE_NORMAL
- en: 'Greek letters are typically preceded by a backslash. Common Greek letters include:
    `\alpha` for \(\alpha\), `\beta` for \(\beta\), `\delta` for \(\delta\), `\epsilon`
    for \(\epsilon\), `\gamma` for \(\gamma\), `\lambda` for \(\lambda\), `\mu` for
    \(\mu\), `\phi` for \(\phi\), `\pi` for \(\pi\), `\Pi` for \(\Pi\), `\rho` for
    \(\rho\), `\sigma` for \(\sigma\), `\Sigma` for \(\Sigma\), `\tau` for \(\tau\),
    and `\theta` for \(\theta\).'
  prefs: []
  type: TYPE_NORMAL
- en: LaTeX math mode assumes letters are variables and so makes them italic, but
    sometimes we want a word to appear in normal font because it is not a variable,
    such as “Normal”. In that case we surround it with `\mbox{}`, for instance `\mbox{Normal}`
    for \(\mbox{Normal}\).
  prefs: []
  type: TYPE_NORMAL
- en: We line up equations across multiple lines using `\begin{aligned}` and `\end{aligned}`.
    Then the item that is to be lined up is noted by an ampersand. The following is
    a model that we will estimate in [Chapter 16](15-mrp.html).
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE18]'
  prefs: []
  type: TYPE_PRE
- en: '*\[ \begin{aligned} y_i|\pi_i & \sim \mbox{Bern}(\pi_i) \\ \mbox{logit}(\pi_i)
    & = \beta_0+ \alpha_{g[i]}^{\mbox{gender}} + \alpha_{a[i]}^{\mbox{age}} + \alpha_{s[i]}^{\mbox{state}}
    + \alpha_{e[i]}^{\mbox{edu}} \\ \beta_0 & \sim \mbox{Normal}(0, 2.5)\\ \alpha_{g}^{\mbox{gender}}
    & \sim \mbox{Normal}(0, 2.5)\mbox{ for }g=1, 2\\ \alpha_{a}^{\mbox{age}} & \sim
    \mbox{Normal}\left(0, \sigma^2_{\mbox{age}}\right)\mbox{ for }a = 1, 2, \dots,
    A\\ \alpha_{s}^{\mbox{state}} & \sim \mbox{Normal}\left(0, \sigma^2_{\mbox{state}}\right)\mbox{
    for }s = 1, 2, \dots, S\\ \alpha_{e}^{\mbox{edu}} & \sim \mbox{Normal}\left(0,
    \sigma^2_{\mbox{edu}}\right)\mbox{ for }e = 1, 2, \dots, E\\ \sigma_{\mbox{gender}}
    & \sim \mbox{Exponential}(1)\\ \sigma_{\mbox{state}} & \sim \mbox{Exponential}(1)\\
    \sigma_{\mbox{edu}} & \sim \mbox{Exponential}(1) \end{aligned} \]'
  prefs: []
  type: TYPE_NORMAL
- en: Finally, certain functions are built into LaTeX. For instance, we can appropriately
    typeset “log” with `\log`.***  ***### 3.2.7 Cross-references
  prefs: []
  type: TYPE_NORMAL
- en: It can be useful to cross-reference figures, tables, and equations. This makes
    it easier to refer to them in the text. To do this for a figure we refer to the
    name of the R chunk that creates or contains the figure. For instance, consider
    the following code.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE19]{r}'
  prefs: []
  type: TYPE_NORMAL
- en: '#| label: fig-uniquename'
  prefs: []
  type: TYPE_NORMAL
- en: '#| fig-cap: Number of illnesses in the past two weeks, based on the 1977--1978
    Australian Health Survey'
  prefs: []
  type: TYPE_NORMAL
- en: '#| warning: false'
  prefs: []
  type: TYPE_NORMAL
- en: data("DoctorVisits", package = "AER")
  prefs: []
  type: TYPE_NORMAL
- en: DoctorVisits |>
  prefs: []
  type: TYPE_NORMAL
- en: ggplot(aes(x = illness)) +
  prefs: []
  type: TYPE_NORMAL
- en: geom_histogram(stat = "count")
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE20]'
  prefs: []
  type: TYPE_PRE
- en: '*![](../Images/62a812da07d9c1833a1417a5ccddd431.png)'
  prefs: []
  type: TYPE_NORMAL
- en: 'Figure 3.2: Number of illnesses in the past two weeks, based on the 1977–1978
    Australian Health Survey*  *Then `(@fig-uniquename)` would produce: ([Figure 3.2](#fig-uniquename))
    as the name of the R chunk is `fig-uniquename`. We need to add “fig” to the start
    of the chunk name so that Quarto knows that this is a figure. We then include
    a “fig-cap:” in the R chunk that specifies a caption.'
  prefs: []
  type: TYPE_NORMAL
- en: 'We can add `#| layout-ncol: 2` in an R chunk within a Quarto document to have
    two graphs appear side by side ([Figure 3.3](#fig-doctorgraphsidebyside)). Here
    [Figure 3.3 (a)](#fig-doctorgraphsidebyside-1) uses the minimal theme, and [Figure 3.3
    (b)](#fig-doctorgraphsidebyside-2) uses the classic theme. These both cross-reference
    the same label `#| label: fig-doctorgraphsidebyside` in the R chunk, with an additional
    option added in the R chunk of `#| fig-subcap: ["Number of illnesses","Number
    of visits to the doctor"]` which provides the sub-captions. The addition of a
    letter in-text is accomplished by adding “-1” and “-2” to the end of the label
    when it is used in-text: `(@fig-doctorgraphsidebyside)`, `@fig-doctorgraphsidebyside-1`,
    and `@fig-doctorgraphsidebyside-2` for ([Figure 3.3](#fig-doctorgraphsidebyside)),
    [Figure 3.3 (a)](#fig-doctorgraphsidebyside-1), and [Figure 3.3 (b)](#fig-doctorgraphsidebyside-2),
    respectively.'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE21]{r}'
  prefs: []
  type: TYPE_NORMAL
- en: '#| eval: true'
  prefs: []
  type: TYPE_NORMAL
- en: '#| warning: false'
  prefs: []
  type: TYPE_NORMAL
- en: '#| label: fig-doctorgraphsidebyside'
  prefs: []
  type: TYPE_NORMAL
- en: '#| fig-cap: "Two variants of graphs"'
  prefs: []
  type: TYPE_NORMAL
- en: '#| fig-subcap: ["Illnesses","Visits to the doctor"]'
  prefs: []
  type: TYPE_NORMAL
- en: '#| layout-ncol: 2'
  prefs: []
  type: TYPE_NORMAL
- en: DoctorVisits |>
  prefs: []
  type: TYPE_NORMAL
- en: ggplot(aes(x = illness)) +
  prefs: []
  type: TYPE_NORMAL
- en: geom_histogram(stat = "count") +
  prefs: []
  type: TYPE_NORMAL
- en: theme_minimal()
  prefs: []
  type: TYPE_NORMAL
- en: DoctorVisits |>
  prefs: []
  type: TYPE_NORMAL
- en: ggplot(aes(x = visits)) +
  prefs: []
  type: TYPE_NORMAL
- en: geom_histogram(stat = "count") +
  prefs: []
  type: TYPE_NORMAL
- en: theme_classic()
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE22]'
  prefs: []
  type: TYPE_PRE
- en: '*![](../Images/738baed7a8a0c04549402378d6acb9df.png)'
  prefs: []
  type: TYPE_NORMAL
- en: (a) Illnesses
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/116d5b17763879ac228af48f31bd12ae.png)'
  prefs: []
  type: TYPE_IMG
- en: (b) Visits to the doctor
  prefs: []
  type: TYPE_NORMAL
- en: 'Figure 3.3: Two variants of graphs'
  prefs: []
  type: TYPE_NORMAL
- en: 'We can take a similar approach to cross-reference tables. For instance, `(@tbl-docvisittable)`
    will produce: ([Table 3.1](#tbl-docvisittable)). In this case we specify “tbl”
    at the start of the label so that Quarto knows that it is a table. And we specify
    a caption for the table with “tbl-cap:”.'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE23]{r}'
  prefs: []
  type: TYPE_NORMAL
- en: '#| label: tbl-docvisittable'
  prefs: []
  type: TYPE_NORMAL
- en: '#| tbl-cap: "Distribution of the number of doctor visits"'
  prefs: []
  type: TYPE_NORMAL
- en: DoctorVisits |>
  prefs: []
  type: TYPE_NORMAL
- en: count(visits) |>
  prefs: []
  type: TYPE_NORMAL
- en: tt() |>
  prefs: []
  type: TYPE_NORMAL
- en: style_tt(j = 2, align = "r") |>
  prefs: []
  type: TYPE_NORMAL
- en: setNames(c("Number of visits", "Occurrences"))
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE24]'
  prefs: []
  type: TYPE_PRE
- en: '*Table 3.1: Distribution of the number of doctor visits'
  prefs: []
  type: TYPE_NORMAL
- en: '| Number of visits | Occurrences |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '| 0 | 4141 |'
  prefs: []
  type: TYPE_TB
- en: '| 1 | 782 |'
  prefs: []
  type: TYPE_TB
- en: '| 2 | 174 |'
  prefs: []
  type: TYPE_TB
- en: '| 3 | 30 |'
  prefs: []
  type: TYPE_TB
- en: '| 4 | 24 |'
  prefs: []
  type: TYPE_TB
- en: '| 5 | 9 |'
  prefs: []
  type: TYPE_TB
- en: '| 6 | 12 |'
  prefs: []
  type: TYPE_TB
- en: '| 7 | 12 |'
  prefs: []
  type: TYPE_TB
- en: '| 8 | 5 |'
  prefs: []
  type: TYPE_TB
- en: '| 9 | 1 |*  *Finally, we can also cross-reference equations. To that we need
    to add a tag such as `{#eq-macroidentity}` which we then reference.'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE25]'
  prefs: []
  type: TYPE_PRE
- en: '*For instance, we then use `@eq-gdpidentity` to produce [Equation 3.1](#eq-gdpidentity)'
  prefs: []
  type: TYPE_NORMAL
- en: \[ Y = C + I + G + (X - M) \tag{3.1}\]
  prefs: []
  type: TYPE_NORMAL
- en: Labels should be relatively simple when using cross-references. In general,
    try to keep the names simple but unique, avoid punctuation, and stick to letters
    and hyphens. Try not to use underscores, because they can cause an error.***********  ****##
    3.3 R Projects and file structure
  prefs: []
  type: TYPE_NORMAL
- en: Projects are widely used in software development and exist to keep all the files
    (data, analysis, report, etc) associated with a particular project together and
    related to each other. (This use of “project” in a software development sense,
    is distinct to a “project”, in the project management sense.) An R Project can
    be created in RStudio. Click “File” \(\rightarrow\) “New Project”, then select
    “Empty project”, name the R Project and decide where to save it. For instance,
    a R Project focused on maternal mortality may be called “maternalmortality”. The
    use of R Projects enables “reliable, polite behavior across different computers
    or users and over time” ([Bryan and Hester 2020](99-references.html#ref-whattheyforgot)).
    This is because they remove the context of that folder from its broader existence;
    files exist in relation to the base of the R Project, not the base of the computer.
  prefs: []
  type: TYPE_NORMAL
- en: 'Once a project has been created, a new file with the extension “.RProj” will
    appear in that folder. An example of a folder with an R Project, a Quarto document,
    and an appropriate file structure is available [here](https://github.com/RohanAlexander/starter_folder).
    That can be downloaded: “Code” \(\rightarrow\) “Download ZIP”.'
  prefs: []
  type: TYPE_NORMAL
- en: The main advantage of using an R Project is that we can reference files within
    it in a self-contained way. That means when others want to reproduce our work,
    they will not need to change all the file references and structure as everything
    is referenced in relation to the “.Rproj” file. For instance, instead of reading
    a CSV from, say, `"~/Documents/projects/book/data/"` you can read it from `book/data/`.
    It may be that someone else does not have a `projects` folder, and so the former
    would not work for them, while the latter would.
  prefs: []
  type: TYPE_NORMAL
- en: The use of projects is required to meet the minimal level of reproducibility
    expected of credible work. The use of functions such as `setwd()`, and computer-specific
    file paths, bind work to a specific computer in a way that is not appropriate.
  prefs: []
  type: TYPE_NORMAL
- en: There are a variety of ways to set up a folder. A variant of Wilson et al. ([2017](99-references.html#ref-wilsongoodenough))
    that is often useful when you are getting started is shown in the example file
    structure linked above.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE26]'
  prefs: []
  type: TYPE_PRE
- en: Here we have an `data` folder that contains simulated data, the unedited data
    that should not be written over ([Wilson et al. 2017](99-references.html#ref-wilsongoodenough))
    and the analysis data that were put together. The `model` folder contains saved
    model estimates. The `other` folder contains aspects like a datasheet, literature,
    LLM usage, and sketches, which are useful depending on the circumstances. The
    `paper` folder contains the Quarto document and a BibTeX file. Finally, `scripts`
    contain the code to simulate, download, test, and analyze the data.
  prefs: []
  type: TYPE_NORMAL
- en: Useful other aspects include a `README.md` which will specify overview details
    about the project, and a LICENSE. An example of what to put in the README is [here](https://social-science-data-editors.github.io/template_README/).
    Another helpful variant of this project skeleton is provided by Mineault and The
    Good Research Code Handbook Community ([2021](99-references.html#ref-GoodResearchCode)).
  prefs: []
  type: TYPE_NORMAL
- en: 3.4 Version control
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'In this book we implement version control through a combination of Git and
    GitHub. There are a variety of reasons for this including:'
  prefs: []
  type: TYPE_NORMAL
- en: enhancing the reproducibility of work by making it easier to share code and
    data;
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: making it easier to share work;
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: improving workflow by encouraging systematic approaches; and
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: making it easier to work in teams.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Git is a version control system with a fascinating history ([Brown 2018](99-references.html#ref-githistory)).
    The way one often starts doing version control is to have various copies of the
    one file: “first_go.R”, “first_go-fixed.R”, “first_go-fixed-with-mons-edits.R”.
    But this soon becomes cumbersome. One often soon turns to dates, for instance:
    “2022-01-01-analysis.R”, “2022-01-02-analysis.R”, “2022-01-03-analysis.R”, etc.
    While this keeps a record, it can be difficult to search when we need to go back,
    because it is hard to remember the date some change was made. In any case, it
    quickly gets unwieldy for a project that is being regularly worked on.'
  prefs: []
  type: TYPE_NORMAL
- en: Instead of this, we use Git so that we can have one version of the file. Git
    keeps a record of the changes to that file, and a snapshot of that file at a given
    point in time. We determine when Git takes that snapshot. We additionally include
    a message saying what changed between this snapshot and the last. In that way,
    there is only ever one version of the file, and the history can be more easily
    searched.
  prefs: []
  type: TYPE_NORMAL
- en: One complication is that Git was designed for teams of software developers.
    As such, while it works, it can be a little ungainly for non-developers. Nonetheless
    Git has been usefully adapted for data science, even when the only collaborator
    one may have is one’s future self ([Bryan 2018a](99-references.html#ref-Bryan2018)).
  prefs: []
  type: TYPE_NORMAL
- en: GitHub, GitLab, and various other companies offer easier-to-use services that
    build on Git. While there are tradeoffs, we introduce GitHub here because it is
    the predominant platform ([Eghbal 2020, 21](99-references.html#ref-eghbal2020working)).
    Git and GitHub are built into Posit Cloud, which provides a nice option if you
    have issues with local installation. One of the initial challenging aspects of
    Git is the terminology. Folders are called “repos”. Creating a snapshot is called
    a “commit”. One gets used to it eventually, but feeling confused initially is
    normal. Bryan ([2020](99-references.html#ref-happygit)) is especially useful for
    setting up and using Git and GitHub.
  prefs: []
  type: TYPE_NORMAL
- en: 3.4.1 Git
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: We first need to check whether Git is installed. Open RStudio, go to the Terminal,
    type the following, and then enter/return.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE27]'
  prefs: []
  type: TYPE_PRE
- en: '*If you get a version number, then you are done ([Figure 3.4 (a)](#fig-gitone)).'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/405e378b699b2c331ef2639d5099ebda.png)'
  prefs: []
  type: TYPE_IMG
- en: (a) Using Terminal to check whether Git is installed in RStudio
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/64f79e9dc4805baf07fce447cb862903.png)'
  prefs: []
  type: TYPE_IMG
- en: (b) Adding a username and email address to Git in RStudio
  prefs: []
  type: TYPE_NORMAL
- en: 'Figure 3.4: An overview of the steps involved in setting up Git'
  prefs: []
  type: TYPE_NORMAL
- en: Git is pre-installed in Posit Cloud, it should be pre-installed on Mac, and
    it may be pre-installed on Windows. If you do not get a version number in response,
    then you need to install it. To do that you should follow the instructions specific
    to your operating system in Bryan ([2020, chap. 5](99-references.html#ref-happygit)).
  prefs: []
  type: TYPE_NORMAL
- en: After Git is installed we need to tell it a username and email. We need to do
    this because Git adds this information whenever we take a snapshot, or to use
    Git’s language, whenever we make a commit.
  prefs: []
  type: TYPE_NORMAL
- en: Again, within the Terminal, type the following, replacing the details with yours,
    and then press “enter/return” after each line.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE28]'
  prefs: []
  type: TYPE_PRE
- en: '*When this set-up has been done properly, the values that you entered for “user.name”
    and “user.email” will be returned after the last line ([Figure 3.4 (b)](#fig-gitone-setup)).'
  prefs: []
  type: TYPE_NORMAL
- en: These details—username and email address—will be public. There are various ways
    to hide the email address if necessary, and GitHub provides instructions about
    this. Bryan ([2020, chap. 7](99-references.html#ref-happygit)) provides more detailed
    instructions about this step, and a trouble-shooting guide.**  **### 3.4.2 GitHub
  prefs: []
  type: TYPE_NORMAL
- en: Now that Git is set up, we need to set up GitHub. We created a GitHub account
    in [Chapter 2](02-drinking_from_a_fire_hose.html), which we use again here. After
    being signed in at `github.com` we first need to make a new folder, which is called
    a “repo” in Git. Look for a “+” in the top right, and then select “New Repository”
    ([Figure 3.5 (a)](#fig-githubtwo)).
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/12b0a25e53f59d66165aaadaddb321e5.png)'
  prefs: []
  type: TYPE_IMG
- en: (a) Start process of creating a new repository
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/0fdfa838bcdc84468bbeebf74ec27aeb.png)'
  prefs: []
  type: TYPE_IMG
- en: (b) Copy the URL of the new repository
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/fdac207b47fec3c3aea8d5eb180e5628.png)'
  prefs: []
  type: TYPE_IMG
- en: (c) Adding the project to Posit Cloud
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/7dc56741b8c50218e8760acefa2abdf0.png)'
  prefs: []
  type: TYPE_IMG
- en: (d) Creating a PAT
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/657848c85c97306c413b88200a775150.png)'
  prefs: []
  type: TYPE_IMG
- en: (e) Adding files to be committed
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/9113c043576db12c37152782c5de9493.png)'
  prefs: []
  type: TYPE_IMG
- en: (f) Making a commit
  prefs: []
  type: TYPE_NORMAL
- en: 'Figure 3.5: An overview of the steps involved in setting up GitHub'
  prefs: []
  type: TYPE_NORMAL
- en: At this point we can add a sensible name for the repo. Leave it as “public”
    for now, because it can always be deleted later. And check the box to “Initialize
    this repository with a README”. Change “Add .gitignore” to R. After that, click
    “Create repository”.
  prefs: []
  type: TYPE_NORMAL
- en: This will take us to a screen that is fairly empty, but the details that we
    need—a URL—are in the green “Clone or Download” button, which we can copy by clicking
    the clipboard ([Figure 3.5 (b)](#fig-githubfour)).
  prefs: []
  type: TYPE_NORMAL
- en: 'Now returning to RStudio, in Posit Cloud, we create a new project using “New
    Project from Git Repository”. It will ask for the URL that we just copied ([Figure 3.5
    (c)](#fig-githubnewproject)). If you are using a local computer, then this step
    is accomplished through the menu: “File” \(\rightarrow\) “New Project…” \(\rightarrow\)
    “Version Control” \(\rightarrow\) “Git”, then paste in the URL, give the folder
    a meaningful name, check “Open in new session”, then click “Create Project”.'
  prefs: []
  type: TYPE_NORMAL
- en: At this point, a new folder has been created that we can use. We will want to
    be able to push it back to GitHub, and for that we will need to use a Personal
    Access Token (PAT) to link our RStudio Workspace with our GitHub account. We use
    `usethis` and `gitcreds` to enable this. These are, respectively, a package that
    automates repetitive tasks, and a package that authenticates with GitHub. To create
    a PAT, while signed into GitHub in the browser, and after installing and loading
    `usethis` run `create_github_token()` in your R session. GitHub will open in the
    browser with various options filled out ([Figure 3.5 (d)](#fig-githubpat)). It
    can be useful to give the PAT an informative name by replacing “Note”, for instance
    “PAT for RStudio”, then click “Generate token”.
  prefs: []
  type: TYPE_NORMAL
- en: We only have one chance to copy this token, and if we make a mistake then we
    will need to generate a new one. Do not include the PAT in any R script or Quarto
    document. Instead, after installing and loading `gitcreds`, run `gitcreds_set()`,
    which will then prompt you to add your PAT in the console.
  prefs: []
  type: TYPE_NORMAL
- en: 'To use GitHub for a project that we are actively working on we follow this
    procedure:'
  prefs: []
  type: TYPE_NORMAL
- en: The first thing to do is almost always to get any changes with “pull”. To do
    this, open the Git pane in RStudio, and click the blue down arrow. This gets any
    changes to the folder, as it is on GitHub, into our own version of the folder.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: We can then make our changes to our copy of the folder. For instance, we could
    update the README, and then save it as normal.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Once this is done, we need to add, commit, and push. In the Git pane in RStudio,
    select the files to be added. This adds them to the staging area. Then click “Commit”
    ([Figure 3.5 (e)](#fig-githubadd)). A new window will open. Add an informative
    message about the change that was made, and then click “Commit” in that new window
    ([Figure 3.5 (f)](#fig-githubcommit)). Finally, click “Push” to send the changes
    to GitHub.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'There are a few common pain-points when it comes to Git and GitHub. We recommend
    committing and pushing regularly, especially when you are new to version control.
    This increases the number of snapshots that you could come back to if needed.
    All commits should have an informative commit message. If you are new to version
    control, then the expectation of a good commit message is that it contains a short
    summary of the change, followed by a blank line, and then an explanation of the
    change including what the change is, and why it is being made. For instance, if
    your commit adds graphs to a paper, then a commit message could be:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE29]'
  prefs: []
  type: TYPE_PRE
- en: '*There is some evidence of a relationship between overall quality and commit
    behavior ([Sprint and Conci 2019](99-references.html#ref-sprint2019mining)). As
    you get more experience ideally the commit messages will act as a kind of journal
    of the project. But the main thing is to commit regularly.'
  prefs: []
  type: TYPE_NORMAL
- en: Git and GitHub were designed for software developers, rather than data scientists.
    GitHub limits the size of the files it will consider to 100MB, and even 50MB can
    prompt a warning. Data science projects regularly involve datasets that are larger
    than this. In [Chapter 10](10-store_and_share.html) we discuss the use of data
    deposits, which can be especially useful when a project is completed, but when
    we are actively working on a project it can be useful to ignore large data files,
    at least as far as Git and GitHub are concerned. We do this using a “.gitignore”
    file, in which we list all of the files that we do not want to track using Git.
    The [example folder](https://github.com/RohanAlexander/starter_folder) contains
    a “.gitignore” file. And it can be helpful to run `git_vaccinate()` from `usethis`,
    which will add a variety of files to a global “.gitignore” file in case you forget
    to do it on a project basis. Mac users will find it useful that this will cause
    “.DS_Store” files to be ignored.
  prefs: []
  type: TYPE_NORMAL
- en: We used the Git pane in RStudio which removed the need to use the Terminal,
    but it did not remove the need to go to GitHub and set up a new project. Having
    set up Git and GitHub, we can further improve this aspect of our workflow with
    `usethis`.
  prefs: []
  type: TYPE_NORMAL
- en: First check that Git is set up with `git_sitrep()` from `usethis`. This should
    print information about the username and email. We can use `use_git_config()`
    to update these details if needed.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE30]'
  prefs: []
  type: TYPE_PRE
- en: '*Rather than starting a new project in GitHub, and then adding it locally,
    we can now use `use_git()` to initiate it and commit the files. Having committed,
    we can use `use_github()` to push to GitHub, which will create the folder on GitHub
    as well.'
  prefs: []
  type: TYPE_NORMAL
- en: It is normal to be intimidated by Git and GitHub. Many data scientists only
    know a little about how to use it, and that is okay. Try to push regularly so
    that you have a recent snapshot in case you need it.**  **### 3.4.3 Git conflicts
  prefs: []
  type: TYPE_NORMAL
- en: '*Doctor Faustus* is a 16th century play by Christopher Marlowe. Interestingly
    there are two versions of it and no one knows which version Marlowe actually intended
    to be “the” version. Depending on what you exactly count, there are about 2,048
    lines in Marlowe ([1604](99-references.html#ref-faustus1604)), while there are
    about 2,852 lines in Marlowe ([1616](99-references.html#ref-faustus1616)). There
    are even changes within the lines ([Figure 3.6](#fig-githubconflict)). As the
    author is long dead, humanity is left with the odd situation of there simply being
    two versions. This would not have happened if Marlowe had Git!'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/98e32e77902463934294a85ab2822b55.png)'
  prefs: []
  type: TYPE_IMG
- en: (a) The first few lines from the 1604 version
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/d0b3f5878be0f49ddcdb7c6d06f70cb4.png)'
  prefs: []
  type: TYPE_IMG
- en: (b) The first few lines from the 1616 version
  prefs: []
  type: TYPE_NORMAL
- en: 'Figure 3.6: Showing differences between the 1604 and 1616 versions of Doctor
    Faustus'
  prefs: []
  type: TYPE_NORMAL
- en: When using Git and GitHub we check-in versions from time to time. But what happens
    when two people working in the same repo try to check-in code that makes changes
    to the same lines? Git establishes a merge conflict, and then it is up to the
    person who surfaced the conflict to resolve it i.e. the person who made the second
    commit.
  prefs: []
  type: TYPE_NORMAL
- en: Git will identify the lines that are in conflict by displaying them both in
    the file and adding identifying markers `<<<<<<< HEAD` to the start, `=======`
    to distinguish the conflicting changes and `>>>>>>> new_branch` to show the end
    and which branch is creating the conflict.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE31]'
  prefs: []
  type: TYPE_PRE
- en: '*It is the task of the person trying to resolve the conflict to pick which
    content to keep. Edit the file, save it, and then add and commit in the normal
    way.*****  ***## 3.5 Using R in practice'
  prefs: []
  type: TYPE_NORMAL
- en: 3.5.1 Dealing with errors
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: When you are programming, eventually your code will break, when I say eventually,
    I mean like probably 10 or 20 times a day.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: ''
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Gelfand ([2021](99-references.html#ref-sharlatalks))
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'Everyone who uses R, or any programming language for that matter, has trouble
    find them at some point. This is normal. Programming is hard. At some point code
    will not run or will throw an error. This happens to everyone. It is common to
    get frustrated, but to move forward we develop strategies to work through the
    issues:'
  prefs: []
  type: TYPE_NORMAL
- en: If you are getting an error message, then sometimes it will be useful. Try to
    read it carefully to see if there is anything of use in it.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Try to search for the error message. It can be useful to include “tidyverse”
    or “in R” in the search to help make the results more appropriate. Sometimes Stack
    Overflow results can be useful.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Look at the help file for the function by putting “?” before the function, for
    instance, `?pivot_wider()`. A common issue is to use a slightly incorrect argument
    name or format, such as accidentally including a string instead of an object name.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Look at where the error is happening and remove or comment out code until the
    error is resolved, and then slowly add code back again.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Check the class of the object with `class()`, for instance, `class(data_set$data_column)`.
    Ensure that it is what is expected.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Restart R: “Session” \(\rightarrow\) “Restart R and Clear Output”. Then load
    everything again.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Restart your computer.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Search for what you are trying to do, rather than the error, being sure to include
    “tidyverse” or “in R” in the search to help make the results more appropriate.
    For instance, “save PDF of graph in R using ggplot”. Sometimes there are relevant
    blog posts or Stack Overflow answers that will help.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Make a small, self-contained, reproducible example “reprex” to see if the issue
    can be isolated and to enable others to help.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: If you are working in a Quarto doc then include label in the chunk options to
    make it easier to find where the mistake may be happening.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: More generally, while this is not always possible, it is almost always helpful
    to take a break and come back the next day.
  prefs: []
  type: TYPE_NORMAL
- en: 3.5.2 Reproducible examples
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: No one can advise or help you—no one. There is only one thing you should do.
    Go into yourself.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: ''
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Rilke ([[1929] 2014](99-references.html#ref-rilke))
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Asking for help is a skill like any other. We get better at it with practice.
    It is important to try not to say “this doesn’t work”, “I tried everything”, “your
    code does not work”, or “here is the error message, what do I do?”. In general,
    it is not possible to help based on these comments, because there are too many
    possible issues. You need to make it easy for others to help you. This involves
    a few steps.
  prefs: []
  type: TYPE_NORMAL
- en: Provide a small, self-contained example of your data, and code, and detail what
    is going wrong.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Document what you have tried so far, including which Stack Overflow and Posit
    Forum posts you looked at, and why they are not what you are after.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Be clear about the outcome that you would like.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Begin by creating a minimal REPRoducible EXample—a “reprex”. This is code that
    contains what is needed to reproduce the error, but only what is needed. This
    means that the code is likely a smaller, simpler version that nonetheless reproduces
    the error.
  prefs: []
  type: TYPE_NORMAL
- en: Sometimes this process enables one to solve the problem. If it does not, then
    it gives someone else a fighting chance of being able to help. There is almost
    no chance that you have got a problem that someone has not addressed before. It
    is more likely that the main difficulty is trying to communicate what you want
    to do and what is happening, in a way that allows others to recognize both. Developing
    tenacity is important.
  prefs: []
  type: TYPE_NORMAL
- en: 'To develop reproducible examples, `reprex` is especially useful. After installing
    it we:'
  prefs: []
  type: TYPE_NORMAL
- en: 'Load the `reprex` package: `library(reprex)`.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Highlight and copy the code that is giving issues.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Run `reprex()` in the console.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: If the code is self-contained, then it will preview in the viewer. If it is
    not, then it will error, and you should rewrite the code so that it is self-contained.
  prefs: []
  type: TYPE_NORMAL
- en: If you need data to reproduce the error, then you should use data that is built
    into R. There are a large number of datasets that are built into R and can be
    seen using `library(help = "datasets")`. But if possible, you should use a common
    option such as `mtcars` or `faithful`. Combining a reprex with a GitHub Gist that
    was introduced in [Chapter 2](02-drinking_from_a_fire_hose.html) increases the
    chances that someone is able to help you.
  prefs: []
  type: TYPE_NORMAL
- en: 3.5.3 Mentality
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: (Y)ou are a real, valid, *competent* user and programmer no matter what IDE
    you develop in or what tools you use to make your work work for you
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: ''
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: (L)et’s break down the gates, there’s enough room for everyone
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: ''
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Sharla Gelfand, 10 March 2020.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: If you write code, then you are a programmer, regardless of how you do it, what
    you are using it for, or who you are. But there are a few traits that one tends
    to notice great programmers have in common.
  prefs: []
  type: TYPE_NORMAL
- en: '**Focused:** Often having an aim to “learn R” or similar tends to be problematic,
    because there is no real end point to that. It tends to be more efficient to have
    smaller, more specific goals, such as “make a histogram about the 2022 Australian
    Election with `ggplot2`”. This is something that can be focused on and achieved
    in a few hours. The issue with goals that are more nebulous, such as “I want to
    learn R”, is that it is easier to get lost on tangents and more difficult to get
    help. This can be demoralizing and lead to people quitting too early.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Curious:** It is almost always useful to “have a go”; that is, if you are
    not sure, then just try it. In general, the worst that happens is that you waste
    your time. You can rarely break something irreparably. For instance, if you want
    to know what happens if you pass a vector instead of a dataframe to `ggplot()`
    then try it.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Pragmatic:** At the same time, it can be useful to stick within reasonable
    bounds, and make one small change each time. For instance, say you want to run
    some regressions, and are curious about the possibility of using `rstanarm` instead
    of `lm()`. A pragmatic way to proceed is to use one aspect from `rstanarm` initially
    and then make another change next time.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Tenacious:** Again, this is a balancing act. Unexpected problems and issues
    arise with every project. On the one hand, persevering despite these is a good
    tendency. But on the other hand, sometimes one does need to be prepared to give
    up on something if it does not seem like a break through is possible. Mentors
    can be useful as they tend to be a better judge of what is reasonable.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Planned:** It is almost always useful to excessively plan what you are going
    to do. For instance, you may want to make a histogram of some data. You should
    plan the steps that are needed and even sketch out how each step might be implemented.
    For instance, the first step is to get the data. What packages might be useful?
    Where might the data be? What is the back-up plan if the data do not exist there?'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Done is better than perfect:** We all have various perfectionist tendencies,
    but it can be useful to initially try to turn them off to a certain extent. Initially
    just worry about writing code that works. You can always come back and improve
    aspects of it. But it is important to actually ship. Ugly code that gets the job
    done is better than beautiful code that is never finished.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 3.5.4 Code comments and style
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Code must be commented. Comments should focus on why certain code was written
    and to a lesser extent, why a common alternative was not selected. Indeed, it
    can be a good idea to write the comments before you write the code, explaining
    what you want to do and why, and then returning to write the code ([Fowler and
    Beck 2018, 59](99-references.html#ref-refactoringbook)).
  prefs: []
  type: TYPE_NORMAL
- en: There is no one way to write code, especially in R. However, there are some
    general guidelines that will make it easier for you even if you are just working
    on your own. Most projects will evolve over time, and one purpose of code comments
    is to enable future-you to retrace what was done and why certain decisions were
    made ([Bowers and Voors 2016](99-references.html#ref-bowers2016improve)).
  prefs: []
  type: TYPE_NORMAL
- en: 'Comments in R scripts can be added by including the # symbol. (The behavior
    of # is different for lines inside an R chunk in a Quarto document where it acts
    as a comment, compared with lines outside an R chunk where it sets heading levels.)
    We do not have to put a comment at the start of the line, it can be midway through.
    In general, you do not need to comment what every aspect of your code is doing
    but you should comment parts that are not obvious. For instance, if we read in
    some value then we may like to comment where it is coming from.'
  prefs: []
  type: TYPE_NORMAL
- en: You should try to comment why you are doing something ([Wickham 2021](99-references.html#ref-tidyversestyleguide)).
    What are you trying to achieve? You must comment to explain weird things. Like
    if you are removing some specific row, say row 27, then why are you removing that
    row? It may seem obvious in the moment, but future-you will not remember.
  prefs: []
  type: TYPE_NORMAL
- en: You should break your code into sections. For instance, setting up the workspace,
    reading in datasets, manipulating and cleaning the datasets, analyzing the datasets,
    and finally producing tables and figures. Each of these should be separated with
    comments explaining what is going on, and sometimes into separate files, depending
    on the length.
  prefs: []
  type: TYPE_NORMAL
- en: Additionally, at the top of each file it is important to note basic information,
    such as the purpose of the file, and prerequisites or dependencies, the date,
    the author and contact information, and finally any red flags or todos.
  prefs: []
  type: TYPE_NORMAL
- en: Your R scripts should have a preamble and a clear demarcation of sections.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE32]'
  prefs: []
  type: TYPE_PRE
- en: Finally, try not to rely on a user commenting and uncommenting code, or any
    other manual step, such as directory specification, for code to work. This will
    preclude the use of automated code checking and testing.
  prefs: []
  type: TYPE_NORMAL
- en: This all takes time. As a rough rule of thumb, you should expect to spend at
    least as much time commenting and improving your code as you spent writing it.
    Some examples of nicely commented code include Dolatsara et al. ([2021](99-references.html#ref-AhadyDolatsara2021))
    and Burton, Cruz, and Hahn ([2021](99-references.html#ref-burton2021reconsidering)).
  prefs: []
  type: TYPE_NORMAL
- en: 3.5.5 Tests
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Tests should be written throughout the code, and you need to write them as we
    go, not all at the end. This will slow you down. But it will help you to think,
    and to fix mistakes, which will make your code better and lead to better overall
    productivity. Code without tests should be viewed with suspicion. There is room
    for improvement when it comes to testing practices in R packages ([Vidoni 2021](99-references.html#ref-Vidoni2021)),
    let alone R code more generally.
  prefs: []
  type: TYPE_NORMAL
- en: The need for other people, and ideally, automated processes, to run tests on
    code is one reason that we emphasize reproducibility. That is also why we emphasize
    smaller aspects such as not hardcoding file-paths, using projects, and not having
    spaces in file names.
  prefs: []
  type: TYPE_NORMAL
- en: 'It is difficult to define a complete and general suite of tests, but broadly
    we want to test:'
  prefs: []
  type: TYPE_NORMAL
- en: boundary conditions,
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: classes,
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: missing data,
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: the number of observations and variables,
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: duplicates, and
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: regression results.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: We do all this initially on our simulated data and then move to the real data.
    The mirrors the evolution of testing during the Apollo Program. Initially testing
    occured based on expectations of requirements, and these tests were later updated
    to take into account actual launch measurements ([Simpkinson 1971, 21](99-references.html#ref-testingforsuccess)).
    It is possible to write an infinite number of tests but a smaller number of high-quality
    tests is better than many thoughtless tests.
  prefs: []
  type: TYPE_NORMAL
- en: One type of test is an “assertion”. Assertions are written throughout the code
    to check whether something is true and stop the code from running if not ([Irving
    et al. 2021, 272](99-references.html#ref-researchsoftware)). For instance, you
    might assert that a variable should be numeric. If it was tested against this
    assertion and found to be a character, then the test would fail and the script
    would stop running. Assertion tests in data science will typically be used in
    data cleaning and preparation scripts. We have more to say about these in [Chapter
    9](09-clean_and_prepare.html). Unit tests check some complete aspect of code ([Irving
    et al. 2021, 274](99-references.html#ref-researchsoftware)). We will consider
    them more in [Chapter 12](12-ijalm.html) when we consider modeling.
  prefs: []
  type: TYPE_NORMAL
- en: 3.6 Efficiency
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Generally in this book we are, and will continue to be, concerned with just
    getting something done. Not necessarily getting it done in the best or most efficient
    way, because to a large extent, being worried about that is a waste of time. For
    the most part one is better off just pushing things into the cloud, letting them
    run for a reasonable time, and using that time to worry about other aspects of
    the pipeline. But that eventually becomes unfeasible. At a certain point, and
    this differs depending on context, efficiency becomes important. Eventually ugly
    or slow code, and dogmatic insistence on a particular way of doing things, have
    an effect. And it is at that point that one needs to be open to new approaches
    to ensure efficiency. There is rarely a most common area for obvious performance
    gains. Instead, it is important to develop the ability to measure, evaluate, and
    think.
  prefs: []
  type: TYPE_NORMAL
- en: One of the best ways to improve the efficiency of our code is preparing it in
    such a way that we can bring in a second pair of eyes. To make the most of their
    time, it is important that our code easy to read. So we start with “code linting”
    and “styling”. This does not speed up our code, per se, but instead makes it more
    efficient when another person comes to it, or we revisit it. This enables formal
    code review and refactoring, which is where we rewrite code to make it better,
    while not changing what it does (it does the same thing, but in a different way).
    We then turn to measurement of run time, and introduce parallel processing, where
    we allow our computer to run code for multiple processes at the same time
  prefs: []
  type: TYPE_NORMAL
- en: 3.6.1 Sharing a code environment
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: We have discussed at length the need to share code, and we have put forward
    an approach to this using GitHub. And in [Chapter 10](10-store_and_share.html),
    we will discuss sharing data. But, there is another requirement to enable other
    people to run our code. In [Chapter 2](02-drinking_from_a_fire_hose.html) we discussed
    how R itself, as well as R packages update from time to time, as new functionality
    is developed, errors fixed, and other general improvements made. [Online Appendix A](20-r_essentials.html)
    describes how one advantage of the `tidyverse` is that it can update faster than
    base R, because it is more specific. But this could mean that even if we were
    to share all the code and data that we use, it is possible that the software versions
    that have become available would cause errors.
  prefs: []
  type: TYPE_NORMAL
- en: The solution to this is to detail the environment that was used. There are a
    large number of ways to do this, and they can add complexity. We just focus on
    documenting the version of R and R packages that were used, and making it easier
    for others to install that exact version. Essentially we are just isolating the
    set-up that we used because that will help with reproducibility ([Perkel 2023](99-references.html#ref-perkel2023)).
    In `R` we can use `renv` to do this.
  prefs: []
  type: TYPE_NORMAL
- en: Once `renv` is installed and loaded, we use `init()` to get the infrastructure
    set-up that we will need. We are going to create a file that will record the packages
    and versions used. We then use `snapshot()` to actually document what we are using.
    This creates a “lockfile” that records the information.
  prefs: []
  type: TYPE_NORMAL
- en: 'If we want to see which packages we are using in the R Project, then we can
    use `dependencies()`. Doing this for the [example folder](https://github.com/RohanAlexander/starter_folder)
    indicates that the following packages are used: `rmarkdown`, `bookdown`, `knitr`,
    `rmarkdown`, `bookdown`, `knitr`, `palmerpenguins`, `tidyverse`, `renv`, `haven`,
    `readr`, and `tidyverse`.'
  prefs: []
  type: TYPE_NORMAL
- en: We could open the lockfile file—“renv.lock”—to see the exact versions if we
    wanted. The lockfile also documents all the other packages that were installed
    and where they were downloaded from. Someone coming to this project from outside
    could then use `restore()` which would install the exact version of the packages
    that we used.
  prefs: []
  type: TYPE_NORMAL
- en: 3.6.2 Code linting and styling
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Being fast is valuable but it is mostly about being able to iterate fast, not
    necessarily having code that runs fast. Backus ([1981, 26](99-references.html#ref-oldlanguages))
    describes how even in 1954 a programmer cost at least as much as a computer, and
    these days additional computational power is usually much cheaper than a programmer.
    Performant code is important, but it is also important to use other people’s time
    efficiently. Code is rarely only written once. Instead we typically have to come
    back to it, even if to just fix mistakes, and this means that code must be able
    to be read by humans ([Matsumoto 2007, 478](99-references.html#ref-beautifulcode)).
    If this is not done then there will be an efficiency cost.
  prefs: []
  type: TYPE_NORMAL
- en: Linting and styling is the process of checking code, mostly for stylistic issues,
    and re-arranging code to make it easier to read. (There is another aspect of linting,
    which is dealing with programming errors, such as forgetting a closing bracket,
    but here we focus on stylistic issues.) Often the best efficiency gain comes from
    making it easier for others to read our code, even if this is just ourselves returning
    to the code after a break. Jane Street, a US proprietary trading firm, places
    a very strong focus on ensuring their code is readable, as a core part of risk
    mitigation ([Minsky 2011](99-references.html#ref-minsky2011ocaml)). While we may
    not all have billions of dollars under the potentially mercurial management of
    code, we all would likely prefer that our code does not produce errors.
  prefs: []
  type: TYPE_NORMAL
- en: We use `lint()` from `lintr` to lint our code. For instance, consider the following
    R code (saved as “linting_example.R”).
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE33]'
  prefs: []
  type: TYPE_PRE
- en: '*[PRE34]'
  prefs: []
  type: TYPE_NORMAL
- en: '*The result is that the file “linting_example.R” is opened and the issues that
    `lint()` found are printed in “Markers” ([Figure 3.7](#fig-linter)). It is then
    up to you to deal with the issues.'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/671f5a02adc40be9d03e4695d900c6e5.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Figure 3.7: Linting results from example R code'
  prefs: []
  type: TYPE_NORMAL
- en: Making the recommended changes results in code that is more readable, and consistent
    with best practice, as defined by Wickham ([2021](99-references.html#ref-tidyversestyleguide)).
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE35]'
  prefs: []
  type: TYPE_PRE
- en: '*At first it may seem that some aspects that the linter is identifying, like
    trailing whitespace and only using double quotes are small and inconsequential.
    But they distract from being able to fix bigger issues. Further, if we are not
    able to get small things right, then how could anyone trust that we could get
    the big things right? Therefore, it is important to have dealt with all the small
    aspects that a linter identifies.'
  prefs: []
  type: TYPE_NORMAL
- en: In addition to `lintr` we also use `styler`. This will automatically adjust
    style issues, in contrast to the linter, which gave a list of issues to look at.
    To run this we use `style_file()`.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE36]'
  prefs: []
  type: TYPE_PRE
- en: '*This will automatically make changes, such as spacing and indentation. As
    such this should be done regularly, rather than only once at the end of a project,
    so as to be able to review the changes and make sure no errors have been introduced.****  ***###
    3.6.3 Code review'
  prefs: []
  type: TYPE_NORMAL
- en: Having dealt with all of these aspects of style, we can turn to code review.
    This is the process of having another person go through and critique the code.
    Many professional writers have editors, and code review is the closest that we
    come to that in data science. Code review is a critical part of writing code,
    and Irving et al. ([2021, 465](99-references.html#ref-researchsoftware)) describe
    it as “the most effective way to find bugs”. It is especially helpful, although
    quite daunting, when learning to code because getting feedback is a great way
    to improve.
  prefs: []
  type: TYPE_NORMAL
- en: 'Go out of your way to be polite and collegial when reviewing another person’s
    code. Small aspects to do with style, things like spacing and separation, should
    have been taken care of by a linter and styler, but if not, then make a general
    recommendation about that. Most of your time as a code reviewer in data science
    should be spent on aspects such as:'
  prefs: []
  type: TYPE_NORMAL
- en: Is there an informative README and how could it be improved?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Are the file names and variable names consistent, informative, and meaningful?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Do the comments allow you to understand why something is being done?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Are the tests both appropriate and sufficient? Are there edge cases or corner
    solutions that are not considered? Similarly, are there unnecessary tests that
    could be removed?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Are there magic numbers that could be changed to variables and explained?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Is there duplicated code that could be changed?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Are there any outstanding warnings that should be addressed?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Are there any especially large functions or pipes that could be separated into
    smaller ones?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Is the structure of the project appropriate?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Can we change any of the code to data ([Irving et al. 2021, 462](99-references.html#ref-researchsoftware))?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: For instance, consider some code that looked for the names of prime ministers
    and presidents. When we first wrote this code we likely added the relevant names
    directly into the code. But as part of code review, we might instead recommend
    that this be changed. We might recommend creating a small dataset of relevant
    names, and then re-writing the code to have it look up that dataset.
  prefs: []
  type: TYPE_NORMAL
- en: Code review ensures that the code can be understood by at least one other person.
    This is a critical part of building knowledge about the world. At Google, code
    review is not primarily about finding defects, although that may happen, but is
    instead about ensuring readability and maintainability as well as education ([Sadowski
    et al. 2018](99-references.html#ref-codereview)). This is also the case at Jane
    Street where they use code review to catch bugs, share institutional knowledge,
    assist with training, and oblige staff to write code that can be read ([Minsky
    2015](99-references.html#ref-ocamlyaronpodcast)).
  prefs: []
  type: TYPE_NORMAL
- en: Finally, code review does not have to, and should not, be an onerous days-consuming
    process of reading all the code. The best code review is a quick review of just
    one file, focused on suggesting changes to just a handful of lines. Indeed, it
    may be better to have a review done by a small team of people rather than one
    individual. Do not review too much code at any one time. At most a few hundred
    lines, which should take around an hour, because any more than that has been found
    to be associated with reduced efficacy ([Cohen, Teleki, and Brown 2006, 79](99-references.html#ref-cohen2006best)).
  prefs: []
  type: TYPE_NORMAL
- en: 3.6.4 Code refactoring
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: To refactor code means to rewrite it so that the new code achieves the same
    outcome as the old code, but the new code does it better. For instance, Chawla
    ([2020](99-references.html#ref-refactornature)) discuss how the code underpinning
    an important UK Covid model was initially written by epidemiologists, and months
    later clarified and cleaned up by a team from the Royal Society, Microsoft, and
    GitHub. This was valuable because it provided more confidence in the model, even
    though both versions produced the same outputs, given the same inputs.
  prefs: []
  type: TYPE_NORMAL
- en: We typically refer to code refactoring in relation to code that someone else
    wrote. (Although it may be that we actually wrote the code, and it was just that
    it was some time ago.) When we start to refactor code, we want to make sure that
    the rewritten code achieves the same outcomes as the original code. This means
    that we need a suite of appropriate tests written that we can depend on. If these
    do not exist, then we may need to create them.
  prefs: []
  type: TYPE_NORMAL
- en: We rewrite code to make it easier for others to understand, which in turn allows
    more confidence in our conclusions. But before we can do that, we need to understand
    what the existing code is doing. One way to get started is to go through the code
    and add extensive comments. These comments are different to normal comments. They
    are our active process of trying to understand what is each code chunk trying
    to do and how could this be improved.
  prefs: []
  type: TYPE_NORMAL
- en: 'Refactoring code is an opportunity to ensure that it satisfies best practice.
    Trisovic et al. ([2022](99-references.html#ref-Trisovic2022)) details some core
    recommendations based on examining 9,000 R scripts including:'
  prefs: []
  type: TYPE_NORMAL
- en: Remove `setwd()` and any absolute paths, and ensure that only relative paths,
    in relation to the “.Rproj” file, are used.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Ensure there is a clear order of execution. We have recommended using numbers
    in filenames to achieve this initially, but eventually more sophisticated approaches,
    such as `targets` ([Landau 2021](99-references.html#ref-targets)), could be used
    instead.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Ensure that code can run on a different computer.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'For instance, consider the following code:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE37]'
  prefs: []
  type: TYPE_PRE
- en: '*We could change that, starting by creating an R Project which enables us to
    remove `setwd()`, grouping all the `library()` calls at the top, using “<-” instead
    of “=”, and being consistent with variable names:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE38]****  ***## 3.7 Concluding remarks'
  prefs: []
  type: TYPE_NORMAL
- en: In this chapter we have considered much and it is normal to be overwhelmed.
    Come back to the Quarto section as needed. Many people are confused by Git and
    GitHub and just know enough to get by. And while there was a lot of material in
    efficiency, the most important aspect of performant code is making it easier for
    another person to read it, even if that person is just yourself returning after
    a break.
  prefs: []
  type: TYPE_NORMAL
- en: 3.8 Exercises
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Practice
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '*(Plan)* Consider the following scenario: *In a certain country there are only
    ever four parties that could win a seat in parliament. Whichever candidate has
    a plurality of votes in the area associated with a given seat wins that seat.
    The parliament is made up of 175 total seats. An analyst is interested in the
    number of votes for each party by seat.* Please sketch what a dataset could look
    like, and then sketch a graph that you could build to show all observations.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '*(Simulate)* Please further consider the scenario described and simulate the
    situation. Carefully specify an appropriate situation using the code below. Then
    write five tests based on the simulated data.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE39]'
  prefs: []
  type: TYPE_PRE
- en: '*3.  *(Acquire)* Please specify a source of actual data about voting in a country
    of interest to you.'
  prefs: []
  type: TYPE_NORMAL
- en: '*(Explore)* Start with the following code and create a table of the number
    of seats won by each party.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE40]'
  prefs: []
  type: TYPE_PRE
- en: '*5.  *(Share)* Please write two paragraphs as if you had gathered data from
    the source you identified (rather than simulated), and if the table that you built
    using simulated data reflected the actual situation. The exact details contained
    in the paragraphs do not have to be factual but they should be reasonable (i.e. you
    do not actually have to get the data nor create the graphs). Separate the code
    appropriately into R files and a Quarto doc. Submit a link to a GitHub repo with
    a README.**  **### Quiz'
  prefs: []
  type: TYPE_NORMAL
- en: From Gelman ([2016](99-references.html#ref-Gelman2016)), which statistical concept
    refers to researchers exploiting flexibility in data analysis to find significant
    results (pick one)?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Random sampling.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: P-hacking.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Null hypothesis testing.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Bayesian inference.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: From Gelman ([2016](99-references.html#ref-Gelman2016)), what is “p-hacking”
    (pick one)?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: A method for correcting p-values.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Manipulating data or analyses until nonsignificant results become significant.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: A technique for improving computational efficiency.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: An ethical approach to data sharing.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: From Gelman ([2016](99-references.html#ref-Gelman2016)), what is the file drawer
    problem (pick one)?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Bias introduced by only publishing significant findings.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Difficulty in accessing archived data.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Errors in data coding and entry.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Challenges in replicating old experiments.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: From Gelman ([2016](99-references.html#ref-Gelman2016)), which term refers to
    the tendency to publish only positive findings (pick one)?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Data mining.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Publication bias.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Confirmation bias.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Sampling error.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: From Gelman ([2016](99-references.html#ref-Gelman2016)), which term describes
    the multitude of choices researchers have in data analysis that can lead to significant
    results (pick one)?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Researcher degrees of freedom.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Data mining.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Sample bias.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Effect size manipulation.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: From Gelman ([2016](99-references.html#ref-Gelman2016)), the garden of forking
    paths refers to what issue (pick one)?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The complexity of decision trees in machine learning.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: The multiple potential analyses that can be conducted with the same data.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: The branching of theory and applied work over time.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: The divergence of academic disciplines.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: From Gelman ([2016](99-references.html#ref-Gelman2016)), what is a “replication”
    in research (pick one)?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: A study that reproduces the original findings using new data.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: A study that critiques previous methodologies.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: A meta-analysis of several studies.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: An exact copy of the original study’s manuscript.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: From Gelman ([2016](99-references.html#ref-Gelman2016)), what contributes to
    non-reproducible results in social sciences (pick one)?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Inadequate sample sizes.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Lack of advanced statistical software.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Researcher degrees of freedom leading to selective reporting.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Over-reliance on qualitative data.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: From Gelman ([2016](99-references.html#ref-Gelman2016)), what does the replication
    crisis refer to (pick one)?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Difficulty in creating new theory.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Overproduction of similar research.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Challenges in replicating the findings of previous studies.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Shortage of participants for experiments.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: From Gelman ([2016](99-references.html#ref-Gelman2016)), what helps mitigate
    the replication crisis (pick one)?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Keeping data confidential.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Publishing only significant results.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Preregistering studies and analysis plans.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Increasing the use of proprietary software.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Gelman ([2016](99-references.html#ref-Gelman2016)) focuses on the replication
    crisis in psychology. Pick another discipline to focus on, based on your own experience,
    perhaps in other classes, and write about the extent to which you think there
    may be replication issues in that discipline and why.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Pick a discipline you’re familiar with. What practices could improve reproducibility
    in that field? Provide a brief explanation.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: From Wilson et al. ([2017](99-references.html#ref-wilsongoodenough)), which
    of the following are important data management practices (select all that apply)?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Saving both the raw data and cleaned versions.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Documenting the data processing steps.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Using non-proprietary file formats for data storage.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: From Wilson et al. ([2017](99-references.html#ref-wilsongoodenough)), why is
    it important to create a README file in the project’s home directory (pick one)?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: To store raw data files.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: To explain the purpose of the project and provide an overview.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: To list all the errors and bugs in the project.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: To keep track of all the versions of the project files.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: From Wilson et al. ([2017](99-references.html#ref-wilsongoodenough)), what is
    a primary benefit of using version control (pick one)?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: It automatically writes code for the researcher.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: It tracks changes and helps collaboration.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: It replaces the need for backing up data.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: It ensures that all data is encrypted.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: From Wilson et al. ([2017](99-references.html#ref-wilsongoodenough)), what is
    a recommended practice for naming files in a project (pick one)?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Reflect their content or function in the file names.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Using sequential numbers like result1.csv, result2.csv.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Including special characters to make file names unique.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Using spaces and punctuation in file names.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: From Wilson et al. ([2017](99-references.html#ref-wilsongoodenough)), why should
    an unmodified copy of the raw data be saved (pick one)?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: To preserve data storage space.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: To comply with legal regulations.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: To ensure an unaltered source for verification and reproducibility.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: To maintain compatibility with software updates.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: From Wilson et al. ([2017](99-references.html#ref-wilsongoodenough)), what is
    a key advantage of using open file formats (pick one)?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: They are faster to process.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: They are accessible without proprietary software.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: They compress data more efficiently.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: They enhance data security.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: From Wilson et al. ([2017](99-references.html#ref-wilsongoodenough)), which
    of the following is a recommended practice when organizing data files (select
    all that apply)?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Use meaningful and consistent file names.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Store all files in a single folder.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Organize files into a clear directory structure.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Include dates in file names for version tracking.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: From Wilson et al. ([2017](99-references.html#ref-wilsongoodenough)), why is
    documenting data processing steps crucial (pick one)?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: It speeds up data analysis.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: It helps in data encryption.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: It reduces storage requirements.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: It allows others to understand and reproduce the analysis.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: What is a benefit of reproducibility?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: It allows results to be independently verified.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: It speeds up code execution.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: It makes data visualization easier.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: It reduces the need for documentation.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: According to Alexander ([2019](99-references.html#ref-Alexander2019)) research
    is reproducible if (pick one)?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: It is published in peer-reviewed journals.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: All the materials used in the study are provided.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: It can be reproduced exactly without the authors providing materials.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: It can be reproduced exactly, given all the materials used in the study.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: What is literate programming (pick one)?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: It separates code and documentation into different files.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: It automatically fixes syntax errors in code.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: It automates the generation of code documentation.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: It integrates code and natural language in the same document.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: What is the main function of git in a reproducible workflow (pick one)?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: To automate data cleaning.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: To run code in parallel.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: To integrate data visualization into reports.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: To provide a version control system for code.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: According to Wickham ([2021](99-references.html#ref-tidyversestyleguide)), how
    would the files “00_get_data.R” and “get data.R” be classified (pick one)?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: bad; bad.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: good; bad.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: bad; good.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: good; good.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: What is a benefit of using Quarto for reproducible research (pick one)?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: It automates statistical analysis.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: It integrates code and text.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: It replaces the need for version control.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: It enhances data visualization capabilities.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: In Quarto, how do you denote a top-level heading (pick one)?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 3.8.1 Heading
  prefs:
  - PREF_IND
  - PREF_OL
  - PREF_H3
  type: TYPE_NORMAL
- en: '**Heading**'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: 4 Heading
  prefs:
  - PREF_IND
  - PREF_OL
  - PREF_H1
  type: TYPE_NORMAL
- en: Heading
  prefs:
  - PREF_IND
  - PREF_OL
  - PREF_UL
  type: TYPE_NORMAL
- en: Which of the following would result in bold text in Quarto (pick one)?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '`**bold**`'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '`##bold##`'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '`*bold*`'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '`#bold#`'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: What does the “echo” option do in a Quarto R code chunk (pick one)?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: To suppress code output.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: To control whether the code is displayed in the document.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: To evaluate the code conditionally.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: To include warnings in the output.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Which option would hide the warnings in a Quarto R chunk (pick one)?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '`echo: false`'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '`eval: false`'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '`warning: false`'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '`message: false`'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Which option would run the R code chunk and display the results, but not show
    the code in a Quarto R chunk (pick one)?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '`echo: false`'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '`include: false`'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '`eval: false`'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '`warning: false`'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '`message: false`'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Why are R Projects important (select all that apply)?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: They help with reproducibility.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: They make it easier to share code.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: They make your workspace more organized.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Why is it important that your R Project name reflects the content of your repo
    (select all that apply)?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Consistency.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Professionalism.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Attention to detail.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Assume the packages and datasets have been loaded; what is the mistake in this
    code: `DoctorVisits |> filter(visits)` (pick one)?'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '`DoctorVisits`'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '`|>`'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '`filter`'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '`visits`'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: What is a reprex and why is it important to be able to make one (select all
    that apply)?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: A reproducible example that enables your error to be reproduced.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: A reproducible example that helps others help you.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: A reproducible example during the construction of which you may solve your own
    problem.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: A reproducible example that demonstrates you have actually tried to help yourself.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: According to Gelfand ([2021](99-references.html#ref-sharlatalks)), what is the
    key part of “If you need help getting unstuck, the first step is to create a reprex,
    or reproducible example. The goal of a reprex is to package your problematic code
    in such a way that other people can run it and feel your pain. Then, hopefully,
    they can provide a solution and put you out of your misery.” (pick one)?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: package your problematic code
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: other people can run it and feel your pain
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: the first step is to create a reprex
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: they can provide a solution and put you out of your misery
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: From Gelfand ([2021](99-references.html#ref-sharlatalks)), why is creating a
    reproducible example important when seeking help (pick one)?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: It reduces the need for documentation.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: It showcases your coding skills.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: It allows others to replicate the issue and provide solutions.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: It complies with software licensing.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Which practice enhances the efficiency of code when collaborating with others
    (pick one)?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Using absolute file paths.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Writing clear comments and documentation.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Minimizing the use of functions.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Obfuscating code to protect intellectual property.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Which of the following is an advantage of using Git for version control (select
    all that apply)?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Tracking changes over time.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Facilitating collaboration among multiple users.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Automating data backups.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Enhancing code execution speed.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Why do we avoid using `setwd()` in `R` scripts (pick one)?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: It can slow down code execution.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: It requires administrative privileges.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: It makes code less portable and reproducible.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: It is deprecated in recent R versions.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: In the context of reproducibility, what is the function of the `renv` package
    (pick one)?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: To run code chunks in parallel.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: To document and share the software environment.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: To automate code linting.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: To improve code efficiency in simulations.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Which of the following does NOT contribute to a reproducible workflow (pick
    one)?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Using `setwd()` to set the working directory.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Sharing code and data as well as results.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Using Quarto for integrating R and Python code in papers.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Using version control with Git and GitHub.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: From Wickham ([2021](99-references.html#ref-tidyversestyleguide)), which of
    the following variable names follows the recommended style (pick one)?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: total-Sales
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: TotalSales
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: total_sales
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: total sales
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: What is the primary function of the `lintr` package in `R` (pick one)?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: To execute code in parallel.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: To install package dependencies.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: To provide code linting for stylistic consistency.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: To visualize data distributions.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: What is code refactoring (pick one)?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Debugging code to fix errors.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Rewriting code to improve its structure without changing its behavior.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Adding new features to existing code.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Converting code from one language to another.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Why should “magic numbers” be avoided in code (pick one)?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: They slow down execution.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: They reduce code readability and maintainability.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: They are incompatible with certain software.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: They cause syntax errors.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: What is the main purpose of using a linter when writing code (pick one)?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: To find logical errors in algorithms.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: To execute code faster.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: To enforce coding style guidelines.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: To compile code into machine language.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: In the context of reproducibility, what does “future-you” refer to (pick one)?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Automated code generation.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Your ability to understand and reuse your code at a later time.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Predictive analytics in your code.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Collaborative work with future colleagues.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Class activities
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Use the [starter folder](https://github.com/RohanAlexander/starter_folder) and
    create a new repo. Add a link to the GitHub repo in the class’s shared Google
    Doc.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Use Quarto to make a PDF with a title, author, and an abstract.[¹](#fn1)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Add three sections and some code that produces the mean bill length, by species,
    for `palmerpenguins::penguins` (with the code itself hidden).
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Add a citation of R and `palmerpenguins`, then add a graph of body mass, by
    sex.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Add a paragraph of text about the graph and a cross-reference. Also add a table
    about the number of species, by year.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[The instructor should (very slowly) live code all this and have students code-along.]
    Set up git on your local computer.[²](#fn2) Make a GitHub repo, then make a local
    copy, make some changes, and push.[³](#fn3)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Find the GitHub repo of a partner, fork it, make a change, and make a pull request.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The following code produces an error. Please follow the strategies in [Section
    3.5.1](#sec-dealingwitherrors) to fix it.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE41]'
  prefs: []
  type: TYPE_PRE
- en: '**   The following code produces an error. Please follow the strategies in
    [Section 3.5.1](#sec-dealingwitherrors) to fix it.'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE42]'
  prefs: []
  type: TYPE_PRE
- en: '**   The following code produces an error. Following [Section 3.5.2](#sec-omgpleasemakeareprexplease)
    create a reprex (change the example to use a more common dataset such as `mtcars`),
    add it to a GitHub Gist, and email it to the instructor.'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE43]'
  prefs: []
  type: TYPE_PRE
- en: '**   The following code produces an error. Please use ChatGPT, or an equivalent
    LLM, to correct it. Discuss: 1) the prompt, and 2) the corrected code.'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE44]***  ***### Task I'
  prefs: []
  type: TYPE_NORMAL
- en: The purpose of this task is to give and receive peer review. Peer review generally,
    and code review specifically ([Sadowski et al. 2018](99-references.html#ref-codereview)),
    is an important part of working as a professional.
  prefs: []
  type: TYPE_NORMAL
- en: Please start by running `usethis::git_vaccinate()`. Then update your work from
    the Activity in [Chapter 2](02-drinking_from_a_fire_hose.html), to use the [starter
    folder](https://github.com/rohanalexander/starter_folder). This would involve,
    amongst other things, moving the downloading and cleaning to appropriate scripts,
    updating the README, adding a title, etc. Generally, you should look at the rubric
    for the *Donaldson* Paper in [Online Appendix F](25-papers.html) and quickly try
    to comply with as much as possible, without doing too much extra work. Then exchange
    it with someone else.
  prefs: []
  type: TYPE_NORMAL
- en: 'Read Google ([2022](99-references.html#ref-googlecoderview)) and Feldman ([2024](99-references.html#ref-giladpeerreview)).
    Then using GitHub Issues please conduct peer review of the repo content. Following
    Feldman ([2024](99-references.html#ref-giladpeerreview)), the peer review should
    use the following structure, and be nicely formatted:'
  prefs: []
  type: TYPE_NORMAL
- en: Summary
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '*[Add a brief summary of the manuscript you are reviewing.]*'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'Strong positive points:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '*[Please keep this brief. Two or three dot points.]*'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'Critical improvements needed:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '*[This is the most important section. These are issues that the authors of
    the paper must fix and/or address. Be very constructive and polite, be gentle
    but clear, and provide as much information as you can to assist authors. This
    might include mistakes/errors, missing information, oversights, misunderstandings,
    etc. If you can, explain why these are mistakes and provide either a correction
    or a link to where correct information can be found.]*'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'Suggestions for improvement:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '*[This is you trying to help the authors do even better, as nice to have. You
    can comment on things that you are not sure of, or state an opinion, point out
    typos, or minor code issues, but be humble about this being a suggestion, and
    be very positive and constructive. There should be about five/six dot points.]*'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'Evaluation:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '*[Add each element of the rubric and provide a comment and mark against it.
    This will NOT be used for grading, this is ONLY to provide authors with some idea
    of how much work they need to put into each element to improve.]*'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'Estimated overall mark:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '*[X]* out of *[Y]*.'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'Any other comments:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '*[Any other comments.]*'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Task II
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'The purpose of this task is to develop comfort with:'
  prefs: []
  type: TYPE_NORMAL
- en: Quarto, and
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Git and GitHub.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: A website is a critical part of communication. For instance, it is a place to
    make a portfolio of work publicly available. One way to make a website is to use
    Quarto’s built-in websites. Having set-up GitHub in RStudio, it is possible to
    have a website online in about five minutes.
  prefs: []
  type: TYPE_NORMAL
- en: Get started by creating a new project (“File” -> “New project” -> “New Directory”
    -> “Quarto Website”), give it a name, and select “Open in new session” -> “Create
    Project” ([Figure 4.1 (a)](#fig-quartoone)).
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/4810023f63e621f4ab936d7e4acf84f1.png)'
  prefs: []
  type: TYPE_IMG
- en: (a) Example settings for setting up a Quarto website
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/e3f959ffbb11ef1307dd2a4fb1684642.png)'
  prefs: []
  type: TYPE_IMG
- en: (b) Building a Quarto website
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/81d2674bab6d0c36700f79676422bc7c.png)'
  prefs: []
  type: TYPE_IMG
- en: (c) Personalizing the Quarto website
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/372ce6c4eb621a154d09bf8fd0b79679.png)'
  prefs: []
  type: TYPE_IMG
- en: (d) Updating the Quarto yaml
  prefs: []
  type: TYPE_NORMAL
- en: 'Figure 4.1: Using Quarto to make a website'
  prefs: []
  type: TYPE_NORMAL
- en: The default basic website can be produced with “Build” -> “Render Website” ([Figure 4.1
    (b)](#fig-quartotwo)). By default it may show in the “Viewer” pane, but can also
    be shown in a New Window, by . Again, at this point we may like to change the
    details to reflect our own. In particular, we may like to change the title of
    “index.qmd”, and add our own details ([Figure 4.1 (c)](#fig-quartothree)).
  prefs: []
  type: TYPE_NORMAL
- en: Content that is included in the primary menu is specified in “_quarto.yml”.
    We could add another page to this, such as “contact.qmd” and to create the content
    that would be included we may like to duplicate, say, “about.qmd” and then edit
    that ([Figure 4.1 (d)](#fig-quartofour)). Another aspect that we can change in
    “_quarto.yml” is the theme. The default is “cosmo”, but there are many other options
    specified [here](https://quarto.org/docs/output-formats/html-themes.html).
  prefs: []
  type: TYPE_NORMAL
- en: After the details are personalized and we are not unhappy with the website it
    can be pushed to GitHub and then hosted with GitHub Pages. To take advantage of
    that we need to first do two things. Firstly, we should slightly modify “_quarto.yml”
    to specify that we should build to a “docs” folder rather than “_site” ([Figure 4.1
    (d)](#fig-quartofour)).
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE45]'
  prefs: []
  type: TYPE_PRE
- en: '*The other aspect to know is that when we use this service, by default, GitHub
    would try to build the site, which we do not want, so we need to first add a hidden
    file to turn that off, by running this in the console:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE46]'
  prefs: []
  type: TYPE_PRE
- en: '*Then, assuming GitHub was set-up we can use `usethis` to get our newly created
    project onto GitHub. We use `use_git()` to initialize a Git repository, and then
    `use_github()` pushes it to GitHub.'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE47]'
  prefs: []
  type: TYPE_PRE
- en: '*The project will then be on GitHub. We can use GitHub pages to host it: “Settings
    -> Pages” and then change the source to “main” or “master”, depending on your
    settings, and finally “docs”. After a few minutes to run through various checks,
    GitHub will let you know the address that you can share to visit your site.'
  prefs: []
  type: TYPE_NORMAL
- en: To update the site, work locally. First pull, to ensure that any changes that
    GitHub made are present locally, then edit the site, re-render it and push it
    to GitHub in the usual manner. After the checks are completed the live website
    will update.
  prefs: []
  type: TYPE_NORMAL
- en: Please ensure that your website has some normal text paragraphs, sections headings,
    bullet points. Everything should be well-documented, nicely formatted and high-quality
    in general.
  prefs: []
  type: TYPE_NORMAL
- en: 'Components of the rubric that are relevant are: “Class paper”, “LLM usage is
    documented”, “Prose”, “Commits”, and “Reproducible workflow”. Submit a link to
    your website.***  ***### Paper'
  prefs: []
  type: TYPE_NORMAL
- en: At about this point the *Donaldson* Paper from [Online Appendix F](25-papers.html)
    would be appropriate.
  prefs: []
  type: TYPE_NORMAL
- en: 'Alexander, Monica. 2019\. “Reproducibility in Demographic Research.” [https://www.monicaalexander.com/posts/2019-10-20-reproducibility/](https://www.monicaalexander.com/posts/2019-10-20-reproducibility/).———.
    2021\. “Overcoming Barriers to Sharing Code.” *YouTube*, February. [https://youtu.be/yvM2C6aZ94k](https://youtu.be/yvM2C6aZ94k).Arel-Bundock,
    Vincent. 2024\. *tinytable: Simple and Configurable Tables in “HTML,” “LaTeX,”
    “Markdown,” “Word,” “PNG,” “PDF,” and “Typst” Formats*. [https://vincentarelbundock.github.io/tinytable/](https://vincentarelbundock.github.io/tinytable/).Backus,
    John. 1981\. “The History of FORTRAN I, II, and III.” In *History of Programming
    Languages*, edited by Richard Wexelblat, 25–74\. Academic Press.Barba, Lorena.
    2018\. “Terminologies for Reproducible Research.” [https://arxiv.org/abs/1802.03311](https://arxiv.org/abs/1802.03311).Begley,
    Glenn, and Lee Ellis. 2012\. “Raise Standards for Preclinical Cancer Research.”
    *Nature* 483 (7391): 531--533\. [https://doi.org/10.1038/483531a](https://doi.org/10.1038/483531a).Bengtsson,
    Henrik. 2021\. “A Unifying Framework for Parallel and Distributed Processing in
    R using Futures.” *The R Journal* 13 (2): 208–27\. [https://doi.org/10.32614/RJ-2021-048](https://doi.org/10.32614/RJ-2021-048).Bowers,
    Jake, and Maarten Voors. 2016\. “How to Improve Your Relationship with Your Future
    Self.” *Revista de Ciencia Polı́tica* 36 (3): 829–48\. [https://doi.org/10.4067/S0718-090X2016000300011](https://doi.org/10.4067/S0718-090X2016000300011).Brown,
    Zack. 2018\. “A Git Origin Story.” *Linux Journal*, July. [https://www.linuxjournal.com/content/git-origin-story](https://www.linuxjournal.com/content/git-origin-story).Bryan,
    Jenny. 2018a. “Excuse Me, Do You Have a Moment to Talk about Version Control?”
    *The American Statistician* 72 (1): 20–27\. [https://doi.org/10.1080/00031305.2017.1399928](https://doi.org/10.1080/00031305.2017.1399928).———.
    2018b. “Code Smells and Feels.” *YouTube*, July. [https://youtu.be/7oyiPBjLAWY](https://youtu.be/7oyiPBjLAWY).———.
    2020\. *Happy Git and GitHub for the useR*. [https://happygitwithr.com](https://happygitwithr.com).Bryan,
    Jenny, and Jim Hester. 2020\. *What They Forgot to Teach You About R*. [https://rstats.wtf/index.html](https://rstats.wtf/index.html).Bryan,
    Jenny, Jim Hester, David Robinson, Hadley Wickham, and Christophe Dervieux. 2022\.
    *reprex: Prepare Reproducible Example Code via the Clipboard*. [https://CRAN.R-project.org/package=reprex](https://CRAN.R-project.org/package=reprex).Buckheit,
    Jonathan, and David Donoho. 1995\. “Wavelab and Reproducible Research.” In *Wavelets
    and Statistics*, 55–81\. Springer. [https://doi.org/10.1007/978-1-4612-2544-7_5](https://doi.org/10.1007/978-1-4612-2544-7_5).Burton,
    Jason, Nicole Cruz, and Ulrike Hahn. 2021\. “Reconsidering Evidence of Moral Contagion
    in Online Social Networks.” *Nature Human Behaviour* 5 (12): 1629–35\. [https://doi.org/10.1038/s41562-021-01133-5](https://doi.org/10.1038/s41562-021-01133-5).Chawla,
    Dalmeet Singh. 2020\. “Critiqued Coronavirus Simulation Gets Thumbs up from Code-Checking
    Efforts.” *Nature* 582: 323–24\. [https://doi.org/10.1038/d41586-020-01685-y](https://doi.org/10.1038/d41586-020-01685-y).Chouldechova,
    Alexandra, Diana Benavides-Prado, Oleksandr Fialko, and Rhema Vaithianathan. 2018\.
    “A Case Study of Algorithm-Assisted Decision Making in Child Maltreatment Hotline
    Screening Decisions.” In *Proceedings of the 1st Conference on Fairness, Accountability
    and Transparency*, edited by Sorelle Friedler and Christo Wilson, 81:134–48\.
    Proceedings of Machine Learning Research. [https://proceedings.mlr.press/v81/chouldechova18a.html](https://proceedings.mlr.press/v81/chouldechova18a.html).Cohen,
    Jason, Steven Teleki, and Eric Brown. 2006\. *Best Kept Secrets of Peer Code Review*.
    Smart Bear Incorporated.Csárdi, Gábor. 2022\. *gitcreds: Query “git” Credentials
    from “R”*. [https://CRAN.R-project.org/package=gitcreds](https://CRAN.R-project.org/package=gitcreds).Dolatsara,
    Hamidreza Ahady, Ying-Ju Chen, Robert Leonard, Fadel Megahed, and Allison Jones-Farmer.
    2021\. “Explaining Predictive Model Performance: An Experimental Study of Data
    Preparation and Model Choice.” *Big Data*, October. [https://doi.org/10.1089/big.2021.0067](https://doi.org/10.1089/big.2021.0067).Eghbal,
    Nadia. 2020\. *Working in Public: The Making and Maintenance of Open Source Software*.
    California: Stripe Press.Feldman, Gilad. 2024\. *RRR Assessment Peer Review*.
    [https://mgto.org/rrrassessmentreviewtemplate](https://mgto.org/rrrassessmentreviewtemplate).Fowler,
    Martin, and Kent Beck. 2018\. *Refactoring: Improving the Design of Existing Code*.
    2nd ed. New York: Addison-Wesley Professional.Gelfand, Sharla. 2021\. “Make a
    ReprEx... Please.” *YouTube*, February. [https://youtu.be/G5Nm-GpmrLw](https://youtu.be/G5Nm-GpmrLw).Gelman,
    Andrew. 2016\. “What has happened down here is the winds have changed,” September.
    [https://statmodeling.stat.columbia.edu/2016/09/21/what-has-happened-down-here-is-the-winds-have-changed/](https://statmodeling.stat.columbia.edu/2016/09/21/what-has-happened-down-here-is-the-winds-have-changed/).Gelman,
    Andrew, Greggor Mattson, and Daniel Simpson. 2018\. “Gaydar and the Fallacy of
    Decontextualized Measurement.” *Sociological Science* 5 (12): 270–80\. [https://doi.org/10.15195/v5.a12](https://doi.org/10.15195/v5.a12).Google.
    2022\. “What to Look for in a Code Review.” Google Engineering Practices Documentation.
    [https://google.github.io/eng-practices/review/reviewer/looking-for.html](https://google.github.io/eng-practices/review/reviewer/looking-for.html).Heil,
    Benjamin, Michael Hoffman, Florian Markowetz, Su-In Lee, Casey Greene, and Stephanie
    Hicks. 2021\. “Reproducibility Standards for Machine Learning in the Life Sciences.”
    *Nature Methods* 18 (10): 1132–35\. [https://doi.org/10.1038/s41592-021-01256-7](https://doi.org/10.1038/s41592-021-01256-7).Herndon,
    Thomas, Michael Ash, and Robert Pollin. 2014\. “Does High Public Debt Consistently
    Stifle Economic Growth? A Critique of Reinhart and Rogoff.” *Cambridge Journal
    of Economics* 38 (2): 257–79\. [https://doi.org/10.1093/cje/bet075](https://doi.org/10.1093/cje/bet075).Hester,
    Jim, Florent Angly, Russ Hyde, Michael Chirico, Kun Ren, Alexander Rosenstock,
    and Indrajeet Patil. 2022\. *lintr: A “Linter” for R Code*. [https://CRAN.R-project.org/package=lintr](https://CRAN.R-project.org/package=lintr).Hillel,
    Wayne. 2017\. *How Do We Trust Our Science Code?* [https://www.hillelwayne.com/how-do-we-trust-science-code/](https://www.hillelwayne.com/how-do-we-trust-science-code/).Irving,
    Damien, Kate Hertweck, Luke Johnston, Joel Ostblom, Charlotte Wickham, and Greg
    Wilson. 2021\. *Research Software Engineering with Python*. Chapman; Hall/CRC.Isaacson,
    Walter. 2011\. *Steve Jobs*. 1st ed. Simon & Schuster.Kleiber, Christian, and
    Achim Zeileis. 2008\. *Applied Econometrics with R*. New York: Springer-Verlag.
    [https://CRAN.R-project.org/package=AER](https://CRAN.R-project.org/package=AER).Knuth,
    Donald. 1984\. “Literate Programming.” *The Computer Journal* 27 (2): 97–111\.
    [https://doi.org/10.1093/comjnl/27.2.97](https://doi.org/10.1093/comjnl/27.2.97).Landau,
    William Michael. 2021\. “The targets R Package: A Dynamic Make-Like Function-Oriented
    Pipeline Toolkit for Reproducibility and High-Performance Computing.” *Journal
    of Open Source Software* 6 (57): 2959\. [https://doi.org/10.21105/joss.02959](https://doi.org/10.21105/joss.02959).Maier,
    Maximilian, František Bartoš, Tom Stanley, David Shanks, Adam Harris, and Eric-Jan
    Wagenmakers. 2022\. “No Evidence for Nudging After Adjusting for Publication Bias.”
    *Proceedings of the National Academy of Sciences* 119 (31): e2200300119\. [https://doi.org/10.1073/pnas.2200300119](https://doi.org/10.1073/pnas.2200300119).Marlowe,
    Christopher. 1604\. *The Tragical History of Doctor Faustus*. [https://www.gutenberg.org/files/779/779-h/779-h.htm](https://www.gutenberg.org/files/779/779-h/779-h.htm).———.
    1616\. *The Tragical History of Doctor Faustus*. [https://www.gutenberg.org/cache/epub/811/pg811-images.html](https://www.gutenberg.org/cache/epub/811/pg811-images.html).Matsumoto,
    Yukihiro. 2007\. “Treating Code as an Essay.” In *Beautiful Code*, edited by Andy
    Oram and Greg Wilson, 477–81\. O’Reilly.Mattson, Greggor. 2017\. “Artificial Intelligence
    Discovers Gayface. Sigh.” [https://greggormattson.com/2017/09/09/artificial-intelligence-discovers-gayface/amp/](https://greggormattson.com/2017/09/09/artificial-intelligence-discovers-gayface/amp/).Merali,
    Zeeya. 2010\. “Computational Science:... Error.” *Nature* 467 (7317): 775–77\.
    [https://doi.org/10.1038/467775a](https://doi.org/10.1038/467775a).Mineault, Patrick,
    and The Good Research Code Handbook Community. 2021\. “The Good Research Code
    Handbook.” [https://doi.org/10.5281/zenodo.5796873](https://doi.org/10.5281/zenodo.5796873).Minsky,
    Yaron. 2011\. “OCaml for the masses.” *Communications of the ACM* 54 (11): 53–58\.
    [https://doi.org/10.1145/2018396.2018413](https://doi.org/10.1145/2018396.2018413).———.
    2015\. “Automated Trading and OCaml with Yaron Minsky.” *Hackers — Software Engineering
    Daily*, November. [https://softwareengineeringdaily.com/2015/11/09/automated-trading-and-ocaml-with-yaron-minsky/](https://softwareengineeringdaily.com/2015/11/09/automated-trading-and-ocaml-with-yaron-minsky/).Miyakawa,
    Tsuyoshi. 2020\. “No Raw Data, No Science: Another Possible Source of the Reproducibility
    Crisis.” *Molecular Brain* 13 (1): 1–6\. [https://doi.org/10.1186/s13041-020-0552-2](https://doi.org/10.1186/s13041-020-0552-2).Mullard,
    Asher. 2021\. “Half of Top Cancer Studies Fail High-Profile Reproducibility Effort.”
    *Nature* 600 (7889): 368--369\. [https://doi.org/10.1038/d41586-021-03691-0](https://doi.org/10.1038/d41586-021-03691-0).Müller,
    Kirill, and Lorenz Walthert. 2022\. *styler: Non-Invasive Pretty Printing of R
    Code*. [https://CRAN.R-project.org/package=styler](https://CRAN.R-project.org/package=styler).Murphy,
    Heather. 2017\. “Why Stanford Researchers Tried to Create a ‘Gaydar’ Machine.”
    *The New York Times*, October. [https://www.nytimes.com/2017/10/09/science/stanford-sexual-orientation-study.html](https://www.nytimes.com/2017/10/09/science/stanford-sexual-orientation-study.html).National
    Academies of Sciences, Engineering, and Medicine. 2019\. *Reproducibility and
    Replicability in Science*. 1st ed. National Academies Press. [https://doi.org/10.17226/25303](https://doi.org/10.17226/25303).Perkel,
    Jeffrey. 2023\. “The Sleight-of-Hand Trick That Can Simplify Scientific Computing.”
    *Nature* 617 (7959): 212--213\. [https://doi.org/10.1038/d41586-023-01469-0](https://doi.org/10.1038/d41586-023-01469-0).Pineau,
    Joelle, Philippe Vincent-Lamarre, Koustuv Sinha, Vincent Larivière, Alina Beygelzimer,
    Florence d’Alché-Buc, Emily Fox, and Hugo Larochelle. 2021\. “Improving Reproducibility
    in Machine Learning Research (a Report from the NeurIPS 2019 Reproducibility Program).”
    *Journal of Machine Learning Research* 22 (164): 1–20\. [http://jmlr.org/papers/v22/20-303.html](http://jmlr.org/papers/v22/20-303.html).R
    Core Team. 2024\. *R: A Language and Environment for Statistical Computing*. Vienna,
    Austria: R Foundation for Statistical Computing. [https://www.R-project.org/](https://www.R-project.org/).Rilke,
    Rainer Maria. (1929) 2014\. *Letters to a Young Poet*. Penguin Classics.Romer,
    Paul. 2018\. “Jupyter, Mathematica, and the Future of the Research Paper,” April.
    [https://paulromer.net/jupyter-mathematica-and-the-future-of-the-research-paper/](https://paulromer.net/jupyter-mathematica-and-the-future-of-the-research-paper/).Sadowski,
    Caitlin, Emma Söderberg, Luke Church, Michal Sipko, and Alberto Bacchelli. 2018\.
    “Modern Code Review: A Case Study at Google.” In *Proceedings of the 40th International
    Conference on Software Engineering: Software Engineering in Practice*, 181–90\.
    ICSE-SEIP ’18\. New York, NY, USA: Association for Computing Machinery. [https://doi.org/10.1145/3183519.3183525](https://doi.org/10.1145/3183519.3183525).Silver,
    Nate. 2020\. “We Fixed an Issue with How Our Primary Forecast Was Calculating
    Candidates’ Demographic Strengths.” *FiveThirtyEight*, February. [https://fivethirtyeight.com/features/we-fixed-a-mistake-in-how-our-primary-forecast-was-calculating-candidates-demographic-strengths/](https://fivethirtyeight.com/features/we-fixed-a-mistake-in-how-our-primary-forecast-was-calculating-candidates-demographic-strengths/).Simpkinson,
    Scott. 1971\. “Testing to Ensure Mission Success.” In *What Made Apollo a Success*,
    edited by NASA, 21–29.Somers, James. 2018\. “The Scientific Paper Is Obsolete.”
    *The Atlantic*, April. [https://www.theatlantic.com/science/archive/2018/04/the-scientific-paper-is-obsolete/556676/](https://www.theatlantic.com/science/archive/2018/04/the-scientific-paper-is-obsolete/556676/).Sprint,
    Gina, and Jason Conci. 2019\. “Mining GitHub Classroom Commit Behavior in Elective
    and Introductory Computer Science Courses.” *Journal of Computing Sciences in
    Colleges* 35 (1): 76–84.Sunstein, Cass, and Lucia Reisch. 2017\. *The Economics
    of Nudge*. Routledge.Szaszi, Barnabas, Anthony Higney, Aaron Charlton, Andrew
    Gelman, Ignazio Ziano, Balazs Aczel, Daniel Goldstein, David Yeager, and Elizabeth
    Tipton. 2022\. “No Reason to Expect Large and Consistent Effects of Nudge Interventions.”
    *Proceedings of the National Academy of Sciences* 119 (31): e2200732119\. [https://doi.org/10.1073/pnas.2200732119](https://doi.org/10.1073/pnas.2200732119).Trisovic,
    Ana, Matthew Lau, Thomas Pasquier, and Mercè Crosas. 2022\. “A Large-Scale Study
    on Research Code Quality and Execution.” *Scientific Data* 9 (1). [https://doi.org/10.1038/s41597-022-01143-6](https://doi.org/10.1038/s41597-022-01143-6).Ushey,
    Kevin. 2022\. *renv: Project Environments*. [https://CRAN.R-project.org/package=renv](https://CRAN.R-project.org/package=renv).Vidoni,
    Melina. 2021\. “Evaluating Unit Testing Practices in R Packages.” In *2021 IEEE/ACM
    43rd International Conference on Software Engineering (ICSE)*, 1523–34\. [https://doi.org/10.1109/ICSE43902.2021.00136](https://doi.org/10.1109/ICSE43902.2021.00136).Wang,
    Yilun, and Michal Kosinski. 2018\. “Deep Neural Networks Are More Accurate Than
    Humans at Detecting Sexual Orientation from Facial Images.” *Journal of Personality
    and Social Psychology* 114 (2): 246–57\. [https://doi.org/10.1037/pspa0000098](https://doi.org/10.1037/pspa0000098).Wickham,
    Hadley. 2021\. *The Tidyverse Style Guide*. [https://style.tidyverse.org/index.html](https://style.tidyverse.org/index.html).Wickham,
    Hadley, Mara Averick, Jenny Bryan, Winston Chang, Lucy D’Agostino McGowan, Romain
    François, Garrett Grolemund, et al. 2019\. “Welcome to the Tidyverse.” *Journal
    of Open Source Software* 4 (43): 1686\. [https://doi.org/10.21105/joss.01686](https://doi.org/10.21105/joss.01686).Wickham,
    Hadley, Jennifer Bryan, and Malcolm Barrett. 2022\. *usethis: Automate Package
    and Project Setup*. [https://CRAN.R-project.org/package=usethis](https://CRAN.R-project.org/package=usethis).Wilson,
    Greg, Jenny Bryan, Karen Cranston, Justin Kitzes, Lex Nederbragt, and Tracy Teal.
    2017\. “Good Enough Practices in Scientific Computing.” *PLOS Computational Biology*
    13 (6): 1–20\. [https://doi.org/10.1371/journal.pcbi.1005510](https://doi.org/10.1371/journal.pcbi.1005510).Xie,
    Yihui. 2019\. “TinyTeX: A lightweight, cross-platform, and easy-to-maintain LaTeX
    distribution based on TeX Live.” *TUGboat*, no. 1: 30–32\. [https://tug.org/TUGboat/Contents/contents40-1.html](https://tug.org/TUGboat/Contents/contents40-1.html).********
    **** * *'
  prefs: []
  type: TYPE_NORMAL
- en: There are always a small number of students who struggle with getting the PDF
    set up locally. Worst case, do everything else locally as a html, then build the
    PDF in Posit Cloud.[↩︎](#fnref1)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: If you have hidden your GitHub email then make sure you use the alias when you
    add an email address locally.[↩︎](#fnref2)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: There will always be a few students that cannot get git working locally. I find
    the best approach is to triage by pairing them with an advanced student while
    you demonstrate, and if there are remaining issues then deal with them individually
    at an office hour.[↩︎](#fnref3)***************
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
