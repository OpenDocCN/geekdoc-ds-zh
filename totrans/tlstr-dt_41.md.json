["```py\nlibrary(analogsea)\nlibrary(plumber)\nlibrary(plumberDeploy)\nlibrary(remotes)\nlibrary(ssh)\nlibrary(tidymodels)\nlibrary(tidyverse)\n```", "```py\n#* @get /print_toronto\nprint_toronto <- function() {\n result <- \"Hello Toronto\"\n return(result)\n}\n```", "```py\nset.seed(853)\n\nnumber_of_observations <- 1000\n\nbaby_sleep <-\n tibble(\n afternoon_nap_length = rnorm(number_of_observations, 120, 5) |> abs(),\n noise = rnorm(number_of_observations, 0, 120),\n night_sleep_length = afternoon_nap_length * 4 + noise,\n )\n\nbaby_sleep |>\n ggplot(aes(x = afternoon_nap_length, y = night_sleep_length)) +\n geom_point(alpha = 0.5) +\n labs(\n x = \"Baby's afternoon nap length (minutes)\",\n y = \"Baby's overnight sleep length (minutes)\"\n ) +\n theme_classic()\n```", "```py\nset.seed(853)\n\nbaby_sleep_split <- initial_split(baby_sleep, prop = 0.80)\nbaby_sleep_train <- training(baby_sleep_split)\nbaby_sleep_test <- testing(baby_sleep_split)\n\nmodel <-\n linear_reg() |>\n set_engine(engine = \"lm\") |>\n fit(\n night_sleep_length ~ afternoon_nap_length,\n data = baby_sleep_train\n )\n\nwrite_rds(x = model, file = \"baby_sleep.rds\")\n```", "```py\nlibrary(plumber)\n\nserve_model <- plumb(\"plumber.R\")\nserve_model$run(port = 8000)\n```", "```py\nlibrary(plumber)\nlibrary(tidyverse)\n\nmodel <- readRDS(\"baby_sleep.rds\")\n\nversion_number <- \"0.0.1\"\n\nvariables <-\n list(\n afternoon_nap_length = \"A value in minutes, likely between 0 and 240.\",\n night_sleep_length = \"A forecast, in minutes, likely between 0 and 1000.\"\n )\n\n#* @param afternoon_nap_length\n#* @get /survival\npredict_sleep <- function(afternoon_nap_length = 0) {\n afternoon_nap_length <- as.integer(afternoon_nap_length)\n\n payload <- data.frame(afternoon_nap_length = afternoon_nap_length)\n\n prediction <- predict(model, payload)\n\n result <- list(\n input = list(payload),\n response = list(\"estimated_night_sleep\" = prediction),\n status = 200,\n model_version = version_number\n )\n\n return(result)\n}\n```", "```py\naccount()\n```", "```py\nkey_create()\n```", "```py\nssh_key_info()\n```", "```py\ndroplets()\n```", "```py\nid <- do_provision(example = FALSE)\n```", "```py\ninstall_r_package(\n droplet = id,\n c(\n \"plumber\",\n \"remotes\",\n \"here\"\n )\n)\n\ndebian_apt_get_install(\n id,\n \"libssl-dev\",\n \"libsodium-dev\",\n \"libcurl4-openssl-dev\"\n)\n\ndebian_apt_get_install(\n id,\n \"libxml2-dev\"\n)\n\ninstall_r_package(\n id,\n c(\n \"config\",\n \"httr\",\n \"urltools\",\n \"plumber\"\n )\n)\n\ninstall_r_package(id, c(\"xml2\"))\ninstall_r_package(id, c(\"tidyverse\"))\ninstall_r_package(id, c(\"tidymodels\"))\n```", "```py\ndo_deploy_api(\n droplet = id,\n path = \"example\",\n localPath = getwd(),\n port = 8000,\n docs = TRUE,\n overwrite = TRUE\n)\n```"]